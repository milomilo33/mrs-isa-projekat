(function(t){function e(e){for(var s,i,n=e[0],l=e[1],c=e[2],m=0,u=[];m<n.length;m++)i=n[m],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&u.push(o[i][0]),o[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(u.length)u.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,n=1;n<a.length;n++){var l=a[n];0!==o[l]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},o={app:0},r=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0459":function(t,e,a){},"0484":function(t,e,a){},"04b7":function(t,e,a){},"0645":function(t,e,a){},"0774":function(t,e,a){"use strict";a("c138")},"0813":function(t,e,a){},"0b96":function(t,e,a){"use strict";a("ae25")},"0c5f":function(t,e,a){},1190:function(t,e,a){t.exports=a.p+"img/patient.d40830f2.jpg"},"14a8":function(t,e,a){"use strict";a("1848")},"153f":function(t,e,a){},1848:function(t,e,a){},"1af8":function(t,e,a){},"1df4":function(t,e,a){"use strict";a("7105")},"207b":function(t,e,a){"use strict";a("43b8")},"208d":function(t,e,a){"use strict";a("9592")},"20c2":function(t,e,a){},21067:function(t,e,a){t.exports=a.p+"img/doctors.f456a3f7.jpg"},"23af":function(t,e,a){"use strict";a("8a3d")},"25ef":function(t,e,a){},"2ba0":function(t,e,a){"use strict";a("04b7")},"2da5":function(t,e,a){},"2e44":function(t,e,a){},3011:function(t,e,a){"use strict";a("8e3d")},3025:function(t,e,a){"use strict";a("bdaf")},3255:function(t,e,a){"use strict";a("6957")},"32de":function(t,e,a){"use strict";a("891e")},3610:function(t,e,a){},"43b8":function(t,e,a){},4519:function(t,e,a){"use strict";a("0813")},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d833","./ar-tn.js":"6d833","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf755","./tlh.js":"cf755","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(t){var e=r(t);return a(e)}function r(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}o.keys=function(){return Object.keys(s)},o.resolve=r,t.exports=o,o.id="4678"},4679:function(t,e,a){"use strict";a("0484")},"4b25":function(t,e,a){},"4c8f":function(t,e,a){"use strict";a("cd77")},"4e2b":function(t,e,a){"use strict";a("6284")},"52b0":function(t,e,a){},"54c6":function(t,e,a){"use strict";a("b44e")},"55bd":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s,o=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("div",{attrs:{id:"content-wrapper"}},[a("router-view")],1),a("Footer")],1)},i=[],n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-md-6"},[a("hr",{staticClass:"light"}),a("h5",[t._v("Tim")]),a("hr",{staticClass:"light"}),a("p",[t._v("Dragana Filipovic")]),a("p",[t._v("Nikolina Tosic")]),a("p",[t._v("Milovan Milovanovic")]),a("p",[t._v("Marko Suljak")])]),a("div",{staticClass:"col-md-6"},[a("hr",{staticClass:"light"}),a("h5",[t._v("Contact")]),a("hr",{staticClass:"light"}),a("p",[t._v("filipovic.dada@gmail.com")]),a("p",[t._v("nikolinatosic999@gmail.com")]),a("p",[t._v("milovanovicm309@gmail.com")]),a("p",[t._v("marko.suljak80@gmail.com")])])])])])}],c=(a("4519"),a("2877")),d={},m=Object(c["a"])(d,n,l,!1,null,"162da1aa",null),u=m.exports,p={name:"App",components:{Footer:u}},h=p,f=(a("8307"),Object(c["a"])(h,r,i,!1,null,"511efdff",null)),b=f.exports,v=a("bc3a"),g=a.n(v),y=a("2106"),k=a.n(y),w=(a("1276"),a("ac1f"),a("caad"),a("2532"),a("8c4f")),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"PharmacyPreview"}},[a("PharmacyBasicInfo"),a("hr"),a("b-container",[a("b-row",{staticClass:"pl-2 pb-1",attrs:{"align-h":"start"}},[a("b-button",{attrs:{size:"lg",variant:"light",href:"#"}},[t._v(" All medicaments ")])],1),t._l(this.medicaments,(function(t){return a("b-row",{key:t.id,staticClass:"med"},[a("MedicamentPreview",{attrs:{medicament:t}})],1)}))],2),a("hr"),a("b-container",[a("b-row",{staticClass:"pl-2 pb-1",attrs:{"align-h":"start"}},[a("b-button",{attrs:{size:"lg",variant:"light",href:"#"}},[t._v(" All Employees ")])],1),a("br"),a("b-row",[a("div",{staticClass:"d-flex justify-content-center align-items-center container "},[a("b-form",{attrs:{inline:""}},[a("b-form-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"name",name:"name",placeholder:"Name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("b-form-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"lastName",name:"lastName",placeholder:"Last name"},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}}),a("b-button",{staticClass:"mb-2 mr-sm-2 mb-sm-0",on:{click:t.onSubmit}},[t._v("Search")])],1)],1)]),a("br"),t._l(this.employees,(function(t){return a("b-row",{key:t.id,staticClass:"empl"},[a("EmployeeCard",{attrs:{employee:t}})],1)}))],2),a("br")],1)},C=[],A=(a("4c53"),a("b0c0"),a("a6f4")),S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"pharmacy-basic-info"}},[s("b-container",[s("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showRatingAlert,callback:function(e){t.showRatingAlert=e},expression:"showRatingAlert"}},[t._v(" Success! You gave this pharmacy "+t._s(t.rating)+" stars. ")]),s("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showSuccessAlert,callback:function(e){t.showSuccessAlert=e},expression:"showSuccessAlert"}},[t._v(" Success! You subscribed to "+t._s(t.pharmacy.name)+". ")]),s("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showFailedAlert,callback:function(e){t.showFailedAlert=e},expression:"showFailedAlert"}},[t._v(" Failed to subscribe. ")]),s("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showSuccessAlertUnsub,callback:function(e){t.showSuccessAlertUnsub=e},expression:"showSuccessAlertUnsub"}},[t._v(" Success! You unsubscribed to "+t._s(t.pharmacy.name)+". ")]),s("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showFailedAlertUnsub,callback:function(e){t.showFailedAlertUnsub=e},expression:"showFailedAlertUnsub"}},[t._v(" Failed to unsubscribe. ")]),s("b-row",[s("b-col",{staticClass:"col-sm-12 col-md-4 col-lg-4",attrs:{cols:"4"}},[s("img",{staticClass:"img",attrs:{src:a("d252"),alt:""}})]),s("b-col",{attrs:{cols:"8","align-v":"start"}},[s("b-container",[s("b-row",[s("h1",[t._v(t._s(t.pharmacy.name))]),t.sub?s("b-button",{staticClass:"buttons",attrs:{variant:"success",size:"sm"},on:{click:t.subscribe}},[t._v("Subscribe")]):t._e(),t.unsub?s("b-button",{staticClass:"buttons",attrs:{variant:"outline-success",size:"sm"},on:{click:t.unsubscribe}},[t._v(" Unsubscribe")]):t._e(),"ROLE_PATIENT"===t.role?s("b-col",{staticClass:"rate",staticStyle:{"margin-right":"auto"}},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rating,expression:"rating",modifiers:{number:!0}}],attrs:{type:"radio",id:"star5",name:"rate",value:"5"},domProps:{checked:t._q(t.rating,t._n("5"))},on:{click:function(e){return t.postRating(5)},change:function(e){t.rating=t._n("5")}}}),s("label",{attrs:{for:"star5",title:"text"}}),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rating,expression:"rating",modifiers:{number:!0}}],attrs:{type:"radio",id:"star4",name:"rate",value:"4"},domProps:{checked:t._q(t.rating,t._n("4"))},on:{click:function(e){return t.postRating(4)},change:function(e){t.rating=t._n("4")}}}),s("label",{attrs:{for:"star4",title:"text"}}),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rating,expression:"rating",modifiers:{number:!0}}],attrs:{type:"radio",id:"star3",name:"rate",value:"3"},domProps:{checked:t._q(t.rating,t._n("3"))},on:{click:function(e){return t.postRating(3)},change:function(e){t.rating=t._n("3")}}}),s("label",{attrs:{for:"star3",title:"text"}}),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rating,expression:"rating",modifiers:{number:!0}}],attrs:{type:"radio",id:"star2",name:"rate",value:"2"},domProps:{checked:t._q(t.rating,t._n("2"))},on:{click:function(e){return t.postRating(2)},change:function(e){t.rating=t._n("2")}}}),s("label",{attrs:{for:"star2",title:"text"}}),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rating,expression:"rating",modifiers:{number:!0}}],attrs:{type:"radio",id:"star1",name:"rate",value:"1"},domProps:{checked:t._q(t.rating,t._n("1"))},on:{click:function(e){return t.postRating(1)},change:function(e){t.rating=t._n("1")}}}),s("label",{attrs:{for:"star1",title:"text"}})]):t._e(),"ROLE_PHARMACY_ADMIN"===t.role?s("b-col",{staticClass:"rate",staticStyle:{"margin-right":"auto"}},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rating,expression:"rating",modifiers:{number:!0}}],attrs:{type:"radio",id:"star5",name:"rate",value:"5",disabled:"true/"},domProps:{checked:t._q(t.rating,t._n("5"))},on:{change:function(e){t.rating=t._n("5")}}}),s("label",{attrs:{for:"star5",title:"text"}}),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rating,expression:"rating",modifiers:{number:!0}}],attrs:{type:"radio",id:"star4",name:"rate",value:"4",disabled:"true/"},domProps:{checked:t._q(t.rating,t._n("4"))},on:{change:function(e){t.rating=t._n("4")}}}),s("label",{attrs:{for:"star4",title:"text"}}),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rating,expression:"rating",modifiers:{number:!0}}],attrs:{type:"radio",id:"star3",name:"rate",value:"3",disabled:"true/"},domProps:{checked:t._q(t.rating,t._n("3"))},on:{change:function(e){t.rating=t._n("3")}}}),s("label",{attrs:{for:"star3",title:"text"}}),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rating,expression:"rating",modifiers:{number:!0}}],attrs:{type:"radio",id:"star2",name:"rate",value:"2",disabled:"true/"},domProps:{checked:t._q(t.rating,t._n("2"))},on:{change:function(e){t.rating=t._n("2")}}}),s("label",{attrs:{for:"star2",title:"text"}}),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rating,expression:"rating",modifiers:{number:!0}}],attrs:{type:"radio",id:"star1",name:"rate",value:"1",disabled:"true/"},domProps:{checked:t._q(t.rating,t._n("1"))},on:{change:function(e){t.rating=t._n("1")}}}),s("label",{attrs:{for:"star1",title:"text"}})]):t._e(),s("b-row")],1),s("b-row",{staticClass:"h-75",staticStyle:{"min-height":"150px","max-height":"150px"},attrs:{cols:"8","align-h":"start"}},[s("p",{staticClass:"text-left"},[t._v(t._s(t.pharmacy.description))])]),s("b-row",{},[s("b-link",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-map",modifiers:{"modal-map":!0}}]},[s("h5",[t._v(t._s(this.addressToString(t.pharmacy.address)))])]),s("b-modal",{attrs:{id:"modal-map","hide-footer":"",size:"xl"}},[[s("MapContainer",{attrs:{coordinates:t.coordinates}})],s("b-button",{staticClass:"mt-4",attrs:{block:""},on:{click:function(e){return t.$bvModal.hide("modal-map")}}},[t._v("Close")])],2)],1)],1)],1)],1)],1)],1)},x=[],M=(a("99af"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"map-root",staticStyle:{width:"100%",height:"500px"}})}),P=[],I=a("a2c7"),D=a("5eee"),N=a("480c"),j=a("d0e9"),F=a("4cdf"),O=a("f403"),E=a("256f"),R=a("6c77"),T=a("6cbf"),$=a("3e6b"),z=a("5831"),B=(a("5bc0"),{name:"MapContainer",components:{},props:{coordinates:Array},data:function(){return{lon:null,lat:null,map:null,markerFeature:null}},mounted:function(){setTimeout(this.initMap,200)},methods:{initMap:function(){console.log(this.coordinates),this.markerFeature=new F["a"]({geometry:new O["a"](E["d"]([this.coordinates[0],this.coordinates[1]]))}),this.markerFeature.setStyle(new R["b"]({image:new T["a"]({scale:1,src:"https://openlayers.org/en/latest/examples/data/icon.png"})}));var t=new $["a"]({source:new z["a"]({features:[this.markerFeature],wrapX:!0}),wrapX:!1});console.log(this.lon,this.lat);var e=E["n"](this.coordinates,"EPSG:4326","EPSG:3857");new D["a"]({target:this.$refs["map-root"],layers:[new N["a"]({source:new j["a"]({wrapX:!1})}),t],view:new I["a"]({zoom:17,center:e})})}}}),L=B,q=Object(c["a"])(L,M,P,!1,null,"78b4faf4",null),Y=q.exports,H={name:"PharmacyBasicInfo",components:{MapContainer:Y},props:{},data:function(){return{sub:"",unsub:"",pharmacy:"",user:null,showSuccessAlert:!1,showFailedAlert:!1,showSuccessAlertUnsub:!1,showFailedAlertUnsub:!1,showRatingAlert:!1,role:"",rating:null,coordinates:[],idp:0}},mounted:function(){var t=this,e=this,a=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).role;e.role=a,e.user=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub;var s=this.$route.params.id;"ROLE_PHARMACY_ADMIN"==a&&void 0===s?e.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacyAdmin/"+e.user,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(a){var s=t;s.idp=parseInt(a.data.pharmacy.id),e.findPharmacy(s.idp),e.findRating(s.idp)})).catch((function(t){console.log(t)})):this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/pharmacy/".concat(this.$route.params.id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.pharmacy=e.data,t.updateCoordinatesHandler()})).catch((function(t){return console.log(t)})),"ROLE_PATIENT"==a?(this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/patients/subscribedPharmacies/".concat(this.user,",")+parseInt(this.$route.params.id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){"Found"==t.data?(e.sub=!1,e.unsub=!0):(e.sub=!0,e.unsub=!1)})),this.getRatingOfUser()):(e.sub=!1,e.unsub=!1)},methods:{getRatingOfUser:function(){var t=this,e=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/patients/get_rating/".concat(e,"/").concat(this.$route.params.id,"/pharmacy")).then((function(e){return t.rating=e.data})).catch((function(t){return console.log(t)}))},postRating:function(t){var e=this;this.rating=t,console.log(this.rating),this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/patients/rating",{rateType:0,ratedEntityId:this.$route.params.id,rating:this.rating,patientEmail:JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(){return e.showRatingAlert=!0})).catch((function(t){return console.log(t.response.data)}))},updateCoordinatesHandler:function(){this.coordinates[0]=this.pharmacy.address.longitude,this.coordinates[1]=this.pharmacy.address.latitude},subscribe:function(){this.showRatingAlert=!1;var t=this;this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/patients/subscribe",{pharmacy:this.pharmacy,user:this.user},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(){t.unsub=!0,t.sub=!1,t.showSuccessAlert=!0})).catch((function(e){console.log(e),t.showFailedAlert=!0}))},unsubscribe:function(){this.showRatingAlert=!1;var t=this;this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/patients/unsubscribe",{pharmacy:this.pharmacy,user:this.user},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(){t.unsub=!1,t.sub=!0,t.showSuccessAlertUnsub=!0})).catch((function(e){console.log(e),t.showFailedAlertUnsub=!0}))},addressToString:function(t){return t.street+" "+t.number+", "+t.city+" "+t.country},findPharmacy:function(t){var e=this;e.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.pharmacy=t.data,e.updateCoordinatesHandler()})).catch((function(t){return console.log(t)}))},findRating:function(){var t=this,e=this;e.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/rating/"+e.idp,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.rating=e.data})).catch((function(t){return console.log(t)}))}}},J=H,U=(a("14a8"),Object(c["a"])(J,S,x,!1,null,"5d037a68",null)),W=U.exports,G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-col",{staticClass:"border pt-2 ml-2",attrs:{"align-h":"start"}},[s("a",{attrs:{href:"#"}},[s("img",{staticClass:"img",attrs:{src:a("5711"),alt:""}})]),s("b-container",{staticClass:"med"},[s("b-row",{staticClass:"pl-1",attrs:{"align-h":"start"}},[s("h4",[t._v("Medicament")])]),s("b-row",{staticClass:"pl-1",attrs:{"align-h":"start"}},[s("p",[t._v("Basic info about the medicament")])]),s("b-row",{staticClass:"pl-1",attrs:{"align-h":"start"}},[s("h5",[t._v("Price: 500.00din")])])],1)],1)},V=[],Q=(a("e7c6"),{}),X=Object(c["a"])(Q,G,V,!1,null,"0bb853c5",null),K=X.exports,Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-col",{staticClass:"border pt-2 ml-2",attrs:{"align-h":"start"}},[s("a",{attrs:{href:"#"}},[s("img",{staticClass:"img",attrs:{src:a("21067"),alt:""}})]),s("b-container",[s("b-row",{staticClass:"pl-1",attrs:{"align-h":"start"}},[s("h4",[t._v(t._s(t.employee.name)+" "+t._s(t.employee.lastName))])]),s("b-row",{staticClass:"pl-1",attrs:{"align-h":"start"}},[s("p",[t._v(t._s(t.employee.e))])]),s("b-row",{staticClass:"pl-1",attrs:{"align-h":"start"}},[s("p",[s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"email"+t.employee.email,expression:"'email' + employee.email"}]},[t._v("About")])],1)])],1),s("b-modal",{attrs:{"content-class":"my-class",id:"email"+this.employee.email,centered:"",title:"Info","header-bg-variant":"dark","header-text-variant":"light","body-bg-variant":"light","body-text-variant":"dark","hide-footer":!0},scopedSlots:t._u([{key:"modal-header",fn:function(e){var a=e.close;return[s("b-col",{attrs:{"align-h":"start"}},[s("b-button",{staticClass:"mt-1",on:{click:function(t){return a()}}},[t._v(" Close ")])],1),"ROLE_PATIENT"===t.role?s("b-col",{staticClass:"rate",staticStyle:{"margin-right":"auto"}},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rating,expression:"rating",modifiers:{number:!0}}],attrs:{type:"radio",id:"star52",name:"rate",value:"5"},domProps:{checked:t._q(t.rating,t._n("5"))},on:{click:function(e){return t.postRatingEmployee(5)},change:function(e){t.rating=t._n("5")}}}),s("label",{attrs:{for:"star52",title:"text"}}),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rating,expression:"rating",modifiers:{number:!0}}],attrs:{type:"radio",id:"star42",name:"rate",value:"4"},domProps:{checked:t._q(t.rating,t._n("4"))},on:{click:function(e){return t.postRatingEmployee(4)},change:function(e){t.rating=t._n("4")}}}),s("label",{attrs:{for:"star42",title:"text"}}),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rating,expression:"rating",modifiers:{number:!0}}],attrs:{type:"radio",id:"star32",name:"rate",value:"3"},domProps:{checked:t._q(t.rating,t._n("3"))},on:{click:function(e){return t.postRatingEmployee(3)},change:function(e){t.rating=t._n("3")}}}),s("label",{attrs:{for:"star32",title:"text"}}),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rating,expression:"rating",modifiers:{number:!0}}],attrs:{type:"radio",id:"star22",name:"rate",value:"2"},domProps:{checked:t._q(t.rating,t._n("2"))},on:{click:function(e){return t.postRatingEmployee(2)},change:function(e){t.rating=t._n("2")}}}),s("label",{attrs:{for:"star22",title:"text"}}),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rating,expression:"rating",modifiers:{number:!0}}],attrs:{type:"radio",id:"star12",name:"rate",value:"1"},domProps:{checked:t._q(t.rating,t._n("1"))},on:{click:function(e){return t.postRatingEmployee(1)},change:function(e){t.rating=t._n("1")}}}),s("label",{attrs:{for:"star12",title:"text"}})]):t._e()]}}])},[s("b-container",{attrs:{fluid:""}},[s("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showRatingAlert,callback:function(e){t.showRatingAlert=e},expression:"showRatingAlert"}},[t._v(" Success! You gave this "+t._s(t.employee.e.toLowerCase())+" "+t._s(t.rating)+" stars. ")]),s("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showFailedAlert,callback:function(e){t.showFailedAlert=e},expression:"showFailedAlert"}},[t._v(" "+t._s(t.message)+" ")]),s("b-row",{staticClass:"mb-1 text-center colorIt"},[s("p",[s("b",{staticClass:"colorHeaders"},[t._v("Name:")]),t._v(" "+t._s(this.employee.name)+" "+t._s(this.employee.lastName)+" ")])]),s("b-row",{staticClass:"mb-1 colorIt"},[s("p",[s("b",{staticClass:"colorHeaders"},[t._v("Phone number:")]),t._v(" "+t._s(this.employee.phoneNumber)+" ")])]),s("b-row",{staticClass:"mb-1 colorIt"},[s("p",[s("b",{staticClass:"colorHeaders"},[t._v("Email:")]),t._v(" "+t._s(this.employee.email)+" ")])]),"ROLE_PATIENT"===t.role?s("b-row",[s("select",{directives:[{name:"model",rawName:"v-model",value:t.app,expression:"app"}],attrs:{id:"mySelect",name:"available_appointments"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.app=e.target.multiple?a:a[0]},function(e){return t.setAppointment(t.app)}]}},t._l(this.employee.appointments,(function(e){return s("option",{key:e.id,staticClass:"med",domProps:{value:e}},[t._v(t._s(t.parseAppointment(e)))])})),0),s("b-button",{staticClass:"ml-2",on:{click:function(e){return t.reserveExamination()}}},[t._v("RezerviÅ¡i izabrani termin")])],1):t._e()],1)],1)],1)},tt=[],et=a("53ca"),at=(a("a15b"),a("fb6a"),a("a9e3"),a("4de4"),{name:"EmployeeCard",props:{employee:Object},mounted:function(){this.role=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).role},data:function(){return{ratings:0,modal:"",show:!1,appointment:null,app:"",role:"",rating:null,showRatingAlert:!1,showFailedAlert:!1,showFailedReserve:!1,message:""}},methods:{getRatingOfUser:function(){var t=this,e=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/patients/get_rating/".concat(e,"/").concat(this.$route.params.id,"/pharmacy")).then((function(e){return t.rating=e.data})).catch((function(t){return console.log(t)}))},postRatingEmployee:function(t){var e=this;this.rating=t,this.showFailedAlert=!1,this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/patients/rating",{rateType:"Pharmacist"===this.employee.e?2:3,ratedEmployeeEmail:this.employee.email,rating:this.rating,patientEmail:JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(){return e.showRatingAlert=!0})).catch((function(){e.showFailedAlert=!0,e.message="You never visited this employee, you cannot rate it!",e.rating=-1}))},parseAppointment:function(t){var e="",a=new Date(t.date[0],t.date[1]-1,t.date[2]),s=new Date;s.setHours(t.termFrom[0]),s.setMinutes(t.termFrom[1]),s.setSeconds(0),s=s.toLocaleTimeString("en-GB").split(":").slice(0,2).join(":");var o=new Date;return o.setHours(t.termTo[0]),o.setMinutes(t.termTo[1]),o.setSeconds(0),o=o.toLocaleTimeString("en-GB").split(":").slice(0,2).join(":"),t.termTo[1]===Number(0)&&t.termTo[1],"0"===t.termFrom[1]&&t.termFrom[1],e=a.toDateString()+" "+s+"-"+o,e},reserveExamination:function(){var t=this;console.log(JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub),console.log(Object(et["a"])(JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub)),this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/patients/reserve_appointment",{patientEmail:JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,appointmentId:this.appointment.id},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e);var a=document.getElementById("mySelect");a.remove(a.selectedIndex),t.employee.appointments=t.employee.appointments.filter((function(e){return e.id!==t.appointment.id})),a.selectedIndex=-1,alert("Rezervacija uspesno izvrsena!")})).catch((function(e){"400"==e.response.status?(t.message=" You have 3 penaults You can't reserve it.",t.showFailedAlert=!0):"403"==e.response.status&&(t.message=" You can't reserve it",t.showFailedAlert=!0)}))},setAppointment:function(t){this.appointment=t,console.log(this.appointment)}}}),st=at,ot=(a("9bfa"),Object(c["a"])(st,Z,tt,!1,null,"0cfa3a43",null)),rt=ot.exports,it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card h-100",staticStyle:{width:"20rem"}},[s("img",{staticClass:"card-img-top",attrs:{src:a("713e"),alt:"..."}}),s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[t._v(t._s(this.medicament.name))]),s("b-card-text",[t._v(" Type: "+t._s(this.medicament.type)+" ")]),s("b-card-text",[t._v(" Rating: "+t._s(this.ratings)+" ")]),s("div",[s("b-button",{on:{click:function(e){return t.seeMore()}}},[t._v("See more")]),this.isAllergic||"ROLE_PATIENT"!==this.type?t._e():s("b-button",{staticClass:"ml-2",attrs:{variant:"success"},on:{click:function(e){return t.addAllergy()}}},[t._v("Add allergy")]),this.isAllergic&&"ROLE_PATIENT"===this.type?s("b-button",{staticClass:"ml-2",attrs:{variant:"danger"},on:{click:function(e){return t.removeAllergy()}}},[t._v("Remove allergy")]):t._e()],1)],1),s("b-modal",{ref:"add-modal",attrs:{"hide-footer":"",title:"Success"}},[s("div",{staticClass:"d-block text-center"},[s("p",[t._v("You added this medication to your list of allergies!")])]),s("b-button",{staticClass:"mt-3",attrs:{variant:"outline-success",block:""},on:{click:t.hideAddModal}},[t._v("Close")])],1),s("b-modal",{ref:"remove-modal",attrs:{"hide-footer":"",title:"Success"}},[s("div",{staticClass:"d-block text-center"},[s("p",[t._v("You removed this medication to your list of allergies!")])]),s("b-button",{staticClass:"mt-3",attrs:{variant:"outline-success",block:""},on:{click:t.hideRemoveModal}},[t._v("Close")])],1)],1)},nt=[],lt=(a("5319"),{name:"MedicamentPreview",props:{medicament:Object,allergies:Array,type:String,prescriptionMode:{type:Boolean,default:!1}},components:{},mounted:function(){var t=this;this.nameM=this.medicament.name,this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/medicaments/ratings/ "+parseInt(this.medicament.id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.ratings=e.data})).catch((function(t){return console.log(t)})),"ROLE_PATIENT"===this.type&&this.checkAllergy()},data:function(){return{ratings:0,modal:"",show:!1,nameM:"",success:!1,isAllergic:!1,role:""}},methods:{checkAllergy:function(){for(var t=0;t<this.allergies.length;t++)this.allergies[t].id===this.medicament.id&&(this.isAllergic=!0)},calculateRating:function(t){for(var e=0,a=0;a<t.lenght;a++)e+=t[a];return e/t.lenght},seeMore:function(){this.prescriptionMode?this.$emit("seeMoreClicked",this.medicament):(this.role=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).role,"ROLE_PATIENT"==this.role?this.$router.replace("/PatientPage/MedicamentInPharmacy/"+this.medicament.id):"ROLE_PHARMACY_ADMIN"==this.role?this.$router.replace("/PharmacyAdminPage/MedicamentInPharmacy/"+this.medicament.id):"ROLE_SYSTEM_ADMIN"==this.role?this.$router.replace("/SystemAdminPage/MedicamentInPharmacy/"+this.medicament.id):"ROLE_DERMATOLOGIST"==this.role?this.$router.replace("/DermatologistPage/MedicamentInPharmacy/"+this.medicament.id):"ROLE_PHARMACIST"==this.role?this.$router.replace("/PharmacistPage/MedicamentInPharmacy/"+this.medicament.id):"ROLE_SUPPLIER"==this.role&&this.$router.replace("/SupplierPage/MedicamentInPharmacy/"+this.medicament.id))},addAllergy:function(){var t=this;this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/patients/add_allergy/",{patientEmail:JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,medicamentId:this.medicament.id},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(){t.showAddModal(),t.isAllergic=!0})).catch((function(t){return alert(t.response.data)})),this.isAllergic=!0},removeAllergy:function(){var t=this;this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/patients/remove_allergy/",{patientEmail:JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,medicamentId:this.medicament.id},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(){t.showRemoveModal(),t.isAllergic=!1})).catch((function(t){return alert(t.response.data)}))},hideAddModal:function(){this.$refs["add-modal"].hide()},showAddModal:function(){this.$refs["add-modal"].show()},hideRemoveModal:function(){this.$refs["remove-modal"].hide()},showRemoveModal:function(){this.$refs["remove-modal"].show()}}}),ct=lt,dt=(a("32de"),Object(c["a"])(ct,it,nt,!1,null,"506fffb4",null)),mt=dt.exports,ut=Object(A["a"])({name:"PharmacyPreview",components:{PharmacyBasicInfo:W,MedicamentCard:K,EmployeeCard:rt,Footer:u,MedicamentPreview:mt},props:{id:Object},data:function(){return{medicaments:[],employees:[],pharmacyId:"",name:"",lastName:"",all:[]}},mounted:function(){console.log("ID",this.id);var t=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,e=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).role,a=this;"ROLE_PHARMACY_ADMIN"==e&&null==a.id?a.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacyAdmin/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){a.pharmacyId=t.data.pharmacy.id,a.FinAll()})).catch((function(t){console.log(t)})):(console.log(a.id),a.pharmacyId=a.id,a.FinAll())},methods:{onSubmit:function(t){if(t){t.preventDefault();for(var e=[],a=0;a<this.all.length;a++){var s=this.all[a].name.toLowerCase(),o=this.all[a].lastName.toLowerCase();s.includes(this.name.toLowerCase())&&o.includes(this.lastName.toLowerCase())&&e.push(this.all[a])}this.employees=[],this.employees=e}},FinAll:function(){var t=this;t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/medicamentItems/"+parseInt(t.pharmacyId),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.length;a++){console.log(e);var s={};s.id=e.data[a].medicament.id,s.name=e.data[a].medicament.name,s.type=e.data[a].medicament.type,s.manufacturer=e.data[a].medicament.manufacturer,s.structure=e.data[a].medicament.structure,s.annotation=e.data[a].medicament.annotation,t.medicaments.push(s)}})),t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/pharmacists/"+parseInt(t.pharmacyId),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.length;a++){for(var s=0,o=0;o<e.data[a].workHours.length;o++)e.data[a].workHours[o].deleted&&s++;if(7!=s){var r={};r.name=e.data[a].name,r.lastName=e.data[a].lastName,r.email=e.data[a].email,r.phoneNumber=e.data[a].phoneNumber,r.address=e.data[a].address.street+" "+e.data[a].address.number+", "+e.data[a].address.city,r.e="Pharmacist",r.appointments=e.data[a].appointments,t.employees.push(r),t.all.push(r)}}})),t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/dermatologists/"+parseInt(t.pharmacyId),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.length;a++){for(var s=0,o=0;o<e.data[a].workHours.length;o++)e.data[a].workHours[o].deleted&&s++;if(7!=s){var r={};r.name=e.data[a].name,r.lastName=e.data[a].lastName,r.email=e.data[a].email,r.phoneNumber=e.data[a].phoneNumber,r.e="Dermatologist",r.address=e.data[a].address.street+" "+e.data[a].address.number+", "+e.data[a].address.city,r.appointments=e.data[a].appointments,t.employees.push(r),t.all.push(r)}}}))}}}),pt=ut,ht=(a("89db"),Object(c["a"])(pt,_,C,!1,null,"17c111f2",null)),ft=ht.exports,bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-navbar",{attrs:{fixed:"top",toggleable:"lg",type:"light",variant:"light"}},[a("b-navbar-brand",{attrs:{href:"/SystemAdminPage/MedicamentList"}},[t._v("Home Page")]),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",[a("b-nav-item",{attrs:{href:"/SystemAdminPage/MedicamentList"}},[t._v("Medicaments")]),a("b-nav-item",{attrs:{href:"/SystemAdminPage/PharmacyList"}},[t._v(" Pharmacies")]),a("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[t._v(" Loyalty Program ")]},proxy:!0}])},[a("b-dropdown-item",{attrs:{href:"/SystemAdminPage/LoyaltyProgram"}},[t._v("Categories Review")]),a("b-dropdown-item",{attrs:{href:"/SystemAdminPage/AddCategory"}},[t._v("Add Category")])],1),a("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[t._v(" User Registration ")]},proxy:!0}])},[a("b-dropdown-item",{attrs:{href:"/SystemAdminPage/PharmacyAdminRegistration"}},[t._v("Pharmacy Admin")]),a("b-dropdown-item",{attrs:{href:"/SystemAdminPage/userRegister/SystemAdmin"}},[t._v("System Admin")]),a("b-dropdown-item",{attrs:{href:"/SystemAdminPage/userRegister/Dermatologist"}},[t._v("Dermatologist")]),a("b-dropdown-item",{attrs:{href:"/SystemAdminPage/userRegister/Supplier"}},[t._v("Supplier")])],1),a("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[t._v(" Complaints ")]},proxy:!0}])},[a("b-dropdown-item",{attrs:{href:"/SystemAdminPage/answeredComplaints"}},[t._v("See all complaints")]),a("b-dropdown-item",{attrs:{href:"/SystemAdminPage/unansweredComplaints"}},[t._v("Write answer")])],1),a("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[t._v(" Medicament CRUD ")]},proxy:!0}])},[a("b-dropdown-item",{attrs:{href:"/SystemAdminPage/MedicamentRegistration"}},[t._v("Medicament Registration")]),a("b-dropdown-item",{attrs:{href:"/SystemAdminPage/CrudMedicament"}},[t._v("Change and delete medicament")])],1),a("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[t._v(" Pharmacy CRUD ")]},proxy:!0}])},[a("b-dropdown-item",{attrs:{href:"/SystemAdminPage/pharmacyRegistration"}},[t._v("Pharmacy Registration")]),a("b-dropdown-item",{attrs:{href:"/SystemAdminPage/deletePharmacy"}},[t._v("View and delete pharmacy")])],1),a("b-nav-item",{attrs:{href:"/SystemAdminPage/Users"}},[t._v("System users")])],1),a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("em",{staticClass:"pl-2"},[t._v("User")])]},proxy:!0}])},[a("b-dropdown-item",{attrs:{href:"/SystemAdminPage/PatientProfile?type=systemAdmin"}},[t._v("Profile")]),a("b-dropdown-item",{attrs:{href:"/SystemAdminPage/ChangePassword"}},[t._v("Change password")]),a("b-dropdown-item",{attrs:{href:"/Logout"}},[t._v("Sign Out")])],1)],1)],1)],1),a("router-view")],1)},vt=[],gt={components:{}},yt=gt,kt=Object(c["a"])(yt,bt,vt,!1,null,null,null),wt=kt.exports,_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cotainer"},[a("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showSuccessAlert,callback:function(e){t.showSuccessAlert=e},expression:"showSuccessAlert"}},[t._v(" Success! You registered a new pharmacy. ")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showFailedAlert,callback:function(e){t.showFailedAlert=e},expression:"showFailedAlert"}},[t._v(" Failed pharmacy registration. ")]),a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("Register Pharmacy")]),a("div",{staticClass:"card-body"},[a("form",{attrs:{name:"my-form"},on:{submit:t.formSubmit}},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"name"}},[t._v("Name")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"name",name:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"description"}},[t._v("Description")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{type:"text",id:"description",name:"description"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"country"}},[t._v("Country")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.country,expression:"country"}],staticClass:"form-control",attrs:{type:"text",id:"country",name:"country"},domProps:{value:t.country},on:{input:function(e){e.target.composing||(t.country=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"city"}},[t._v("City")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.city,expression:"city"}],staticClass:"form-control",attrs:{type:"text",id:"city",name:"city"},domProps:{value:t.city},on:{input:function(e){e.target.composing||(t.city=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"street"}},[t._v("Street")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.street,expression:"street"}],staticClass:"form-control",attrs:{type:"text",id:"street",name:"street"},domProps:{value:t.street},on:{input:function(e){e.target.composing||(t.street=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"number"}},[t._v("Number")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.number,expression:"number"}],staticClass:"form-control",attrs:{type:"number",min:"1",id:"number",name:"number"},domProps:{value:t.number},on:{input:function(e){e.target.composing||(t.number=e.target.value)}}})])]),a("div",{staticClass:"col-md-6 offset-md-4"},[a("p",{staticClass:"show_error"},[t._v(t._s(t.error_message))])]),t._m(0)]),a("div",{staticClass:"col-md-6 offset-md-4"},[a("p",{staticClass:"show_success"},[t._v(t._s(t.success_message))])])])])])])],1)},Ct=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-6 offset-md-4"},[a("button",{staticClass:"btn btn-success"},[t._v("Submit")])])}],At=a("1da1"),St=(a("96cf"),a("a4d3"),a("e01a"),{name:"PharmacyRegistration",mounted:function(){console.log("Component mounted.")},data:function(){return{name:"",description:"",country:"",city:"",street:"",number:0,output:"",error_message:"",success_message:"",showSuccessAlert:!1,showFailedAlert:!1,latitude:0,longitude:0}},methods:{formSubmit:function(t){var e=this;return Object(At["a"])(regeneratorRuntime.mark((function a(){var s,o,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.preventDefault(),s=e,o=e,r=!1,e.name&&!isNaN(e.number)&&e.description&&e.country&&e.city&&e.street||(r=!0,e.error_message="Niste uneli validne podatke!"),a.next=7,e.guessCoordinatesFromLocation();case 7:i=a.sent,console.log(i),0==r&&e.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy",{name:e.name,description:e.description,address:{country:e.country,city:e.city,street:e.street,number:e.number,latitude:e.latitude,longitude:e.longitude}},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){o.output=t.data,s.showSuccessAlert=!0})).catch((function(t){o.output=t,s.showFailedAlert=!0}));case 10:case"end":return a.stop()}}),a)})))()},guessCoordinatesFromLocation:function(){var t=Object(At["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(this.city,this.street,this.number),e="https://nominatim.openstreetmap.org/search/"+this.city+", "+this.street+" "+this.number,t.next=4,this.axios.get(e,{params:{format:"json",limit:1,"accept-language":"en"}}).then((function(t){if(t.data&&0!=t.data.lenght){var e=t.data[0],s=e.lon,o=e.lat;return console.log(s,o),a.longitude=s,a.latitude=o,!0}})).catch((function(){return a.showFailedAlert=!0,!1}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}}),xt=St,Mt=(a("5722"),Object(c["a"])(xt,_t,Ct,!1,null,"236a7f36",null)),Pt=Mt.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cotainer"},[a("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showSuccessAlert,callback:function(e){t.showSuccessAlert=e},expression:"showSuccessAlert"}},[t._v(" Success! You registered a new "+t._s(t.$route.params.userRole)+" '"+t._s(this.email)+"'. ")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showFailedAlert,callback:function(e){t.showFailedAlert=e},expression:"showFailedAlert"}},[t._v(" Failed registration. ")]),a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("Register "+t._s(t.$route.params.userRole))]),a("div",{staticClass:"card-body"},[a("form",{attrs:{name:"my-form"},on:{submit:t.formSubmit}},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"name"}},[t._v("First Name")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"name",name:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"lastName"}},[t._v("Last Name")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.lastName,expression:"lastName"}],staticClass:"form-control",attrs:{type:"text",id:"lastName",name:"lastName"},domProps:{value:t.lastName},on:{input:function(e){e.target.composing||(t.lastName=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"phoneNumber"}},[t._v("Phone Number")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneNumber,expression:"phoneNumber"}],staticClass:"form-control",attrs:{type:"text",id:"phoneNumber",name:"phoneNumber"},domProps:{value:t.phoneNumber},on:{input:function(e){e.target.composing||(t.phoneNumber=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"email"}},[t._v("Email")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",id:"email",name:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"password1"}},[t._v("Password")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password1,expression:"password1"}],staticClass:"form-control",attrs:{type:"password",id:"password1",name:"password1"},domProps:{value:t.password1},on:{input:function(e){e.target.composing||(t.password1=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"password2"}},[t._v("Password")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password2,expression:"password2"}],staticClass:"form-control",attrs:{type:"password",id:"password2",name:"password2"},domProps:{value:t.password2},on:{input:function(e){e.target.composing||(t.password2=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"country"}},[t._v("Country")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.country,expression:"country"}],staticClass:"form-control",attrs:{type:"text",id:"country",name:"country"},domProps:{value:t.country},on:{input:function(e){e.target.composing||(t.country=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"city"}},[t._v("City")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.city,expression:"city"}],staticClass:"form-control",attrs:{type:"text",id:"city",name:"city"},domProps:{value:t.city},on:{input:function(e){e.target.composing||(t.city=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"street"}},[t._v("Street")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.street,expression:"street"}],staticClass:"form-control",attrs:{type:"text",id:"street",name:"street"},domProps:{value:t.street},on:{input:function(e){e.target.composing||(t.street=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"number"}},[t._v("Number")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.number,expression:"number"}],staticClass:"form-control",attrs:{type:"number",min:"1",id:"number",name:"number"},domProps:{value:t.number},on:{input:function(e){e.target.composing||(t.number=e.target.value)}}})])]),a("div",{staticClass:"col-md-6 offset-md-4"},[a("p",{staticClass:"show_error"},[t._v(t._s(t.error_message))])]),t._m(0)])])])])])],1)},Dt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-4 offset-md-4"},[a("button",{staticClass:"btn btn-success"},[t._v("Submit")])])}],Nt={name:"UserRegistration",mounted:function(){console.log("Component mounted.")},data:function(){return{name:"",lastName:"",country:"",city:"",street:"",email:"",password1:"",password2:"",phoneNumber:"",number:0,output:"",error_message:"",showSuccessAlert:!1,showFailedAlert:!1}},methods:{formSubmit:function(t){t.preventDefault();var e=this,a=!1,s="",o=this;this.name&&!isNaN(this.number)&&this.lastName&&this.email&&this.password1&&this.password2&&this.country&&this.city&&this.street||(a=!0,this.error_message="Niste uneli validne podatke!"),this.password2!==this.password1&&(a=!0,this.error_message="Lozinke se ne poklapaju!"),"SystemAdmin"==this.$route.params.userRole?s="https://mrs-isa-projekat-backend.herokuapp.com/api/systemAdmin":"PharmacyAdmin"==this.$route.params.userRole?s="https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacyAdmin":"Dermatologist"==this.$route.params.userRole?s="https://mrs-isa-projekat-backend.herokuapp.com/api/dermatologist":"Supplier"==this.$route.params.userRole&&(s="https://mrs-isa-projekat-backend.herokuapp.com/api/supplier"),0==a&&(this.axios.post(s,{name:this.name,lastName:this.lastName,email:this.email,phoneNumber:this.phoneNumber,password:this.password2,address:{country:this.country,city:this.city,street:this.street,number:this.number}},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.output=t.data,o.showSuccessAlert=!0})).catch((function(t){e.output=t,console.log(t),o.showFailedAlert=!0})),this.success_message="Uspesno ste registrovali korisnika.")}}},jt=Nt,Ft=(a("dd1b"),Object(c["a"])(jt,It,Dt,!1,null,"eb22ab88",null)),Ot=Ft.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"navbar-div",staticStyle:{"margin-bottom":"100px"}},[a("b-navbar",{attrs:{fixed:"top",toggleable:"lg",type:"light",variant:"light"}},[a("b-navbar-brand",{attrs:{href:"/PharmacistPage/PharmacyList"}},[t._v("Home Page")]),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",[a("b-nav-item",{attrs:{href:"/PharmacistPage/MedicamentList"}},[t._v("Medicaments")]),a("b-nav-item",{attrs:{href:"/PharmacistPage/PharmacyList"}},[t._v(" Pharmacies")]),a("b-nav-item-dropdown",{attrs:{left:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[t._v(" Counseling ")]},proxy:!0}])},[a("b-dropdown-item",{attrs:{href:"/PharmacistPage/ExaminationSearch?type=pharmacist"}},[t._v("Start a counseling session")]),a("b-dropdown-item",{attrs:{href:"#"}},[t._v("Schedule a counseling session for a client")]),a("b-dropdown-item",{attrs:{href:"/PharmacistPage/ExaminedPatients?type=pharmacist"}},[t._v("Counseling history")]),a("b-dropdown-item",{attrs:{href:"/PharmacistPage/SearchPatients"}},[t._v("Search patients")])],1),a("b-nav-item",{attrs:{href:"/PharmacistPage/DispenseMedication"}},[t._v("Dispense medication")]),a("b-nav-item",{attrs:{href:"/PharmacistPage/RequestDaysOff?type=pharmacist"}},[t._v("Request days off")])],1),a("b-navbar-nav",{staticClass:"ml-auto"},[a("Search",{attrs:{path:"/PharmacistPage"}}),a("b-nav-item",{staticStyle:{"margin-left":"10px"},attrs:{href:"/PharmacistPage/WorkCalendar?type=pharmacist"}},[a("b-icon-calendar-2-week")],1),a("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("em",{staticClass:"pl-2"},[t._v("User")])]},proxy:!0}])},[a("b-dropdown-item",{attrs:{href:"/PharmacistPage/PatientProfile?type=pharmacist"}},[t._v("Profile")]),a("b-dropdown-item",{attrs:{href:"/PharmacistPage/ChangePassword"}},[t._v("Change password")]),a("b-dropdown-item",{attrs:{href:"/Logout"}},[t._v("Sign Out")])],1)],1)],1)],1)],1),a("router-view")],1)},Rt=[],Tt=a("7386"),$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-nav-form",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"mr-sm-2",attrs:{size:"sm",placeholder:"Search"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),a("b-button",{staticClass:"my-2 my-sm-0",attrs:{size:"sm",type:"submit",href:t.path+"/PharmacyList/"+t.search}},[t._v("Search")])],1)},zt=[],Bt={components:{},props:{search:String,path:String},data:function(){return{pharmacies:""}},methods:{}},Lt=Bt,qt=Object(c["a"])(Lt,$t,zt,!1,null,"4f7e0d0f",null),Yt=qt.exports,Ht={components:{BIconCalendar2Week:Tt["c"],Search:Yt},props:{}},Jt=Ht,Ut=Object(c["a"])(Jt,Et,Rt,!1,null,null,null),Wt=Ut.exports,Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div",attrs:{id:"PharmacyListPreview"}},[a("b-container",[a("div",[a("b-row",{attrs:{fluid:""}},[a("b-col",{attrs:{cols:"8"}},[a("b-form-input",{attrs:{placeholder:"Search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("b-col",{attrs:{cols:"2"}},[a("b-button",{on:{click:t.doSearch}},[t._v("Search")])],1),a("b-col",{attrs:{cols:"2"}},[a("b-button",{on:{click:t.clearAll}},[t._v("Clear")])],1)],1)],1)]),a("br"),a("button",{staticClass:"btn btn-light m-auto",attrs:{type:"button"},on:{click:function(e){t.filter_show=!t.filter_show}}},[t._v("Filter")]),t.filter_show?a("div",[a("PharmacyFilter",{attrs:{allPharmacies:t.all},on:{childToParent:t.filterPharmacies}})],1):t._e(),t.success?t._e():a("div",[a("h4")]),a("div",{staticClass:"ml-4"},[a("PharmacyCard",{attrs:{pharmacies:t.pharmacies}})],1)],1)},Vt=[],Qt=(a("841c"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-container",t._l(this.pharmacies,(function(e){return s("div",{key:e.id},[s("b-container",{staticClass:"pt-2 pb-2"},[s("b-row",{staticClass:"w-100 hover-shadow pt-2 pb-2 border"},[s("b-col",[s("img",{staticClass:"pharmacy_img",attrs:{src:a("d252"),alt:""},on:{click:function(a){return t.seeMore(e)}}})]),s("b-col",{attrs:{lg:"6",md:"4",sm:"4"}},[s("b-row",[s("h1",{staticClass:"text-left"},[t._v(" "+t._s(e.name)+" ")])]),s("b-row",{staticClass:"h-50 mb-4",staticStyle:{"max-height":"110px"}},[s("p",{staticClass:"text-left text"},[t._v(t._s(e.description)+" ")])]),s("b-row",[s("h5",{staticClass:"text-left h5"},[t._v(" "+t._s(t.addressToString(e.address))+" ")])])],1)],1)],1)],1)})),0)}),Xt=[],Kt={name:"PharmacyCard",components:{},props:{pharmacies:Array},methods:{addressToString:function(t){return t.street+" "+t.number+", "+t.city+" "+t.country},seeMore:function(t){console.log(this.$router.currentRoute.path),this.$router.push("PharmacyPreview/"+t.id),console.log(this.$router.currentRoute.path)}}},Zt=Kt,te=(a("23af"),Object(c["a"])(Zt,Qt,Xt,!1,null,"1492a48c",null)),ee=te.exports,ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card m-auto"},[a("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showFailedAlert,callback:function(e){t.showFailedAlert=e},expression:"showFailedAlert"}},[t._v(" No result of given filter. All pharmacies will be shown. ")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showSubscribedAlert,callback:function(e){t.showSubscribedAlert=e},expression:"showSubscribedAlert"}},[t._v(" You are not subscribed to any pharmacy. All pharmacies will be shown. ")]),a("article",{staticClass:"card-group-item"},[a("div",{staticClass:"filter-content"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-row d-flex pt-2"},[a("b-col",{staticClass:"mt-1",attrs:{lg:"2"}},[a("h4",{staticStyle:{"text-align":"right"}},[t._v("Distance: ")])]),a("b-col",{staticClass:"mt-2",attrs:{lg:"1"}},[a("h5",{staticStyle:{"text-align":"right"}},[t._v("Min")])]),a("b-col",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.minDistance,expression:"minDistance"}],staticClass:"form-control",attrs:{type:"number",placeholder:"0 km",min:"0",oninput:"validity.valid || (value='');"},domProps:{value:t.minDistance},on:{input:function(e){e.target.composing||(t.minDistance=e.target.value)}}})]),a("b-col",{staticClass:"mt-2",attrs:{lg:"1"}},[a("h5",{staticStyle:{"text-align":"right"}},[t._v("Max")])]),a("b-col",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.maxDistance,expression:"maxDistance"}],staticClass:"form-control",attrs:{type:"number",placeholder:"0 km",min:"0",oninput:"validity.valid || (value='');"},domProps:{value:t.maxDistance},on:{input:function(e){e.target.composing||(t.maxDistance=e.target.value)}}})])],1),a("div",{staticClass:"d-flex justify-content-start p-2"},[a("b-col",{staticClass:"pt-2",attrs:{lg:"2"}},[a("h4",{staticStyle:{"text-align":"right"}},[t._v("Min rating:")])]),a("b-col",{staticClass:"rate",attrs:{cols:"3","align-h":"start"}},[a("input",{attrs:{type:"radio",id:"star5",name:"rate",value:"5"},on:{click:function(e){t.rating=5}}}),a("label",{attrs:{for:"star5",title:"text"}},[t._v("5 stars")]),a("input",{attrs:{type:"radio",id:"star4",name:"rate",value:"4"},on:{click:function(e){t.rating=4}}}),a("label",{attrs:{for:"star4",title:"text"}},[t._v("4 stars")]),a("input",{attrs:{type:"radio",id:"star3",name:"rate",value:"3"},on:{click:function(e){t.rating=3}}}),a("label",{attrs:{for:"star3",title:"text"}},[t._v("3 stars")]),a("input",{attrs:{type:"radio",id:"star2",name:"rate",value:"2"},on:{click:function(e){t.rating=2}}}),a("label",{attrs:{for:"star2",title:"text"}},[t._v("2 stars")]),a("input",{attrs:{type:"radio",id:"star1",name:"rate",value:"1"},on:{click:function(e){t.rating=1}}}),a("label",{attrs:{for:"star1",title:"text"}},[t._v("1 star")])]),a("b-col",{staticClass:"ml-5 pt-2"},[a("b-form-checkbox",{attrs:{size:"lg",switch:""},model:{value:t.isSubscribed,callback:function(e){t.isSubscribed=e},expression:"isSubscribed"}},[a("h4",[t._v("Only subscribed ")])])],1)],1),a("div",{attrs:{lg:"2"}},[a("button",{staticClass:"btn btn-light",on:{click:function(e){return t.filterPharmacy()}}},[t._v("Apply")])])])])]),t._v(" "),a("article",{staticClass:"card-group-item"})],1)},se=[],oe={setup:function(){},props:{allPharmacies:Array},data:function(){return{minDistance:0,maxDistance:1/0,pharmacyLocation:null,myPosition:null,pharmacies:null,rating:-1,temp:[],showFailedAlert:!1,isSubscribed:!1,showSubscribedAlert:!1}},mounted:function(){var t=this;this.pharmacies=this.allPharmacies,navigator.geolocation.getCurrentPosition((function(e){return t.myPosition=[e.coords.latitude,e.coords.longitude]}))},methods:{checkNegative:function(t){if(!(t.keyCode>95&&t.keyCode<106||t.keyCode>47&&t.keyCode<58||8==t.keyCode))return!1},filterPharmacy:function(){var t=this;return Object(At["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.showFailedAlert=!1,t.temp=[],void 0===t.rating&&(t.rating=-1),void 0===t.minDistance&&(t.minDistance=0),void 0===t.maxDistance&&(t.maxDistance=1/0),t.pharmacies=t.allPharmacies,t.isSubscribed?(console.log("only sub"),a=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub):a=null,-1==t.rating&&null==a){e.next=10;break}return e.next=10,t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/pharmacy/filter/rating=".concat(t.rating,"&subscribed=").concat(a),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log("REPSONSOE: ",e.data),0===e.data.length?(t.showFailedAlert=!0,t.pharmacies=t.allPharmacies,console.log(t.pharmacies)):t.pharmacies=e.data})).catch((function(t){return console.log(t)}));case 10:t.filterByDistance(),t.$emit("childToParent",t.pharmacies);case 12:case"end":return e.stop()}}),e)})))()},filterBySubscription:function(){var t=this;return Object(At["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isSubscribed){e.next=4;break}return a=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,e.next=4,t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/patients/allSubscribed/".concat(a)).then((function(e){0===e.data.length?(t.showFailedAlert=!0,t.pharmacies=t.allPharmacies,console.log(t.pharmacies)):(t.pharmacies=e.data,t.filterByDistance())})).catch((function(t){return console.log(t.data)}));case 4:case"end":return e.stop()}}),e)})))()},filterByDistance:function(){var t;if(this.minDistance>=0&&this.minDistance<=this.maxDistance)for(console.log(this.pharmacies),t=0;t<this.pharmacies.length;t++)this.measureDistance(this.pharmacies[t],t)},measureDistance:function(t,e){var a=t.address.latitude,s=t.address.longitude,o=this.euclideanDistance([a,s],this.myPosition);console.log(this.minDistance,this.maxDistance),o>=this.minDistance&&o<=this.maxDistance&&this.temp.push(t),e===this.pharmacies.length-1&&(0===this.temp.length?(this.pharmacies=this.allPharmacies,this.showFailedAlert=!0):this.pharmacies=this.temp)},euclideanDistance:function(t,e){var a=6371e3,s=t[0]*Math.PI/180,o=e[0]*Math.PI/180,r=(e[0]-t[0])*Math.PI/180,i=(e[1]-t[1])*Math.PI/180,n=Math.sin(r/2)*Math.sin(r/2)+Math.cos(s)*Math.cos(o)*Math.sin(i/2)*Math.sin(i/2),l=2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n)),c=Math.round(a*l)/1e3;return c},updateCoordinatesHandler:function(t){this.pharmacyLocation.x=t[0],this.pharmacyLocation.y=t[1]}}},re=oe,ie=(a("54c6"),Object(c["a"])(re,ae,se,!1,null,"d767afac",null)),ne=ie.exports,le=Object(A["a"])({name:"PharmacyListPreview",components:{PharmacyCard:ee,Search:Yt,PharmacyFilter:ne},data:function(){return{pharmacies:[],all:[],query:null,filter_show:!1,success:!0,search:""}},mounted:function(){var t=this;null===this.query?this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.pharmacies=e.data,t.all=e.data,console.log("ALL",t.all)})).catch((function(t){return console.log(t)})):(console.log(this.query),this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/pharmacy/search/".concat(this.query),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.pharmacies=e.data,t.all=e.data,console.log(t.pharmacies[0].name)})).catch((function(t){return console.log(t)})))},methods:{onChildClick:function(t){var e=this;console.log(t),this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/pharmacy/search/".concat(t),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.pharmacies=t.data})).catch((function(t){return console.log(t)}))},filterPharmacies:function(t){var e=this;0!==t.length?this.pharmacies=t:this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.pharmacies=t.data})).catch((function(t){return console.log(t)})),console.log(t)},doSearch:function(){var t=this;this.axios.get("/api/pharmacy/search/".concat(this.search),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.pharmacies=e.data,console.log(t.pharmacies[0].name)})).catch((function(t){return console.log(t)}))},clearAll:function(){this.pharmacies=this.all,this.search=""}}}),ce=le,de=(a("208d"),Object(c["a"])(ce,Gt,Vt,!1,null,"976d845e",null)),me=de.exports,ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"my-form"},[a("div",{staticClass:"cotainer"},[a("b-modal",{attrs:{id:t.errorModal.id,title:t.errorModal.title,"ok-only":""},on:{ended:t.errModal}},[a("pre",[t._v(t._s(t.errorModal.content))])]),a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("Register Pharmacist")]),a("div",{staticClass:"card-body"},[a("form",{attrs:{name:"myform"},on:{submit:t.formSubmit}},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"email"}},[t._v("Email")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",id:"email",name:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"password"}},[t._v("Password")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",name:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"password_confirmation"}},[t._v("Confirm password")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password_confirmation,expression:"password_confirmation"}],staticClass:"form-control",attrs:{type:"password",id:"password_confirmation",name:"password_confirmation"},domProps:{value:t.password_confirmation},on:{input:function(e){e.target.composing||(t.password_confirmation=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"name"}},[t._v("Name")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"name",name:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"lastName"}},[t._v("Last name")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.lastName,expression:"lastName"}],staticClass:"form-control",attrs:{type:"text",id:"lastName",name:"lastName"},domProps:{value:t.lastName},on:{input:function(e){e.target.composing||(t.lastName=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"phoneNumber"}},[t._v("Phone number")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneNumber,expression:"phoneNumber"}],staticClass:"form-control",attrs:{type:"text",id:"phoneNumber",name:"phoneNumber"},domProps:{value:t.phoneNumber},on:{input:function(e){e.target.composing||(t.phoneNumber=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"country"}},[t._v("Country")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.country,expression:"country"}],staticClass:"form-control",attrs:{type:"text",id:"country",name:"country"},domProps:{value:t.country},on:{input:function(e){e.target.composing||(t.country=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"city"}},[t._v("City")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.city,expression:"city"}],staticClass:"form-control",attrs:{type:"text",id:"city",name:"city"},domProps:{value:t.city},on:{input:function(e){e.target.composing||(t.city=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"street"}},[t._v("Street")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.street,expression:"street"}],staticClass:"form-control",attrs:{type:"text",id:"street",name:"street"},domProps:{value:t.street},on:{input:function(e){e.target.composing||(t.street=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"number"}},[t._v("Number")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.number,expression:"number"}],staticClass:"form-control",attrs:{type:"number",min:"1",id:"number",name:"number"},domProps:{value:t.number},on:{input:function(e){e.target.composing||(t.number=e.target.value)}}})])]),a("div",{staticClass:"card1"},[a("div",{staticClass:"card1-header"},[t._v("Work hours")]),a("b-table",{attrs:{items:t.items,fields:t.fields,"head-variant":t.headVariant,responsive:"sm",bordered:"",small:""},scopedSlots:t._u([{key:"cell(workhourfrom)",fn:function(e){return[a("b-form-timepicker",{attrs:{locale:"en"},model:{value:e.item.workHourFrom,callback:function(a){t.$set(e.item,"workHourFrom",a)},expression:"data.item.workHourFrom"}})]}},{key:"cell(workhourto)",fn:function(e){return[a("b-form-timepicker",{attrs:{locale:"en"},model:{value:e.item.workHourTo,callback:function(a){t.$set(e.item,"workHourTo",a)},expression:"data.item.workHourTo"}})]}}])})],1),t._m(0)])])])])])],1)])},pe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"buttons col-md-1 offset-md-4"},[a("button",{staticClass:"btn btn-success",staticStyle:{margin:"1px"}},[t._v(" Submit ")])])}],he={name:"PharmacistRegistration",mounted:function(){var t=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,e=this;e.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacyAdmin/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.pharmacyId=t.data.pharmacy.id})).catch((function(t){console.log(t)}))},data:function(){return{fields:[{key:"day",label:"Day"},{key:"workHourFrom",label:"Work hour from"},{key:"workHourTo",label:"Work hour to"}],items:[{day:"Monday"},{day:"Tuesday"},{day:"Wednesday"},{day:"Thursday"},{day:"Friday"},{day:"Saturday"},{day:"Sunday"}],headVariant:"success",email:"",password:"",password_confirmation:"",name:"",lastName:"",phoneNumber:"",country:"",city:"",street:"",number:0,output:{},error_message:"",pharmacyId:{},output3:{},addressId:{},pharmacyW:{},showSuccessAlert:!1,errorModal:{id:"error-modal",title:"",content:""},lon:0,lat:0}},methods:{formSubmit:function(t){var e=this;t.preventDefault();var a=!1;this.email&&this.password&&this.phoneNumber&&this.lastName&&this.name&&this.password_confirmation&&this.country&&this.city&&this.street||(a=!0,this.showSuccessAlert=!0,this.errorModal.content="You must enter all data",this.$root.$emit("bv::show::modal",this.errorModal.id)),this.workHourFrom>this.workHourTo&&(a=!0,this.showSuccessAlert=!0,this.error_message="Not valid work hour.",this.errorModal.content="Not valid work hour.",this.$root.$emit("bv::show::modal",this.errorModal.id)),this.password!=this.password_confirmation&&(a=!0,this.showSuccessAlert=!0,this.error_message="The password confirmation does not match",this.errorModal.content="The password confirmation does not match.",this.$root.$emit("bv::show::modal",this.errorModal.id)),0==a&&(this.guessCoordinatesFromLocation(),this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/address",{country:this.country,city:this.city,street:this.street,number:this.number,longitude:this.lon,latitude:this.lat},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.GetAdress(t)})).catch((function(t){this.error_message=t})))},errModal:function(){this.errorModal.title="",this.errorModal.content=""},GetAdress:function(t){var e=this;e.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/address/"+parseInt(t.data.id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.addressId=t.data,e.GetFarmacy(t)})).catch((function(t){console.log(t)}))},GetFarmacy:function(t){var e=this;e.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/"+parseInt(e.pharmacyId),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(a){e.GetPharmacist(t,a)})).catch((function(t){console.log(t)}))},GetPharmacist:function(t,e){var a=this;a.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacist/",{email:a.email,password:a.password,name:a.name,lastName:a.lastName,phoneNumber:a.phoneNumber,workHourFrom:a.workHourFrom,workHourTo:a.workHourTo,pharmacy:{name:e.data.name,description:e.data.description,id:e.data.id,address:{country:e.data.address.country,city:e.data.address.city,street:e.data.address.street,number:e.data.address.number}},address:{country:t.data.country,id:t.data.id,city:t.data.city,street:t.data.street,number:t.data.number},workHours:[{day:a.items[0].day,workHourFrom:a.items[0].workHourFrom,workHourTo:a.items[0].workHourTo,deleted:!1,pharmacy:null},{day:a.items[1].day,workHourFrom:a.items[1].workHourFrom,workHourTo:a.items[1].workHourTo,deleted:!1,pharmacy:null},{day:a.items[2].day,workHourFrom:a.items[2].workHourFrom,workHourTo:a.items[2].workHourTo,deleted:!1,pharmacy:null},{day:a.items[3].day,workHourFrom:a.items[3].workHourFrom,workHourTo:a.items[3].workHourTo,deleted:!1,pharmacy:null},{day:a.items[4].day,workHourFrom:a.items[4].workHourFrom,workHourTo:a.items[4].workHourTo,deleted:!1,pharmacy:null},{day:a.items[5].day,workHourFrom:a.items[5].workHourFrom,workHourTo:a.items[5].workHourTo,deleted:!1,pharmacy:null},{day:a.items[6].day,workHourFrom:a.items[6].workHourFrom,workHourTo:a.items[6].workHourTo,deleted:!1,pharmacy:null}]},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){a.showSuccessAlert=!0,a.error_message="Success!",console.log(t),a.errorModal.content="Success! You registred pharmacist!",a.$root.$emit("bv::show::modal",a.errorModal.id)})).catch((function(t){a.showSuccessAlert=!0,console.log(t),a.errorModal.content="Error, already exist user with same email address!",a.$root.$emit("bv::show::modal",a.errorModal.id)}))},guessCoordinatesFromLocation:function(){var t=this,e="https://nominatim.openstreetmap.org/search/"+this.city+", "+this.street+" "+this.number;this.axios.get(e,{params:{format:"json",limit:1,"accept-language":"en"}}).then((function(e){e.data&&0!=e.data.lenght&&(t.lon=e.data[0].lon,t.lat=e.data[0].lat)})).catch((function(){}))}}},fe=he,be=(a("7190"),Object(c["a"])(fe,ue,pe,!1,null,null,null)),ve=be.exports,ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-navbar",{attrs:{fixed:"top",toggleable:"lg",type:"light",variant:"light"}},[a("b-navbar-brand",{attrs:{href:"/PharmacyAdminPage/PharmacyPreview"}},[t._v("Home Page")]),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",[a("b-nav-item",{attrs:{href:"/PharmacyAdminPage/MedicamentList"}},[t._v("Medicaments")]),a("b-nav-item",{attrs:{href:"/PharmacyAdminPage/PharmacyList"}},[t._v(" Pharmacies")]),a("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[t._v(" Pharmacy ")]},proxy:!0}])},[a("b-dropdown-item",{attrs:{href:"/PharmacyAdminPage/AppointmentTable"}},[t._v("Appointments")]),a("b-dropdown-item",{attrs:{href:"/PharmacyAdminPage/MedicamentTable"}},[t._v("Medicaments")]),a("b-dropdown-item",{attrs:{href:"/PharmacyAdminPage/PricelistTable"}},[t._v("Pricelist medicaments")]),a("b-dropdown-item",{attrs:{href:"/PharmacyAdminPage/PricelistAppointments"}},[t._v("Pricelist appointments")]),a("b-dropdown-item",{attrs:{href:"/PharmacyAdminPage/Orders"}},[t._v("Orders")])],1),a("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[t._v(" Employees ")]},proxy:!0}])},[a("b-dropdown-item",{attrs:{href:"/PharmacyAdminPage/PharmacistRegistration"}},[t._v("Registration Pharmacists")]),a("b-dropdown-item",{attrs:{href:"/PharmacyAdminPage/DermatologistTable"}},[t._v("Dermatologists")]),a("b-dropdown-item",{attrs:{href:"/PharmacyAdminPage/PharmacistTable"}},[t._v("Pharmacists")]),a("b-dropdown-item",{attrs:{href:"/PharmacyAdminPage/RequestMedicaments"}},[t._v("Requested Medicaments")]),a("b-dropdown-item",{attrs:{href:"/PharmacyAdminPage/Request"}},[t._v("Requests")])],1),a("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[t._v(" Reports ")]},proxy:!0}])},[a("b-dropdown-item",{attrs:{href:"/PharmacyAdminPage/ReportAppointments"}},[t._v("Appointments report")]),a("b-dropdown-item",{attrs:{href:"/PharmacyAdminPage/ReportMedicaments"}},[t._v("Medicaments report")]),a("b-dropdown-item",{attrs:{href:"/PharmacyAdminPage/ReportPharmacy"}},[t._v("Income report")])],1)],1),a("b-navbar-nav",{staticClass:"ml-auto"},[a("Search",{attrs:{path:"/PharmacyAdminPage"}}),a("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("em",{staticClass:"pl-2"},[t._v("User")])]},proxy:!0}])},[a("b-dropdown-item",{attrs:{href:"/PharmacyAdminPage/Profile"}},[t._v("Profile")]),a("b-dropdown-item",{attrs:{href:"/PharmacyAdminPage/ChangePassword"}},[t._v("Change password")]),a("b-dropdown-item",{attrs:{href:"/Logout"}},[t._v("Sign Out")])],1)],1)],1)],1),a("router-view")],1)},ye=[],ke={components:{Search:Yt}},we=ke,_e=Object(c["a"])(we,ge,ye,!1,null,null,null),Ce=_e.exports,Ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Table",{attrs:{title:"Pharmacists",addModal:t.addModal,isHidden:t.isHidden,items:t.items,fields:t.fields,infoModal:t.infoModal,errorModal:t.errorModal},on:{DeleteOne:t.DeleteOne,InfoP:t.InfoP,onSubmit:t.onSubmit,Filter:t.Filter}})},Se=[],xe=(a("a434"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-form"},[a("div",{staticClass:"card-header"},[t._v(t._s(t.title))]),a("br"),a("b-row",[a("b-form",{attrs:{inline:""}},[a("b-form-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"name",name:"name",placeholder:"Name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("b-form-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"lastName",name:"lastName",placeholder:"Last name"},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}}),a("b-button",{staticClass:"mb-2 mr-sm-2 mb-sm-0",on:{click:t.onSubmit}},[t._v("Search")])],1),a("b-col",{staticClass:"my-1",attrs:{lg:"2"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-cols-sm":"2","label-align-sm":"right","label-size":"sm"}},[a("b-form-select",{attrs:{options:t.options},on:{change:t.Filter},model:{value:t.f,callback:function(e){t.f=e},expression:"f"}})],1)],1),a("b-col",{staticClass:"my-1",attrs:{lg:"5"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[t.isHidden?t._e():a("b-button",{attrs:{variant:"success"},on:{click:function(e){return t.$emit("AddDermatologist",e.target)}}},[t._v("Add")])],1)],1)],1),a("b-table",{ref:"table",attrs:{items:t.items,fields:t.fields,responsive:"sm","sort-by":t.sortBy,"sort-desc":t.sortDesc,striped:"",hover:"",filter:t.filter,"filter-included-fields":t.filterOn,small:""},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:function(e){return t.$emit("onFiltered")}},scopedSlots:t._u([{key:"cell(info)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"light"},on:{click:function(a){return t.$emit("InfoP",e.item,a.target)}}},[t._v(" Show details ")])]}},{key:"cell(delete)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.$emit("DeleteOne",e.item,a.target)}}},[t._v(" Delete ")])]}}])}),a("b-modal",{attrs:{id:t.infoModal.id,title:t.infoModal.title,"ok-only":"","footer-bg-variant":"light"},on:{ended:function(e){return t.$emit("resetInfoModal")}}},[a("pre",[t._v(t._s(t.infoModal.content))])]),a("b-modal",{attrs:{id:t.errorModal.id,title:t.errorModal.title,"ok-only":"","footer-bg-variant":"light"},on:{ended:function(e){return t.$emit("errModal")}}},[a("pre",[t._v(t._s(t.errorModal.content))])]),a("b-modal",{attrs:{size:"lg",id:t.addModal.id,title:t.addModal.title,"footer-bg-variant":t.headerBgVariant},on:{ok:t.check,ended:function(e){return t.$emit("resetInfoModal")}}},[a("pre",[t._v(" \n                 "),a("b-table",{ref:"selectableTable",attrs:{items:t.dermatologistss,fields:t.fields2,responsive:"sm",small:"","select-mode":"single",selectable:""},on:{"row-selected":t.onRowSelected}},[t._v("  \n          >")]),t._v("\n\n           "),a("b-table",{attrs:{items:t.hours,fields:t.fields3,"head-variant":t.headerBgVariant,responsive:"sm",bordered:"",small:""},scopedSlots:t._u([{key:"cell(workHourFrom)",fn:function(e){return[t._v("\n              "),a("b-form-timepicker",{attrs:{locale:"en"},model:{value:e.item.workHourFrom,callback:function(a){t.$set(e.item,"workHourFrom",a)},expression:"data.item.workHourFrom"}}),t._v("\n              ")]}},{key:"cell(workHourTo)",fn:function(e){return[t._v("\n              "),a("b-form-timepicker",{attrs:{locale:"en"},model:{value:e.item.workHourTo,callback:function(a){t.$set(e.item,"workHourTo",a)},expression:"data.item.workHourTo"}}),t._v("\n              ")]}}])},[t._v("\n              "),t._v("\n              "),t._v("        \n          ")]),t._v("\n          ")],1)])],1)}),Me=[],Pe={name:"Table",components:{},data:function(){return{rec:!0,sortBy:"name",sortDesc:!1,filter:null,filterOn:[],totalRows:1,all:[],headerBgVariant:"success",headerErrorVariant:"danger",f:"",options:["1","2","3","4","5"],name:"",lastName:""}},props:{items:Array,fields:Array,errorModal:{},infoModal:{},title:String,isHidden:Boolean,addModal:{},dermatologistss:Array,fields2:Array,hours:Array,fields3:Array},methods:{onRowSelected:function(t){this.$emit("OnRowSelected",t),this.$refs.table.refresh()},check:function(){this.$emit("check",this.hours),this.hours=[]},onSubmit:function(t){t&&(t.preventDefault(),this.$emit("onSubmit",this.name,this.lastName),this.$refs.table.refresh())},Filter:function(){this.$emit("Filter",this.f),this.$refs.table.refresh()}}},Ie=Pe,De=(a("0b96"),Object(c["a"])(Ie,xe,Me,!1,null,"48971e7c",null)),Ne=De.exports,je=Object(A["a"])({name:"PharmacistTable",components:{Table:Ne},data:function(){return{items:[],all:[],fields:[{key:"name",sortable:!0,label:"Name"},{key:"lastName",sortable:!0,label:"Last name"},{key:"email",sortable:!0,label:"Email"},{key:"rating",sortable:!0,label:"Rating"},"info","delete"],sortBy:"name",sortDesc:!1,filter:null,filterOn:[],totalRows:1,infoModal:{id:"info-modal",title:"",content:""},errorModal:{id:"error-modal",title:"",content:"",varning:""},isHidden:!0,addModal:{id:"add-modal",title:"",content:"",pharmacyId:0,vall:!1}}},mounted:function(){var t=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,e=this;e.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacyAdmin/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.pharmacyId=t.data.pharmacy.id,e.GetPharmacists()})).catch((function(t){console.log(t)}))},methods:{GetPharmacists:function(){var t=this;t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/pharmacists/"+parseInt(t.pharmacyId),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.length;a++){for(var s=0,o=0;o<e.data[a].workHours.length;o++)e.data[a].workHours[o].deleted&&s++;if(7!=s){var r={};r.name=e.data[a].name,r.lastName=e.data[a].lastName,r.email=e.data[a].email,r.phoneNumber=e.data[a].phoneNumber,r.rating=e.data[a].rating,t.items.push(r),r.hours=e.data[a].workHours,r.address=e.data[a].address.street+" "+e.data[a].address.number+", "+e.data[a].address.city,t.all.push(r)}}}))},DeleteOne:function(t,e){var a=this;a.axios.delete("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacist/"+t.email,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(s){var o=a.items.indexOf(t);a.items.splice(o,1),console.log(s),a.errorModal.title="Success",a.errorModal.content="Successfuly deleted!",a.errorModal.varning="success",a.$root.$emit("bv::show::modal",a.errorModal.id,e)})).catch((function(t){a.errorModal.title="Error",a.errorModal.content="You cannot delete!",a.errorModal.varning="warning",a.$root.$emit("bv::show::modal",a.errorModal.id,e),console.log(t)}))},InfoP:function(t,e){for(var a={},s=0;s<this.all.length;s++)this.all[s].email==t.email&&(a.email=this.all[s].email,a.name=this.all[s].name,a.lastName=this.all[s].lastName,a.phoneNumber=this.all[s].phoneNumber,a.hours=this.all[s].hours,a.address=this.all[s].address);this.infoModal.title="Info",this.infoModal.content="Name: "+a.name+"\nLast name: "+a.lastName+"\nEmail: "+a.email+"\nPhone number: "+a.phoneNumber+"\nAddress: "+a.address,this.$root.$emit("bv::show::modal",this.infoModal.id,e)},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},errModal:function(){this.errorModal.title="",this.errorModal.content=""},onSubmit:function(t,e){for(var a=this,s=[],o=0;o<a.all.length;o++)a.all[o].name.toLowerCase().includes(t.toLowerCase())&&a.all[o].lastName.toLowerCase().includes(e.toLowerCase())&&s.push(a.all[o]);a.items=s},Filter:function(t){for(var e=this,a=[],s=0;s<e.all.length;s++)e.all[s].rating==t&&a.push(e.all[s]);e.items=a}}}),Fe=je,Oe=Object(c["a"])(Fe,Ae,Se,!1,null,null,null),Ee=Oe.exports,Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showDismissibleAlert,callback:function(e){t.showDismissibleAlert=e},expression:"showDismissibleAlert"}},[t._v(" Medicament registration failed! ")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showSuccessAlert,callback:function(e){t.showSuccessAlert=e},expression:"showSuccessAlert"}},[t._v(" Success! You registered a new medicament. ")]),a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("Register Medicament")]),a("div",{staticClass:"card-body"},[a("form",{on:{submit:t.formSubmit}},[a("div",{staticClass:"form-row"},[a("div",{staticClass:"from-group col-md-4"},[a("label",{attrs:{name:"id"}},[t._v("Id")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}})]),a("div",{staticClass:"form-group col-md-4"},[a("label",{attrs:{name:"name"}},[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",{staticClass:"form-group col-md-4"},[a("label",{attrs:{name:"type"}},[t._v("Type")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.type},on:{input:function(e){e.target.composing||(t.type=e.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-4"},[a("label",{attrs:{name:"manufacturer"}},[t._v("Manufacturer")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.manufacturer,expression:"manufacturer"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.manufacturer},on:{input:function(e){e.target.composing||(t.manufacturer=e.target.value)}}})]),a("div",{staticClass:"form-group col-md-4"},[a("label",{attrs:{name:"medicamentForm"}},[t._v("MedicamentForm")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.medicamentForm,expression:"medicamentForm"}],staticClass:"custom-select",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.medicamentForm=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"POWDER"}},[t._v("Powder")]),a("option",{attrs:{value:"CAPSULE"}},[t._v("Capsule")]),a("option",{attrs:{value:"TABLET"}},[t._v("Tablet")]),a("option",{attrs:{value:"OINTMENTS"}},[t._v("Ointments")]),a("option",{attrs:{value:"PASTE"}},[t._v("Paste")]),a("option",{attrs:{value:"GEL"}},[t._v("Gel")]),a("option",{attrs:{value:"LIQUID"}},[t._v("Liquid")]),a("option",{attrs:{value:"SYRUP"}},[t._v("Syrup")])])]),a("div",{staticClass:"form-group col-md-4"},[a("label",{attrs:{name:"issuanceMode"}},[t._v("IssuanceMode")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.issuanceMode,expression:"issuanceMode"}],staticClass:"custom-select",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.issuanceMode=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"WITHOUTPRESCRIPTION"}},[t._v(" Without Prescription ")]),a("option",{attrs:{value:"WITHPRESCRIPTION"}},[t._v("With Prescription")])])])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{name:"Content"}},[t._v("Content")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.structure,expression:"structure"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.structure},on:{input:function(e){e.target.composing||(t.structure=e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{name:"points"}},[t._v("Points")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.points,expression:"points"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.points},on:{input:function(e){e.target.composing||(t.points=e.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-12"},[a("label",{attrs:{name:"annotations"}},[t._v("Annotations")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.annotations,expression:"annotations"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.annotations},on:{input:function(e){e.target.composing||(t.annotations=e.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-12"},[a("div",[a("label",{staticClass:"typo__label"},[t._v("Choose substitute medicaments")]),a("multiselect",{attrs:{options:t.medicaments,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,"preselect-first":!0,"track-by":"id",label:"name"},model:{value:t.substitute,callback:function(e){t.substitute=e},expression:"substitute"}})],1)])]),t._m(0)])])])])],1)},Te=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12"},[a("button",{staticClass:"btn btn-success"},[t._v("Submit")])])}],$e=a("8e5f"),ze=a.n($e),Be={components:{Multiselect:ze.a},data:function(){return{showDismissibleAlert:!1,showSuccessAlert:!1,medicaments:[],id:"",name:"",type:"",manufacturer:"",annotations:"",medicamentForm:"",issuanceMode:"",substitute:[],content:"",structure:"",points:0}},mounted:function(){var t=this;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/medicaments/all",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.length;a++){var s={};s.id=e.data[a].id,s.name=e.data[a].name,s.type=e.data[a].type,s.annotation=e.data[a].annotations,s.structure=e.data[a].structure,s.manufacturer=e.data[a].manufacturer,t.medicaments.push(s)}}))},methods:{formSubmit:function(t){var e=this,a=!1;t.preventDefault(),isNaN(this.id)&&(a=!0),0==a?this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/medicaments",{name:this.name,id:this.id,type:this.type,structure:this.structure,manufacturer:this.manufacturer,issuanceMode:this.issuanceMode,medicamentForm:this.medicamentForm,annotations:this.annotations,substituteMedicaments:this.substitute,points:this.points},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){null!=t.data&&(e.showSuccessAlert=!0)})).catch((function(t){console.log(t),e.showDismissibleAlert=!0})):e.showDismissibleAlert=!0}},name:"MedicamentRegistration"},Le=Be,qe=(a("60bc"),a("ce5e"),Object(c["a"])(Le,Re,Te,!1,null,"64d4572e",null)),Ye=qe.exports,He=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div",attrs:{id:"MedicamentsListPreview"}},[t.substituteMode?a("div",{staticStyle:{"text-align":"center","margin-bottom":"3rem !important"}},[a("h2",[t._v("Substitute medicines for "+t._s(t.substitutedMedicament.name))]),a("b-button",{attrs:{variant:"primary"},on:{click:t.reloadAllMedicines}},[t._v("Show all medicines")])],1):t._e(),a("section",{attrs:{id:"sidebar"}},[a("p",{staticClass:"colorIt"},[t._v("Search medicaments by its name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"mr-sm-2 search",attrs:{size:"sm",placeholder:"Search"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),a("b-button",{staticClass:"my-2 my-sm-0 button",attrs:{size:"sm",type:"submit"},on:{click:t.findSearch}},[t._v("Search")]),a("hr"),t.prescriptionMode?t._e():a("p",{staticClass:"colorIt"},[a("b",[t._v("Filters:")])]),t.prescriptionMode?t._e():a("div",{staticClass:"issuanceModeFilter"},[t._m(0),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.issuanceMode,expression:"issuanceMode"}],staticClass:"form-check-input",attrs:{type:"radio",name:"issuanceMode",id:"issuanceMode",value:"1"},domProps:{checked:t._q(t.issuanceMode,"1")},on:{change:function(e){t.issuanceMode="1"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"issuanceMode"}},[t._v(" With prescription ")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.issuanceMode,expression:"issuanceMode"}],staticClass:"form-check-input",attrs:{type:"radio",name:"issuanceMode",id:"issuanceMode1",value:"0",checked:""},domProps:{checked:t._q(t.issuanceMode,"0")},on:{change:function(e){t.issuanceMode="0"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"issuanceMode1"}},[t._v(" Without prescription ")])])]),t.prescriptionMode?t._e():a("div",{staticClass:"medicamentFormFilter"},[t._m(1),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicamentForm,expression:"medicamentForm"}],staticClass:"form-check-input",attrs:{type:"radio",name:"medicamentForm",id:"medicamentForm",value:"1"},domProps:{checked:t._q(t.medicamentForm,"1")},on:{change:function(e){t.medicamentForm="1"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"medicamentForm"}},[t._v(" Capsule ")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicamentForm,expression:"medicamentForm"}],staticClass:"form-check-input",attrs:{type:"radio",name:"medicamentForm",id:"medicamentForm1",value:"2",checked:""},domProps:{checked:t._q(t.medicamentForm,"2")},on:{change:function(e){t.medicamentForm="2"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"medicamentForm1"}},[t._v(" Tablet ")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicamentForm,expression:"medicamentForm"}],staticClass:"form-check-input",attrs:{type:"radio",name:"medicamentForm",id:"medicamentForm2",value:"0"},domProps:{checked:t._q(t.medicamentForm,"0")},on:{change:function(e){t.medicamentForm="0"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"medicamentForm2"}},[t._v(" Powder ")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicamentForm,expression:"medicamentForm"}],staticClass:"form-check-input",attrs:{type:"radio",name:"medicamentForm",id:"medicamentForm3",value:"5",checked:""},domProps:{checked:t._q(t.medicamentForm,"5")},on:{change:function(e){t.medicamentForm="5"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"medicamentForm3"}},[t._v(" Gel ")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicamentForm,expression:"medicamentForm"}],staticClass:"form-check-input",attrs:{type:"radio",name:"medicamentForm",id:"medicamentForm4",value:"3"},domProps:{checked:t._q(t.medicamentForm,"3")},on:{change:function(e){t.medicamentForm="3"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"medicamentForm4"}},[t._v(" Ointments ")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicamentForm,expression:"medicamentForm"}],staticClass:"form-check-input",attrs:{type:"radio",name:"medicamentForm",id:"medicamentForm5",value:"4",checked:""},domProps:{checked:t._q(t.medicamentForm,"4")},on:{change:function(e){t.medicamentForm="4"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"medicamentForm5"}},[t._v(" Paste ")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicamentForm,expression:"medicamentForm"}],staticClass:"form-check-input",attrs:{type:"radio",name:"medicamentForm",id:"medicamentForm6",value:"6"},domProps:{checked:t._q(t.medicamentForm,"6")},on:{change:function(e){t.medicamentForm="6"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"medicamentForm6"}},[t._v(" Liquid ")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicamentForm,expression:"medicamentForm"}],staticClass:"form-check-input",attrs:{type:"radio",name:"medicamentForm",id:"medicamentForm7",value:"7",checked:""},domProps:{checked:t._q(t.medicamentForm,"7")},on:{change:function(e){t.medicamentForm="7"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"medicamentForm7"}},[t._v(" Syrup ")])]),a("b-button",{staticClass:"my-2 my-sm-0 button",attrs:{size:"sm",type:"submit"},on:{click:t.findFilter}},[t._v("Filter")])],1)],1),a("section",{attrs:{id:"products"}},[a("div",{staticClass:"row row-cols-2 row-cols-md-3 g-2"},t._l(this.medicaments,(function(e){return a("div",{key:e.id,staticClass:"col-lg-4 col-md-6 col-sm-10 offset-md-0 offset-sm-1"},[a("div",[a("MedicamentPreview",{attrs:{type:t.type,medicament:e,allergies:t.allergies,prescriptionMode:t.prescriptionMode},on:{seeMoreClicked:t.onSeeMore}})],1)])})),0)]),0!==Object.keys(t.chosenMedicament).length?a("div",{key:t.chosenMedicament},[a("MedicamentInPharmacy",{attrs:{chosenMedicament:t.chosenMedicament,appointment:t.appointment,prescriptionMode:!0},on:{prescribed:t.onPrescribed,substituted:t.onSubstituted}})],1):t._e()])},Je=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("b",[t._v("Choose issuance mode:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("b",[t._v("Choose medicament form:")])])}],Ue=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cotainer"},[s("div",[s("div",{staticClass:"col-md-12 row justify-content-center"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[t._v("Medicament Specification")]),s("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showSuccessAlert,callback:function(e){t.showSuccessAlert=e},expression:"showSuccessAlert"}},[t._v(" Success! You gave this medicament "+t._s(t.rating)+" stars. ")]),s("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showFailedRating,callback:function(e){t.showFailedRating=e},expression:"showFailedRating"}},[t._v(" You have never purchased this medicament. You can't rate it. ")]),s("div",{staticClass:"card-body"},[s("b-row",{staticClass:"mb-4"},[s("b-col",[s("h3",{staticClass:"med-specification",staticStyle:{"text-align":"left"}},[t._v(t._s(this.medicament.name))])]),"ROLE_PATIENT"===t.role?s("b-col",{staticClass:"rate"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rating,expression:"rating",modifiers:{number:!0}}],attrs:{type:"radio",id:"star5",name:"rate",value:"5"},domProps:{checked:t._q(t.rating,t._n("5"))},on:{click:function(e){return t.postRating(5)},change:function(e){t.rating=t._n("5")}}}),s("label",{attrs:{for:"star5",title:"text"}}),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rating,expression:"rating",modifiers:{number:!0}}],attrs:{type:"radio",id:"star4",name:"rate",value:"4"},domProps:{checked:t._q(t.rating,t._n("4"))},on:{click:function(e){return t.postRating(4)},change:function(e){t.rating=t._n("4")}}}),s("label",{attrs:{for:"star4",title:"text"}}),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rating,expression:"rating",modifiers:{number:!0}}],attrs:{type:"radio",id:"star3",name:"rate",value:"3"},domProps:{checked:t._q(t.rating,t._n("3"))},on:{click:function(e){return t.postRating(3)},change:function(e){t.rating=t._n("3")}}}),s("label",{attrs:{for:"star3",title:"text"}}),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rating,expression:"rating",modifiers:{number:!0}}],attrs:{type:"radio",id:"star2",name:"rate",value:"2"},domProps:{checked:t._q(t.rating,t._n("2"))},on:{click:function(e){return t.postRating(2)},change:function(e){t.rating=t._n("2")}}}),s("label",{attrs:{for:"star2",title:"text"}}),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rating,expression:"rating",modifiers:{number:!0}}],attrs:{type:"radio",id:"star1",name:"rate",value:"1"},domProps:{checked:t._q(t.rating,t._n("1"))},on:{click:function(e){return t.postRating(1)},change:function(e){t.rating=t._n("1")}}}),s("label",{attrs:{for:"star1",title:"text"}})]):t._e()],1),s("p",{staticStyle:{"text-align":"left"}},[s("b",{staticClass:"colorHeaders"},[t._v(" Manufacturer: ")]),t._v(" "+t._s(this.medicament.manufacturer))]),s("p",{staticStyle:{"text-align":"left"}},[s("b",{staticClass:"colorHeaders"},[t._v("Medicement Form: ")]),t._v(t._s(this.medicament.form))]),s("p",{staticStyle:{"text-align":"left"}},[s("b",{staticClass:"colorHeaders"},[t._v("Issuance Mode: ")]),t._v(t._s(this.medicament.mode))]),s("p",{staticStyle:{"text-align":"left"}},[s("b",{staticClass:"colorHeaders"},[t._v("Structure: ")]),t._v(" "+t._s(this.medicament.structure))]),s("p",{staticStyle:{"text-align":"left"}},[s("b",{staticClass:"colorHeaders"},[t._v("Annotations: ")]),t._v(" "+t._s(this.medicament.annotation))])],1)],1),t.prescriptionMode?t._e():s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[t._v("Available in Pharmacies: ")]),s("div",{staticClass:"row row-cols-1 row-cols-md-3 g-4"},t._l(t.pricelist,(function(e){return s("div",{key:e.id,staticClass:"col"},[s("div",{staticClass:"card h-100"},[s("img",{staticClass:"card-img-top",attrs:{src:a("d252"),alt:"..."}}),s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[t._v(t._s(e.pharmacy.name))]),s("div",{staticClass:"card-text"},[t._v(" "+t._s(e.pharmacy.description)+" "),s("br"),s("b",[t._v(" "+t._s("Price")+" ")]),!1===e.price[0].promotion?s("div",[t._v(" "+t._s(e.price[0].value)+" ")]):t._e(),!0===e.price[0].promotion?s("div",{style:t.myStyle},[s("b",[t._v(" "+t._s("PROMOTION ")+" ")]),t._v(" "),s("fa",{attrs:{icon:"percent"}}),t._v(" "+t._s(e.price[0].value)+" ")],1):t._e()]),"ROLE_PATIENT"===t.role?s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"id"+e.id,expression:"'id' + item.id"}]},[t._v("Reserve")]):t._e(),s("b-modal",{attrs:{"content-class":"my-class",id:"id"+e.id,centered:"","header-bg-variant":"dark","header-text-variant":"light","body-bg-variant":"light","body-text-variant":"dark","hide-footer":!0},scopedSlots:t._u([{key:"modal-header",fn:function(e){var a=e.close;return[s("b-button",{attrs:{size:"sm"},on:{click:function(t){return a()}}},[t._v(" Close ")])]}}],null,!0)},[s("b-container",{attrs:{fluid:""}}),s("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showFailedReserve,callback:function(e){t.showFailedReserve=e},expression:"showFailedReserve"}},[t._v(" "+t._s(t.message)+" ")]),s("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.success,callback:function(e){t.success=e},expression:"success"}},[t._v(" Reservation successful! ")]),s("b-row",[s("input",{staticClass:"m-2",attrs:{type:"number",placeholder:"Quantity",min:1,pattern:"^[+]?\\d+([.]\\d+)?$"},domProps:{value:t.amount},on:{input:function(e){t.amount=e.target.value}}}),s("datepicker",{staticClass:"m-2",attrs:{placeholder:"Date",disabledDates:t.disabledDates},on:{selected:function(e){t.date=e.target.value}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),s("b-row",[s("b-button",{staticClass:"m-2",attrs:{variant:"success"},on:{click:function(a){return t.reserveMedicament(e.pharmacy.id,e.price[0].value)}}},[t._v(" Reserve medicament ")])],1)],1)],1)])])})),0)]),t.prescriptionMode?s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[t._v("In Your Pharmacy: ")]),s("div",{staticClass:"row row-cols-1 row-cols-md-3 g-4"},[s("div",{staticClass:"col"},[s("div",{staticClass:"card h-100"},[s("img",{staticClass:"card-img-top",attrs:{src:a("d252"),alt:"..."}}),s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[t._v(t._s(this.pharmacy.name))]),s("p",{staticClass:"card-text"},[t._v(" "+t._s(this.pharmacy.description)+" ")]),s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"id0",expression:"'id0'"}]},[t._v("Prescribe")]),s("b-modal",{ref:"id0",attrs:{"content-class":"my-class",id:"id0",centered:"","header-bg-variant":"dark","header-text-variant":"light","body-bg-variant":"light","body-text-variant":"dark","hide-footer":!0},scopedSlots:t._u([{key:"modal-header",fn:function(e){var a=e.close;return[s("b-button",{attrs:{size:"sm"},on:{click:function(t){return a()}}},[t._v(" Close ")])]}}],null,!1,4071659426)},[s("b-container",{attrs:{fluid:""}}),s("b-row",[s("input",{staticClass:"m-2",attrs:{type:"number",placeholder:"Quantity"},domProps:{value:t.amount},on:{input:function(e){t.amount=e.target.value}}}),s("input",{staticClass:"m-2",attrs:{type:"number",placeholder:"Length of therapy"},domProps:{value:t.therapyLength},on:{input:function(e){t.therapyLength=e.target.value}}})]),s("b-row",[s("b-button",{staticClass:"m-2",attrs:{variant:"success"},on:{click:function(e){return t.prescribeMedicament(t.pharmacy.id)}}},[t._v(" Prescribe medicament ")])],1)],1)],1)])])])]):t._e(),s("b-modal",{ref:"successful-prescription-modal",attrs:{"hide-footer":"",title:"Success"},on:{hide:t.onCloseSuccessModal}},[s("div",{staticClass:"d-block text-center"},[s("p",[t._v("Medicine successfully prescribed")])]),s("b-button",{staticClass:"mt-3",attrs:{variant:"outline-success",block:""},on:{click:t.onCloseSuccessModal}},[t._v("Close")])],1),s("b-modal",{ref:"successful-reservation-modal",attrs:{"hide-footer":"",title:"Success"},on:{hide:t.onCloseSuccessModal}},[s("div",{staticClass:"d-block text-center"},[s("p",[t._v("Medicine successfully prescribed")])]),s("b-button",{staticClass:"mt-3",attrs:{variant:"outline-success",block:""},on:{click:t.onCloseSuccessModal}},[t._v("Close")])],1),s("b-modal",{ref:"substitute-prescription-modal",attrs:{"hide-footer":"",title:"Substitute medicine(s)"},on:{hide:t.onCloseSubstituteModal}},[s("div",{staticClass:"d-block text-center"},[s("p",[t._v("Not enough of this medicine in "+t._s(t.pharmacy.name)+". Showing substitute medicines for "+t._s(t.medicament.name)+".")])]),s("b-button",{staticClass:"mt-3",attrs:{variant:"outline-warning",block:""},on:{click:t.onCloseSubstituteModal}},[t._v("Close")])],1)],1)])])},We=[],Ge=a("fa33"),Ve=Object(A["a"])({name:"MedicamentInPharmacy",components:{Datepicker:Ge["a"]},data:function(){return{medicament:"",pricelist:"",amount:"",date:null,role:"",rating:null,showSuccessAlert:!1,myStyle:{color:"red"},pharmacy:{},therapyLength:"",showFailedRating:!1,showFailedReserve:!1,message:"",disabledDates:{to:new Date(Date.now()-864e4)},success:!1}},computed:{rating:function(){this.postRating}},props:{prescriptionMode:{type:Boolean,default:!1},appointment:Object,chosenMedicament:Object},mounted:function(){var t=this;this.role=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).role,this.prescriptionMode?this.loadForPrescription():(this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/medicaments/"+parseInt(this.$route.params.id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.medicament=e.data,"ROLE_PATIENT"===t.role&&t.getRatingOfUser()})).catch((function(t){return console.log(t)})),this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pricelistItems/availablePharmacy/"+parseInt(this.$route.params.id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.pricelist=e.data,console.log(t.pricelist)})).catch((function(t){return console.log(t)})))},methods:{getRatingOfUser:function(){var t=this,e=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/patients/get_rating/".concat(e,"/").concat(this.medicament.id,"/medicament")).then((function(e){return t.rating=e.data})).catch((function(t){return console.log(t)}))},postRating:function(t){var e=this;this.showFailedRating=!1,this.rating=t,console.log(this.rating),this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/patients/rating",{rateType:1,ratedEntityId:this.medicament.id,rating:this.rating,patientEmail:JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(){return e.showSuccess()})).catch((function(){e.message=" You have never purchased this medicament. You can't rate it.",e.showFailedRating=!0,e.rating=-1}))},reserveMedicament:function(t,e){var a=this;this.success=!1,console.log(JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub),null!==this.amount&&null!==this.date&&this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/patients/reserve/",{patientEmail:JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,medicament:this.medicament,expiryDate:this.date,quantity:this.amount,pharmacyId:t,price:this.amount*e},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){console.log(t),a.success=!0,console.log("Rezervacija izvrÅ¡ena!")})).catch((function(t){console.log("uso sam"),"400"==t.response.status?(a.message=" You have 3 penalties. You can't reserve it.",a.showFailedReserve=!0):(a.message=" You can't reserve it",a.showFailedReserve=!0)}))},showSuccess:function(){this.showSuccessAlert=!0},prescribeMedicament:function(t){var e=this;this.amount>0&&this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/patients/prescribe/".concat(this.appointment.medicalReportId),{patientEmail:this.appointment.patient.email,medicament:this.medicament,expiryDate:this.date,quantity:this.amount,pharmacyId:t},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){console.log(t),e.showSuccessModal()})).catch((function(t){404===t.response.status?e.showSubstituteModal():console.log(t)}))},loadForPrescription:function(){var t=this;this.medicament=this.chosenMedicament;var e=this.appointment.id;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/appointments/".concat(e,"/pharmacy"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.pharmacy=e.data})).catch((function(t){console.log(t)}))},onCloseSuccessModal:function(){this.$refs["successful-prescription-modal"].hide(),this.$refs["id0"].hide(),this.$emit("prescribed")},onCloseSubstituteModal:function(){this.$refs["substitute-prescription-modal"].hide(),this.$refs["id0"].hide(),this.$emit("substituted",{substitutedMed:this.medicament,quantity:this.amount,pharmacy:this.pharmacy})},showSuccessModal:function(){this.$refs["successful-prescription-modal"].show()},showSubstituteModal:function(){this.$refs["substitute-prescription-modal"].show()}}}),Qe=Ve,Xe=(a("a949"),Object(c["a"])(Qe,Ue,We,!1,null,"a5ce239e",null)),Ke=Xe.exports,Ze=Object(A["a"])({name:"MedicamentListPreview",components:{MedicamentPreview:mt,MedicamentInPharmacy:Ke},data:function(){return{medicaments:[],search:"",issuanceMode:-1,medicamentForm:-1,allergies:[],type:"",medicamentsSearchCopy:[],medicamentsOriginal:[],chosenMedicament:{},substituteMode:!1,substitutedMedicament:{}}},props:{prescriptionMode:{type:Boolean,default:!1},appointment:Object},mounted:function(){this.type=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).role,this.prescriptionMode?this.loadNonAllergicMedsForPrescription():(this.loadAllergies(),"ROLE_PATIENT"!=this.type&&this.loadMeds())},methods:{loadMeds:function(){var t=this;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/medicaments/all",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.medicaments=e.data})).catch((function(t){return console.log(t.response.data)}))},loadNonAllergicMedsForPrescription:function(){var t=this,e=this.appointment.patient.email,a=this.appointment.id;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/medicaments/non-allergic-in-pharmacy?patientEmail=".concat(e,"&appointmentId=").concat(a),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.medicaments=e.data,t.medicamentsOriginal=t.medicaments,t.medicamentsSearchCopy=t.medicaments})).catch((function(t){return console.log(t.response.data)}))},loadAllergies:function(){var t=this;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/patients/get_allergies/"+JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e.data),t.allergies=e.data,t.loadMeds()})).catch((function(t){return console.log(t.response.data)}))},findSearch:function(){var t=this;this.prescriptionMode?this.frontEndSearch():this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/medicaments/search/"+this.search,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.medicaments=e.data})).catch((function(t){return console.log(t)}))},findFilter:function(){var t=this;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/medicaments/filter/mode="+parseInt(this.issuanceMode)+"&form="+parseInt(this.medicamentForm),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.medicaments=e.data})).catch((function(t){return console.log(t)}))},frontEndSearch:function(){var t=this;this.medicaments=this.medicamentsSearchCopy.filter((function(e){return e.name.toLowerCase().includes(t.search.toLowerCase())})),this.chosenMedicament={}},onSeeMore:function(t){this.chosenMedicament=t},onPrescribed:function(){this.$emit("prescribed")},reloadAllMedicines:function(){this.medicaments=this.medicamentsOriginal,this.medicamentsSearchCopy=this.medicamentsOriginal,this.substituteMode=!1,this.substitutedMedicament={},this.chosenMedicament={}},onSubstituted:function(t){var e=this;this.substituteMode=!0,this.substitutedMedicament=t.substitutedMed;var a=t.quantity,s=t.pharmacy;this.chosenMedicament={},this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/medicaments/".concat(this.substitutedMedicament.id,"/substitutes?")+"patientEmail=".concat(this.appointment.patient.email,"&quantity=").concat(a,"&pharmacyId=").concat(s.id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.medicaments=t.data,e.medicamentsSearchCopy=e.medicaments})).catch((function(t){console.log(t)}))}}}),ta=Ze,ea=(a("ccef"),Object(c["a"])(ta,He,Je,!1,null,"50e983f6",null)),aa=ea.exports,sa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-navbar",{attrs:{fixed:"top",toggleable:"lg",type:"light",variant:"light"}},[a("b-navbar-brand",{attrs:{href:"/UnregisteredPage"}},[t._v("Home Page")]),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",[a("b-nav-item",{attrs:{href:"/UnregisteredPage/MedicamentList"}},[t._v("Medicaments")]),a("b-nav-item",{attrs:{href:"/UnregisteredPage/PharmacyList"}},[t._v(" Pharmacies")])],1),a("b-navbar-nav",{staticClass:"ml-auto"},[a("Search",{attrs:{path:"/UnregisteredPage"}}),a("b-nav-item",{attrs:{right:"",href:"/Login"}},[t._v("Login")]),a("b-nav-item",{attrs:{right:"",href:"/UnregisteredPage/PatientRegistration"}},[t._v("Sign In")])],1)],1)],1),a("router-view")],1)},oa=[],ra={components:{Search:Yt}},ia=ra,na=Object(c["a"])(ia,sa,oa,!1,null,null,null),la=na.exports,ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cotainer"},[a("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showSuccessAlert,callback:function(e){t.showSuccessAlert=e},expression:"showSuccessAlert"}},[t._v(" Success! You registered a new patient '"+t._s(this.email)+"'. ")]),a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("Register Patient")]),a("div",{staticClass:"card-body"},[a("form",{attrs:{name:"my-form"},on:{submit:t.formSubmit}},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"name"}},[t._v("First Name")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"name",name:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"lastName"}},[t._v("Last Name")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.lastName,expression:"lastName"}],staticClass:"form-control",attrs:{type:"text",id:"lastName",name:"lastName"},domProps:{value:t.lastName},on:{input:function(e){e.target.composing||(t.lastName=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"phoneNumber"}},[t._v("Phone Number")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneNumber,expression:"phoneNumber"}],staticClass:"form-control",attrs:{type:"text",id:"phoneNumber",name:"phoneNumber"},domProps:{value:t.phoneNumber},on:{input:function(e){e.target.composing||(t.phoneNumber=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"email"}},[t._v("Email")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",id:"email",name:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"password1"}},[t._v("Password")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password1,expression:"password1"}],staticClass:"form-control",attrs:{type:"password",id:"password1",name:"password1"},domProps:{value:t.password1},on:{input:function(e){e.target.composing||(t.password1=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"password2"}},[t._v("Password")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password2,expression:"password2"}],staticClass:"form-control",attrs:{type:"password",id:"password2",name:"password2"},domProps:{value:t.password2},on:{input:function(e){e.target.composing||(t.password2=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"country"}},[t._v("Country")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.country,expression:"country"}],staticClass:"form-control",attrs:{type:"text",id:"country",name:"country"},domProps:{value:t.country},on:{input:function(e){e.target.composing||(t.country=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"city"}},[t._v("City")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.city,expression:"city"}],staticClass:"form-control",attrs:{type:"text",id:"city",name:"city"},domProps:{value:t.city},on:{input:function(e){e.target.composing||(t.city=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"street"}},[t._v("Street")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.street,expression:"street"}],staticClass:"form-control",attrs:{type:"text",id:"street",name:"street"},domProps:{value:t.street},on:{input:function(e){e.target.composing||(t.street=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"number"}},[t._v("Number")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.number,expression:"number"}],staticClass:"form-control",attrs:{type:"number",min:"1",id:"number",name:"number"},domProps:{value:t.number},on:{input:function(e){e.target.composing||(t.number=e.target.value)}}})])]),a("div",{staticClass:"col-md-6 offset-md-4"},[a("p",{staticClass:"show_error"},[t._v(t._s(t.error_message))])]),t._m(0)])])])])])],1)},da=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-4 offset-md-4"},[a("button",{staticClass:"btn btn-success"},[t._v("Submit")])])}],ma={name:"UserRegistration",mounted:function(){console.log("Component mounted.")},data:function(){return{name:"",lastName:"",country:"",city:"",street:"",email:"",password1:"",password2:"",phoneNumber:"",number:0,output:"",error_message:"",showSuccessAlert:!1}},methods:{formSubmit:function(t){t.preventDefault();var e=this,a=!1,s=this;this.name&&!isNaN(this.number)&&this.lastName&&this.email&&this.password1&&this.password2&&this.country&&this.city&&this.street||(a=!0,this.error_message="Enter valid data!"),this.password2!==this.password1&&(a=!0,this.error_message="Passwords don't match!"),0==a&&(this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/patients",{name:this.name,lastName:this.lastName,email:this.email,phoneNumber:this.phoneNumber,password:this.password2,address:{country:this.country,city:this.city,street:this.street,number:this.number}},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.output=t.data,s.showSuccessAlert=!0,this.$router.push("/Login")})).catch((function(t){e.output=t,console.log(t)})),this.success_message="Succes. You have been registered.")}}},ua=ma,pa=(a("0774"),Object(c["a"])(ua,ca,da,!1,null,"6b43925a",null)),ha=pa.exports,fa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-form"},[a("div",{staticClass:"card-header"},[t._v("Medicaments")]),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1),a("b-col",{staticClass:"my-1",attrs:{lg:"8"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-button",{attrs:{variant:"success"},on:{click:function(e){return t.AddMedicament(e.target)}}},[t._v("Add")])],1)],1)],1),a("b-table",{ref:"table",attrs:{items:t.items,fields:t.fields,responsive:"sm","sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,"filter-included-fields":t.filterOn,small:"",striped:"",hover:""},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(info)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"light"},on:{click:function(a){return t.infoP(e.item,a.target)}}},[t._v(" Show details ")])]}},{key:"cell(delete)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.DeleteOne(e.item,a.target)}}},[t._v(" Delete ")])]}}])}),a("b-modal",{attrs:{size:"lg",id:t.infoModal.id,title:t.infoModal.title,"ok-only":"","header-bg-variant":t.headerBgVariant,"footer-bg-variant":t.headerBgVariant},on:{ended:t.resetInfoModal}},[a("pre",[t._v(t._s(t.infoModal.content))])]),a("b-modal",{attrs:{id:t.errorModal.id,title:t.errorModal.title,"ok-only":"","header-bg-variant":t.headerErrorVariant,"footer-bg-variant":t.headerErrorVariant},on:{ended:t.errModal}},[a("pre",[t._v(t._s(t.errorModal.content))])]),a("b-modal",{attrs:{size:"lg",id:t.addModal.id,title:t.addModal.title,"ok-only":"","header-bg-variant":t.headerBgVariant,"footer-bg-variant":t.headerBgVariant},on:{ended:t.resetInfoModal}},[a("pre",[t._v(" \n        "),a("b-table",{ref:"selectableTable",attrs:{items:t.medicamentss,fields:t.fields2,responsive:"sm",small:"","select-mode":t.selectMode,selectable:""},on:{"row-selected":t.onRowSelected}}),t._v("\n    "),a("b-form",{attrs:{inline:""}},[t._v("\n    "),a("label",[t._v(" Price:     ")]),t._v("\n    "),a("b-form-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-input-price",type:"number"},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}}),t._v("\n    "),a("label",[t._v(" Points: ")]),t._v("\n    "),a("b-form-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-input-points",type:"number"},model:{value:t.points,callback:function(e){t.points=e},expression:"points"}}),t._v("\n    ")],1),t._v("\n    "),a("b-button",{attrs:{size:"sm",variant:"success"},on:{click:function(e){return t.AddOne()}}},[t._v("   Add\n      ")]),t._v("\n    \n  ")],1)])],1)},ba=[],va=(a("159b"),{data:function(){return{fields:[{key:"id",sortable:!0,label:"Id"},{key:"name",sortable:!0,label:"Name"},{key:"type",sortable:!0,label:"Type"},{key:"medicamentForm",sortable:!0,label:"Medicament form"},{key:"manufacturer",sortable:!0,label:"Manufacturer"},{key:"quantity",sortable:!0,label:"Quantity"},"info","delete"],fields2:[{key:"id",label:"Id"},{key:"name",label:"Name"},{key:"type",label:"Type"},{key:"medicamentForm",label:"Medicament form"},{key:"manufacturer",label:"Manufacturer"}],items:[],selectMode:"single",sortBy:"name",sortDesc:!1,filter:null,filterOn:[],totalRows:1,totalRows1:1,new:[],infoModal:{id:"info-modal",title:"",content:""},errorModal:{id:"error-modal",title:"",content:""},addModal:{id:"add-modal",title:"",content:""},headerBgVariant:"success",headerErrorVariant:"warning",all:[],medicamentss:[],old:[],quantity:0,pharmacy:{},selected:[],medicamentItems:[],price:0,datefrom:"",points:0,pItems:[],pharmacyId:0}},mounted:function(){var t=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,e=this;e.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacyAdmin/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.pharmacyId=t.data.pharmacy.id,e.GetAllMedicamentItems()})).catch((function(t){console.log(t)}))},methods:{GetAllMedicamentItems:function(){var t=this;t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/medicamentItems/"+parseInt(t.pharmacyId),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.length;a++){var s={};s.id=e.data[a].medicament.id,s.name=e.data[a].medicament.name,s.type=e.data[a].medicament.type,s.medicamentForm=e.data[a].medicament.form,s.manufacturer=e.data[a].medicament.manufacturer,s.quantity=e.data[a].quantity,s.medicamentItemId=e.data[a].id,s.structure=e.data[a].medicament.structure,s.issuanceMode=e.data[a].medicament.mode,s.annotation=e.data[a].medicament.annotation,s.rating=0,t.items.push(s),t.old.push(s)}t.totalRows=t.items.length,t.GetAllRatings(),t.GetAll()})),t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/"+parseInt(t.pharmacyId),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.pharmacy.id=e.data.id,t.pharmacy.name=e.data.name})).catch((function(t){console.log(t)}))},GetAll:function(){var t=this;t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/medicaments/all",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.length;a++)if(0==t.items.filter((function(t){return t.id===e.data[a].id})).length){var s={};s.id=e.data[a].id,s.name=e.data[a].name,s.type=e.data[a].type,s.annotation=e.data[a].annotation,s.structure=e.data[a].structure,s.manufacturer=e.data[a].manufacturer,s.medicamentForm=e.data[a].form,s.issuanceMode=e.data[a].mode,t.medicamentss.push(s)}}))},GetAllRatings:function(){var t=this;t.items.forEach((function(e){t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/medicaments/ratings/"+parseInt(e.id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.rating=t.data})).catch((function(t){return console.log(t)}))}))},onFiltered:function(t){self.totalRows=t.length},infoP:function(t,e){for(var a={},s=0;s<this.items.length;s++)this.items[s].id==t.id&&(a.id=this.items[s].id,a.name=this.items[s].name,a.type=this.items[s].type,a.form=this.items[s].medicamentForm,a.annotation=this.items[s].annotation,a.rating=this.items[s].rating,a.manufacturer=this.items[s].manufacturer,a.structure=this.items[s].structure,a.mode=this.items[s].issuanceMode,a.quantity=this.items[s].quantity);this.infoModal.title="Info",this.infoModal.content="Id: "+a.id+"\n\nName: "+a.name+"\n\nType: "+a.type+"\n\nMedicament form: "+a.form+"\n\nStructure: "+a.structure+"\n\nAnnotations: "+a.annotation+"\n\nManufacturer: "+a.manufacturer+"\n\nIssuance mode: "+a.mode+"\n\nQuantity: "+a.quantity+"\n\nRating: "+a.rating,this.$root.$emit("bv::show::modal",this.infoModal.id,e)},AddMedicament:function(t){this.addModal.title="Add medicaments",this.$root.$emit("bv::show::modal",this.addModal.id,t)},onRowSelected:function(t){this.selected=t},dateDisabled:function(t,e){var a=new Date,s=a.getMonth(),o=a.getDate(),r=e.getDate(),i=e.getMonth();return r<=o&&i<=s||r>=o&&i<s},AddOne:function(){var t=this,e=this.selected[0],a=this.medicamentss.indexOf(e);if(-1!=a){this.medicamentss.splice(a,1);var s={};s.annotation=this.selected[0].annotation,s.id=this.selected[0].id,s.issuanceMode=this.selected[0].issuanceMode,s.manufacturer=this.selected[0].manufacturer,s.medicamentForm=this.selected[0].medicamentForm,s.name=this.selected[0].name,s.structure=this.selected[0].structure,s.type=this.selected[0].type,s.quantity=0,this.items.push(s);for(var o=0;o<this.items.length;o++){var r={};r.quantity=this.items[o].quantity,r.deleted=!1;var i={};i.id=this.items[o].id,i.name=this.items[o].name,i.type=this.items[o].type,i.issuanceMode=this.items[o].issuanceMode,i.medicamentForm=this.items[o].medicamentForm,i.structure=this.items[o].structure,i.annotation=this.items[o].annotation,i.manufacturer=this.items[o].manufacturer,r.medicament=i,this.medicamentItems.push(r)}this.selected=[],this.GetAllRatings();for(var n=0;n<this.medicamentItems.length;n++)0==this.old.filter((function(e){return e.id===t.medicamentItems[n].medicament.id})).length&&this.new.push(this.medicamentItems[n]);for(var l=0;l<this.new.length;l++)this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/pricelistItems/",{price:[{value:this.price,points:this.points}],pharmacy:{id:this.pharmacy.id},medicament:{id:this.new[l].medicament.id}},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),this.price=0,this.points=0;this.axios.put("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/updateMedicaments/"+parseInt(this.pharmacy.id),{name:this.pharmacy.name,id:this.pharmacy.id,medicaments:this.new},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),this.medicamentItems=[],this.$refs.table.refresh()}},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},errModal:function(){this.errorModal.title="",this.errorModal.content=""},DeleteOne:function(t,e){var a=this;console.log(t.medicamentItemId),a.axios.delete("https://mrs-isa-projekat-backend.herokuapp.com/api/medicamentItems/"+t.medicamentItemId,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(s){var o=a.items.indexOf(t);a.items.splice(o,1),console.log(s),a.errorModal.title="Success",a.errorModal.content="Successfuly deleted!",a.$root.$emit("bv::show::modal",a.errorModal.id,e)})).catch((function(t){a.errorModal.title="Error",a.errorModal.content="You cannot delete!",a.$root.$emit("bv::show::modal",a.errorModal.id,e),console.log(t)}))}}}),ga=va,ya=(a("d200"),Object(c["a"])(ga,fa,ba,!1,null,"cc2420be",null)),ka=ya.exports,wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Table",{attrs:{title:"Dermatologists",addModal:t.addModal,dermatologistss:t.dermatologistss,fields2:t.fields2,isHidden:t.isHidden,items:t.items,fields:t.fields,infoModal:t.infoModal,errorModal:t.errorModal,hours:t.hh,fields3:t.fields3},on:{InfoP:t.InfoP,DeleteOne:t.DeleteOne,AddDermatologist:t.AddDermatologist,OnRowSelected:t.OnRowSelected,onSubmit:t.onSubmit,check:t.check,Filter:t.Filter}})},_a=[],Ca=Object(A["a"])({name:"DermatologistTable",components:{Table:Ne},data:function(){return{items:[],all:[],fields:[{key:"name",sortable:!0,label:"Name"},{key:"lastName",sortable:!0,label:"Last name"},{key:"email",sortable:!0,label:"Email"},{key:"rating",sortable:!0,label:"Rating"},"info","delete"],sortBy:"name",sortDesc:!1,filter:null,filterOn:[],totalRows:1,infoModal:{id:"info-modal",title:"",content:""},errorModal:{id:"error-modal",title:"",content:"",varning:""},addModal:{id:"add-modal",title:"",content:""},isHidden:!1,dermatologistss:[],fields2:[{key:"name",label:"Name"},{key:"lastName",label:"Last name"},{key:"email",label:"Email"}],hh:[{day:"Monday"},{day:"Tuesday"},{day:"Wednesday"},{day:"Thursday"},{day:"Friday"},{day:"Saturday"},{day:"Sunday"}],fields3:[{key:"day",label:"Day"},{key:"workHourFrom",label:"Work hour from"},{key:"workHourTo",label:"Work hour to"}],selected:{},hours:[],pharmacyId:0}},mounted:function(){var t=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,e=this;e.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacyAdmin/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.pharmacyId=t.data.pharmacy.id,e.GetDermatologists()})).catch((function(t){console.log(t)}))},methods:{GetDermatologists:function(){var t=this;t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/dermatologists/"+parseInt(t.pharmacyId),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.length;a++){for(var s=0,o=0;o<e.data[a].workHours.length;o++)e.data[a].workHours[o].deleted&&s++;if(7!=s){var r={};r.name=e.data[a].name,r.lastName=e.data[a].lastName,r.email=e.data[a].email,r.phoneNumber=e.data[a].phoneNumber,t.items.push(r),r.hours=e.data[a].workHours,r.address=e.data[a].address.street+" "+e.data[a].address.number+", "+e.data[a].address.city,r.rating=e.data[a].rating,t.all.push(r)}}t.getAll()}))},getAll:function(){var t=this;t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/dermatologist/all",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.length;a++)if(0==t.items.filter((function(t){return t.email===e.data[a].email})).length){var s={};s.name=e.data[a].name,s.lastName=e.data[a].lastName,s.email=e.data[a].email,s.phoneNumber=e.data[a].phoneNumber,s.hours=e.data[a].workHours,s.address=e.data[a].address.street+" "+e.data[a].address.number+", "+e.data[a].address.city,t.dermatologistss.push(s)}}))},AddDermatologist:function(t){this.addModal.title="Add dermatologists",this.$root.$emit("bv::show::modal",this.addModal.id,t)},OnRowSelected:function(t){this.selected=t[0]},check:function(t){var e=this,a=this.dermatologistss.indexOf(e.selected);-1!=a&&(e.axios.put("https://mrs-isa-projekat-backend.herokuapp.com/api/dermatologist/updateDermatologist/"+e.selected.email,{email:e.selected.email,pharmacies:[{id:parseInt(e.pharmacyId)}],workHours:[{day:t[0].day,workHourFrom:t[0].workHourFrom,workHourTo:t[0].workHourTo,deleted:!1,pharmacy:{id:parseInt(e.pharmacyId)}},{day:t[1].day,workHourFrom:t[1].workHourFrom,workHourTo:t[1].workHourTo,deleted:!1,pharmacy:{id:parseInt(e.pharmacyId)}},{day:t[2].day,workHourFrom:t[2].workHourFrom,workHourTo:t[2].workHourTo,deleted:!1,pharmacy:{id:parseInt(e.pharmacyId)}},{day:t[3].day,workHourFrom:t[3].workHourFrom,workHourTo:t[3].workHourTo,deleted:!1,pharmacy:{id:parseInt(e.pharmacyId)}},{day:t[4].day,workHourFrom:t[4].workHourFrom,workHourTo:t[4].workHourTo,deleted:!1,pharmacy:{id:parseInt(e.pharmacyId)}},{day:t[5].day,workHourFrom:t[5].workHourFrom,workHourTo:t[5].workHourTo,deleted:!1,pharmacy:{id:parseInt(e.pharmacyId)}},{day:t[6].day,workHourFrom:t[6].workHourFrom,workHourTo:t[6].workHourTo,deleted:!1,pharmacy:{id:parseInt(e.pharmacyId)}}]},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){console.log(t),e.dermatologistss.splice(a,1),e.items.push(e.selected)})).catch((function(t){console.log(t),e.hh=[],e.hh.push({day:"Monday"}),e.hh.push({day:"Tuesday"}),e.hh.push({day:"Wednesday"}),e.hh.push({day:"Thursday"}),e.hh.push({day:"Friday"}),e.hh.push({day:"Saturday"}),e.hh.push({day:"Sunday"}),e.errorModal.title="Error",e.errorModal.content="You cannot add dermatologist with that work hour!",e.errorModal.varning="warning",e.$root.$emit("bv::show::modal",e.errorModal.id)})),e.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/dermatologist/ratings/"+e.selected.email,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.selected.rating=t.data})))},DeleteOne:function(t,e){var a=this;a.axios.delete("https://mrs-isa-projekat-backend.herokuapp.com/api/dermatologist/"+t.email+"/"+parseInt(a.pharmacyId),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(s){var o=a.items.indexOf(t);a.items.splice(o,1),console.log(s),a.errorModal.title="Success",a.errorModal.content="Successfuly deleted!",a.errorModal.varning="success",a.$root.$emit("bv::show::modal",a.errorModal.id,e)})).catch((function(t){a.errorModal.title="Error",a.errorModal.content="You cannot delete!",a.errorModal.varning="warning",a.$root.$emit("bv::show::modal",a.errorModal.id,e),console.log(t)}))},InfoP:function(t,e){for(var a={},s=0;s<this.items.length;s++)this.items[s].email==t.email&&(a.email=this.items[s].email,a.name=this.items[s].name,a.lastName=this.items[s].lastName,a.phoneNumber=this.items[s].phoneNumber,a.hours=this.items[s].hours,a.address=this.items[s].address);this.infoModal.title="Info",this.infoModal.content="Name: "+a.name+"\nLast name: "+a.lastName+"\nEmail: "+a.email+"\nPhone number: "+a.phoneNumber+"\nAddress: "+a.address,this.$root.$emit("bv::show::modal",this.infoModal.id,e)},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},errModal:function(){this.errorModal.title="",this.errorModal.content=""},onSubmit:function(t,e){for(var a=this,s=[],o=0;o<a.all.length;o++)a.all[o].name.toLowerCase().includes(t.toLowerCase())&&a.all[o].lastName.toLowerCase().includes(e.toLowerCase())&&s.push(a.all[o]);a.items=s},Filter:function(t){for(var e=this,a=[],s=0;s<e.all.length;s++)e.all[s].rating==t&&a.push(e.all[s]);e.items=a}}}),Aa=Ca,Sa=Object(c["a"])(Aa,wa,_a,!1,null,null,null),xa=Sa.exports,Ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-form",{attrs:{inline:""}},[a("b-form-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"name",name:"name",placeholder:"Name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("b-form-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"lastName",name:"lastName",placeholder:"Last name"},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}}),a("b-button",{staticClass:"mb-2 mr-sm-2 mb-sm-0",on:{click:t.onSubmit}},[t._v("Search")])],1),a("br"),a("b-table",{attrs:{striped:"",hover:"",items:t.patients,fields:t.patientFields}})],1)},Pa=[],Ia={data:function(){return{patients:[],name:"",lastName:"",patientFields:[{key:"name",headerTitle:"Name"},{key:"lastName",headerTitle:"Last Name"},{key:"phoneNumber",headerTitle:"Phone Number"}]}},methods:{onSubmit:function(t){var e=this;t.preventDefault();var a={name:this.name,lastName:this.lastName};this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/patients/search",{params:a,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.patients=t.data})).catch((function(t){404===t.response.status?e.patients=[]:console.log(t)}))}}},Da=Ia,Na=Object(c["a"])(Da,Ma,Pa,!1,null,null,null),ja=Na.exports,Fa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-form",{attrs:{inline:""}},[a("b-form-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"reservationId",name:"reservationId",placeholder:"Reservation ID"},model:{value:t.reservationId,callback:function(e){t.reservationId=e},expression:"reservationId"}}),a("b-button",{staticClass:"mb-2 mr-sm-2 mb-sm-0",on:{click:t.onSearch}},[t._v("Search")])],1),a("br"),0!==Object.keys(this.ePrescription).length?[a("h5",[a("b",[t._v("Reservation ID: ")]),t._v(t._s(this.ePrescription.id))]),a("h5",[a("b",[t._v("Patient E-mail: ")]),t._v(t._s(this.ePrescription.patientEmail))]),a("b-table",{attrs:{striped:"",hover:"",items:t.medicineQuantity,fields:t.fields}}),a("b-button",{attrs:{block:"",variant:"outline-primary"},on:{click:t.onDispense}},[t._v("Dispense")])]:t._e(),a("br"),a("b-modal",{ref:"error-modal",attrs:{"hide-footer":"",title:"Error"}},[a("div",{staticClass:"d-block text-center"},[a("p",[t._v("Reservation ID is invalid!")])]),a("b-button",{staticClass:"mt-3",attrs:{variant:"outline-danger",block:""},on:{click:t.hideErrorModal}},[t._v("Close")])],1),a("b-modal",{ref:"success-modal",attrs:{"hide-footer":"",title:"Success"}},[a("div",{staticClass:"d-block text-center"},[a("p",[t._v("Medicine has successfully been dispensed!")])]),a("b-button",{staticClass:"mt-3",attrs:{variant:"outline-success",block:""},on:{click:t.hideSuccessModal}},[t._v("Close")])],1)],2)},Oa=[],Ea=(a("d81d"),a("b64b"),{data:function(){return{ePrescription:{},reservationId:"",medicineQuantity:[],fields:[{key:"medicineName",headerTitle:"Medicine"},{key:"quantity",headerTitle:"Quantity"}]}},methods:{onSearch:function(t){var e=this;t.preventDefault(),this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/eprescriptions/"+this.reservationId+"/dispensable",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.ePrescription=t.data,e.medicineQuantity=Object.keys(e.ePrescription.medicineQuantity).map((function(t){return{medicineName:t,quantity:e.ePrescription.medicineQuantity[t]}}))})).catch((function(t){e.showErrorModal(),e.ePrescription={},e.medicineQuantity=[],console.log(t)}))},onDispense:function(t){var e=this;t.preventDefault(),this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/eprescriptions/"+this.ePrescription.id+"/dispense",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.showSuccessModal(),e.ePrescription={},e.medicineQuantity=[],console.log(t)})).catch((function(t){e.showErrorModal(),e.ePrescription={},e.medicineQuantity=[],console.log(t)}))},hideErrorModal:function(){this.$refs["error-modal"].hide()},hideSuccessModal:function(){this.$refs["success-modal"].hide()},showErrorModal:function(){this.$refs["error-modal"].show()},showSuccessModal:function(){this.$refs["success-modal"].show()}}}),Ra=Ea,Ta=Object(c["a"])(Ra,Fa,Oa,!1,null,null,null),$a=Ta.exports,za=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-form"},[a("div",{staticClass:"card-header"},[t._v("Pricelist")]),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1),a("b-col",{staticClass:"my-1",attrs:{lg:"8"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-button",{attrs:{variant:"success"},on:{click:function(e){return t.AddPromotion(e.target)}}},[t._v("Add promotion")])],1)],1)],1),a("b-table",{ref:"table",attrs:{items:t.items,fields:t.fields,responsive:"sm","sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,striped:"",hover:"","filter-included-fields":t.filterOn,small:""},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(edit)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"info"},on:{click:function(a){return t.Edit(e.item,a.target)}}},[t._v(" Edit ")])]}},{key:"cell(promotion)",fn:function(e){return[!0===e.item.promotion?a("div",[a("fa",{attrs:{icon:"check"}})],1):t._e()]}}])}),a("b-modal",{attrs:{id:t.errorModal.id,title:t.errorModal.title,"ok-only":""},on:{ended:t.errModal}},[a("pre",[t._v(t._s(t.errorModal.content))])]),a("b-modal",{attrs:{size:"sm",id:t.editModal.id,title:t.editModal.title},on:{ok:t.check,ended:t.resetInfoModal}},[a("pre",[t._v(" \n    "),a("b-form",{attrs:{inline:""}},[t._v("\n    "),a("label",[t._v(" Price:     ")]),t._v("\n    "),a("b-form-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-input-price",type:"number"},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}}),t._v("\n    ")],1),t._v("\n    "),a("b-form",{attrs:{inline:""}},[t._v("\n    "),a("label",[t._v(" Points:    ")]),t._v("\n    "),a("b-form-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-input-points",type:"number"},model:{value:t.points,callback:function(e){t.points=e},expression:"points"}}),t._v("\n    ")],1),t._v("\n  ")],1)]),a("b-modal",{attrs:{size:"lg",id:t.addModal.id,title:t.addModal.title,"ok-only":""},on:{ended:t.resetInfoModal}},[a("pre",[t._v(" \n        "),a("b-table",{ref:"selectableTable",attrs:{items:t.medicamentss,fields:t.fields2,responsive:"sm",small:"","select-mode":t.selectMode,selectable:""},on:{"row-selected":t.onRowSelected}}),t._v("\n    "),a("b-form",{attrs:{inline:""}},[t._v("\n    "),a("label",[t._v(" Price:     ")]),t._v("\n    "),a("b-form-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-input-price",type:"number"},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}}),t._v("\n    ")],1),t._v("\n    "),a("b-form",{attrs:{inline:""}},[t._v("\n    "),a("label",[t._v(" Date from: ")]),t._v("\n    "),a("b-form-datepicker",{staticClass:"mb-2",attrs:{min:t.min},model:{value:t.tf,callback:function(e){t.tf=e},expression:"tf"}}),t._v("\n    "),a("label",[t._v(" Date to: ")]),t._v("\n    "),a("b-form-datepicker",{staticClass:"mb-2",attrs:{min:t.min},model:{value:t.tt,callback:function(e){t.tt=e},expression:"tt"}}),t._v("\n    ")],1),t._v("\n    "),a("b-button",{attrs:{size:"sm",variant:"success"},on:{click:function(e){return t.AddOne()}}},[t._v("   Add\n      ")]),t._v("\n    \n  ")],1)])],1)},Ba=[],La=a("c1df"),qa=a.n(La),Ya={data:function(){return{fields:[{key:"name",sortable:!0,label:"Medicament"},{key:"price",sortable:!0,label:"Price"},{key:"points",sortable:!0,label:"Points"},{key:"date1",sortable:!0,label:"Date from"},{key:"date2",sortable:!0,label:"Date to"},{key:"promotion",label:"Promotion"},{key:"edit",label:""}],fields2:[{key:"id",label:"Id"},{key:"name",label:"Name"},{key:"type",label:"Type"},{key:"medicamentForm",label:"Medicament form"},{key:"manufacturer",label:"Manufacturer"}],items:[],selectMode:"single",sortBy:"name",sortDesc:!1,filter:null,filterOn:[],totalRows:1,totalRows1:1,new:[],errorModal:{id:"error-modal",title:"",content:""},addModal:{id:"add-modal",title:"",content:""},editModal:{id:"edit-modal",title:"",content:""},all:[],medicamentss:[],old:[],quantity:0,pharmacy:{},selected:[],medicamentItems:[],price:0,tf:"",tt:"",datefrom:"",points:0,id:0,priceid:0,pharmacyId:0,min:Date}},mounted:function(){var t=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,e=this;e.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacyAdmin/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){var a=new Date,s=new Date(a.getFullYear(),a.getMonth(),a.getDate());e.min=new Date(s),e.pharmacyId=t.data.pharmacy.id,e.refresh()})).catch((function(t){console.log(t)}))},methods:{onFiltered:function(t){self.totalRows=t.length},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},errModal:function(){this.errorModal.title="",this.errorModal.content=""},Edit:function(t,e){this.id=t.id,this.price=t.price,this.points=t.points,this.datefrom=t.date,this.priceid=t.priceid,this.editModal.title="Edit pricelist",this.$root.$emit("bv::show::modal",this.editModal.id,e)},datum:function(t){return qa()(t,"YYYY-MM-DD").format("DD/MM/YYYY")},check:function(){var t=this;t.axios.put("https://mrs-isa-projekat-backend.herokuapp.com/api/pricelistItems/update/"+t.id,{price:[{id:t.priceid,value:t.price,points:t.points}]},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e),t.items=[],t.refresh()}))},refresh:function(){var t=this;t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pricelistItems/"+t.pharmacyId,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.length;a++){console.log(e.data[a]);var s={};s.id=e.data[a].id,s.medicamentId=e.data[a].medicament.id,s.name=e.data[a].medicament.name,s.type=e.data[a].medicament.type,s.medicamentForm=e.data[a].medicament.form,s.manufacturer=e.data[a].medicament.manufacturer,s.structure=e.data[a].medicament.structure,s.issuanceMode=e.data[a].medicament.mode,s.annotation=e.data[a].medicament.annotation,s.medicamentRating=0,s.pharmacyId=e.data[a].pharmacy.id,s.date1=t.datum(e.data[a].price[0].dateFrom),null==e.data[a].price[0].dateTo?s.date2="":s.date2=t.datum(e.data[a].price[0].dateTo),1==e.data[a].price[0].promotion?s.promotion=!0:s.promotion=!1,s.points=e.data[a].price[0].points,s.price=e.data[a].price[0].value,s.priceid=e.data[a].price[0].id,t.items.push(s)}t.totalRows=t.items.length,t.GetAllMedicamentItems()}))},onRowSelected:function(t){this.selected=t},AddPromotion:function(t){this.addModal.title="Add promotion",this.$root.$emit("bv::show::modal",this.addModal.id,t)},GetAllMedicamentItems:function(){var t=this;t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/medicamentItems/"+parseInt(t.pharmacyId),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.length;a++){var s={};s.id=e.data[a].id,s.name=e.data[a].medicament.name,s.medId=e.data[a].medicament.id,s.type=e.data[a].medicament.type,s.annotation=e.data[a].medicament.annotation,s.structure=e.data[a].medicament.structure,s.manufacturer=e.data[a].medicament.manufacturer,s.medicamentForm=e.data[a].medicament.form,s.issuanceMode=e.data[a].medicament.mode,t.medicamentss.push(s)}t.totalRows=t.items.length}))},AddOne:function(){var t=this,e=this.selected[0],a=this.medicamentss.indexOf(e);if(-1!=a){this.medicamentss.splice(a,1);var s=this;s.axios.put("https://mrs-isa-projekat-backend.herokuapp.com/api/pricelistItems/promotion/"+s.selected[0].medId+"/"+s.pharmacyId,{price:[{id:s.priceid,value:s.price,dateFrom:s.tf,dateTo:s.tt}]},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){console.log(t),s.selected=[],s.items=[],s.medicamentss=[],s.refresh()})).catch((function(e){"400"==e.response.status&&(t.errorModal.title="Error",t.errorModal.content="You can't make promotion for this medicament! ",t.$root.$emit("bv::show::modal",t.errorModal.id))}))}}}},Ha=Ya,Ja=(a("3025"),Object(c["a"])(Ha,za,Ba,!1,null,"387a4dd6",null)),Ua=Ja.exports,Wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"navbar-div",staticStyle:{"margin-bottom":"100px"}},[a("b-navbar",{attrs:{fixed:"top",toggleable:"lg",type:"light",variant:"light"}},[a("b-navbar-brand",{attrs:{href:"/DermatologistPage/PharmacyList"}},[t._v("Home Page")]),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",[a("b-nav-item",{attrs:{href:"/DermatologistPage/MedicamentList"}},[t._v("Medicaments")]),a("b-nav-item",{attrs:{href:"/DermatologistPage/PharmacyList"}},[t._v(" Pharmacies")]),a("b-nav-item-dropdown",{attrs:{left:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[t._v(" Examination ")]},proxy:!0}])},[a("b-dropdown-item",{attrs:{href:"/DermatologistPage/ExaminationSearch?type=dermatologist"}},[t._v("Start an examination")]),a("b-dropdown-item",{attrs:{href:"#"}},[t._v("Schedule an examination for a client")]),a("b-dropdown-item",{attrs:{href:"/DermatologistPage/ExaminedPatients?type=dermatologist"}},[t._v("Examination history")]),a("b-dropdown-item",{attrs:{href:"/DermatologistPage/SearchPatients"}},[t._v("Search patients")])],1),a("b-nav-item",{attrs:{href:"/DermatologistPage/RequestDaysOff?type=dermatologist"}},[t._v("Request days off")])],1),a("b-navbar-nav",{staticClass:"ml-auto"},[a("Search",{attrs:{path:"/DermatologistPage"}}),a("b-nav-item",{staticStyle:{"margin-left":"10px"},attrs:{href:"/DermatologistPage/WorkCalendar?type=dermatologist"}},[a("b-icon-calendar-2-week")],1),a("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("em",{staticClass:"pl-2"},[t._v("User")])]},proxy:!0}])},[a("b-dropdown-item",{attrs:{href:"/DermatologistPage/PatientProfile?type=dermatologist"}},[t._v("Profile")]),a("b-dropdown-item",{attrs:{href:"/DermatologistPage/ChangePassword"}},[t._v("Change password")]),a("b-dropdown-item",{attrs:{href:"/Logout"}},[t._v("Sign Out")])],1)],1)],1)],1)],1),a("router-view")],1)},Ga=[],Va={components:{BIconCalendar2Week:Tt["c"],Search:Yt},props:{}},Qa=Va,Xa=Object(c["a"])(Qa,Wa,Ga,!1,null,null,null),Ka=Xa.exports,Za=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"justify-content-center login"},[a("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showSuccessAlert,callback:function(e){t.showSuccessAlert=e},expression:"showSuccessAlert"}},[t._v(" Bad credentials. ")]),a("b-card",{attrs:{title:"Login"}},[a("b-form",[a("b-form-input",{attrs:{id:"input-1",placeholder:"Username",required:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("b-form-input",{attrs:{id:"input-2",placeholder:"Password",required:"",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("div",{staticClass:"mt-2"},[a("b-button",{attrs:{variant:"primary",type:"button"},on:{click:function(e){return t.login()}}},[t._v("Login")])],1)],1)],1)],1)},ts=[],es={name:"Login",data:function(){return{username:"",password:"",showSuccessAlert:!1}},methods:{login:function(){var t=this,e=this;""==this.username&&""==this.password&&console.log("A username and password must be present"),this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/auth/login",{username:this.username,password:this.password}).then((function(e){localStorage.setItem("token",e.data.accessToken),t.findUserRole()})).catch((function(t){console.log(t),e.showSuccessAlert=!0}))},findUserRole:function(){var t=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).role,e=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).active;"ROLE_PATIENT"==t&&0==e?this.$router.push("PatientPage/ChangePassword"):"ROLE_PATIENT"==t&&1==e&&this.$router.push("/PatientPage"),"ROLE_SYSTEM_ADMIN"==t&&0==e?this.$router.push("SystemAdminPage/ChangePassword"):"ROLE_SYSTEM_ADMIN"==t&&1==e&&this.$router.push("/SystemAdminPage"),"ROLE_PHARMACY_ADMIN"==t&&0==e?this.$router.push("PharmacyAdminPage/ChangePassword"):"ROLE_PHARMACY_ADMIN"==t&&1==e&&this.$router.push("/PharmacyAdminPage"),"ROLE_SUPPLIER"==t&&0==e?this.$router.push("SupplierPage/ChangePassword"):"ROLE_SUPPLIER"==t&&1==e&&this.$router.push("/SupplierPage"),"ROLE_PHARMACIST"==t&&0==e?this.$router.push("PharmacistPage/ChangePassword"):"ROLE_PHARMACIST"==t&&1==e&&this.$router.push("/PharmacistPage"),"ROLE_DERMATOLOGIST"==t&&0==e?this.$router.push("DermatologistPage/ChangePassword"):"ROLE_DERMATOLOGIST"==t&&1==e&&this.$router.push("/DermatologistPage")}}},as=es,ss=(a("8db1"),Object(c["a"])(as,Za,ts,!1,null,"07933c7c",null)),os=ss.exports,rs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("redirecting...")])},is=[],ns=Object(A["a"])({name:"Logout",mounted:function(){localStorage.removeItem("token"),this.$router.push("/Login")}}),ls=ns,cs=Object(c["a"])(ls,rs,is,!1,null,null,null),ds=cs.exports,ms=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"navbar-div",staticStyle:{"margin-bottom":"100px"}},[a("b-navbar",{attrs:{fixed:"top",toggleable:"lg",type:"light",variant:"light"}},[a("b-navbar-brand",{attrs:{href:"/PatientPage/PharmacyList"}},[t._v("Home Page")]),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",[a("b-nav-item",{attrs:{href:"/PatientPage/MedicamentList"}},[t._v("Medicaments")]),a("b-nav-item",{attrs:{href:"/PatientPage/PharmacyList"}},[t._v(" Pharmacies")]),a("b-nav-item-dropdown",{attrs:{left:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[t._v(" Appointments ")]},proxy:!0}])},[a("b-dropdown-item",{attrs:{href:"/PatientPage/ReservedAppointmentsTable"}},[t._v(" Reserved Appointments")]),a("b-dropdown-item",{attrs:{href:"/PatientPage/PastAppointments"}},[t._v("Appointment history")])],1),a("b-nav-item-dropdown",{attrs:{left:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[t._v(" Complaints ")]},proxy:!0}])},[a("b-dropdown-item",{attrs:{href:"/PatientPage/ComplaintUnansweredReview"}},[t._v(" See all unanswered complaints")]),a("b-dropdown-item",{attrs:{href:"/PatientPage/ComplaintReview"}},[t._v(" See all answered complaints")]),a("b-dropdown-item",{attrs:{href:"/PatientPage/WriteComplaint"}},[t._v("Write complaint")])],1),a("b-nav-item",{attrs:{href:"/PatientPage/ReservedMedicamentsTable"}},[t._v(" Reserved Medicaments")]),a("b-nav-item",{attrs:{href:"/PatientPage/ePrescriptions"}},[t._v(" ePrescriptions ")]),a("b-nav-item",{attrs:{href:"/PatientPage/QRCodeReader"}},[t._v(" Upload QR Code ")])],1),a("b-navbar-nav",{staticClass:"ml-auto"},[a("Search",{attrs:{path:"/PatientPage"}}),a("b-nav-item",{staticStyle:{"margin-left":"10px"},attrs:{href:"#"}},[a("b-icon-calendar-2-week")],1),a("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("em",{staticClass:"pl-2"},[t._v("User")])]},proxy:!0}])},[a("b-dropdown-item",{attrs:{href:"/PatientPage/PatientProfile"}},[t._v("Profile")]),a("b-dropdown-item",{attrs:{href:"/PatientPage/ChangePassword"}},[t._v("Change password")]),a("b-dropdown-item",{attrs:{href:"/Logout"}},[t._v("Sign Out")])],1)],1)],1)],1)],1),a("router-view")],1)},us=[],ps={components:{Search:Yt},props:{}},hs=ps,fs=Object(c["a"])(hs,ms,us,!1,null,null,null),bs=fs.exports,vs=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},gs=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"activation"},[a("p",[t._v("You activated your account!")]),a("a",{attrs:{href:"/Login"}},[t._v("Login")])])}],ys={name:"SuccessActivation"},ks=ys,ws=(a("f985"),Object(c["a"])(ks,vs,gs,!1,null,"67762a21",null)),_s=ws.exports,Cs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-form",scopedSlots:t._u([{key:"actions",fn:function(e){return[a("b-button",{attrs:{size:"sm"},on:{click:function(t){return t.stopPropagation(),e.toggleDetails(t)}}},[t._v(" "+t._s(e.detailsShowing?"Hide":"Show")+" Details ")])]}}])},[a("div",{staticClass:"card-header"},[t._v("Reserved medicaments")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showFailedAlert,callback:function(e){t.showFailedAlert=e},expression:"showFailedAlert"}},[t._v(" Cannot cancel this medicament! It's expiry date is in less than 24 hours. ")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showSuccessAlert,callback:function(e){t.showSuccessAlert=e},expression:"showSuccessAlert"}},[t._v(" You successfully canceled your medicament reservation! ")]),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1),a("b-col",{staticClass:"my-1",attrs:{lg:"8"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.cancelAppointment()}}},[t._v(" Cancel medicament reservation ")])],1)],1)],1),a("b-table",{ref:"table",attrs:{items:t.items,fields:t.fields,responsive:"sm","sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,striped:"",hover:"",selectable:"","filter-included-fields":t.filterOn,"select-mode":"single",small:""},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered,"row-clicked":t.test}}),a("b-modal",{attrs:{id:t.errorModal.id,title:t.errorModal.title,"ok-only":"","header-bg-variant":t.headerErrorVariant,"footer-bg-variant":t.headerErrorVariant},on:{ended:t.errModal}},[a("pre",[t._v(t._s(t.errorModal.content))])]),a("b-modal",{attrs:{size:"lm",id:t.addModal.id,title:t.addModal.title,"header-bg-variant":t.headerBgVariant,"footer-bg-variant":t.headerBgVariant},on:{ok:t.AddOne,ended:t.resetInfoModal}})],1)},As=[],Ss={components:{},data:function(){return{fields:[{key:"medicamentName",sortable:!0,label:"Medicament"},{key:"quantity",sortable:!0,label:"Quantity"},{key:"expiryDate",sortable:!0,label:"Expiry date"}],items:[],selectMode:"single",sortBy:"date",sortDesc:!1,filter:null,filterOn:[],totalRows:1,totalRows1:1,new:[],errorModal:{id:"error-modal",title:"",content:""},addModal:{id:"add-modal",title:"",content:""},showAlert:!1,headerBgVariant:"success",headerErrorVariant:"warning",e:{},selected:Boolean,date:"",message:"",d:Object,weekday:"",list:[],allMedicaments:"",t:0,selectedMedicament:"",selectedIndex:"",showFailedAlert:!1,showSuccessAlert:!1}},mounted:function(){var t=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,e=this;e.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/patients/reservedMedication/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.allMedicaments=t.data,console.log(t.data);for(var a=0;a<t.data.length;a++){var s={};s.reservationId=t.data[a].id,s.id=t.data[a].patientEmail,s.expiryDate=t.data[a].expiryDate,s.quantity=t.data[a].quantity,s.medicamentName=t.data[a].medicament.name,s.medicament=t.data[a].medicament,e.items.push(s)}e.totalRows=e.items.length,e.items.forEach((function(t){t["expiryDate"]=new Date(t["expiryDate"]).toDateString()}))})).catch((function(t){console.log(t)}))},methods:{test:function(t,e){this.selectedMedicament=t,console.log(this.selectedMedicament),this.selectedIndex=e,console.log(e)},onFiltered:function(t){self.totalRows=t.length},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},errModal:function(){this.errorModal.title="",this.errorModal.content=""},cancelAppointment:function(){var t=this;this.showFailedAlert=!1,this.showSuccessAlert=!1,this.axios.delete("https://mrs-isa-projekat-backend.herokuapp.com/api/patients/cancelReservation/"+this.selectedMedicament.reservationId,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(){t.allMedicaments.splice(t.selectedIndex,1),t.items.splice(t.selectedIndex,1),console.log(t.allMedicaments),t.showSuccessAlert=!0})).catch((function(e){t.showFailedAlert=!0,console.log(e)}))},dateDisabled:function(t,e){var a=new Date,s=a.getMonth(),o=a.getDate(),r=e.getDate(),i=e.getMonth();return r<=o&&i<=s||r>=o&&i<s}}},xs=Ss,Ms=(a("4679"),Object(c["a"])(xs,Cs,As,!1,null,"88caa1bc",null)),Ps=Ms.exports,Is=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Unanswered Complaints")]),a("hr"),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showDismissibleAlert,callback:function(e){t.showDismissibleAlert=e},expression:"showDismissibleAlert"}},[t._v(" Could not send answer. ")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showSuccessAlert,callback:function(e){t.showSuccessAlert=e},expression:"showSuccessAlert"}},[t._v(" Your answer has been submited. ")]),a("div",{staticClass:"jusify-content"},[a("div",{staticClass:"row row-cols-4 row-cols-md-3 g-2"},t._l(t.complaints,(function(t){return a("div",{key:t.id,staticClass:"col-lg-3 col-md-6 col-sm-8 offset-md-1 offset-sm-0",staticStyle:{height:"25rem"}},[a("div",[a("UnansweredComplaint",{attrs:{complaint:t}})],1)])})),0)])],1)},Ds=[],Ns=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showDismissibleAlert,callback:function(e){t.showDismissibleAlert=e},expression:"showDismissibleAlert"}},[t._v(" Could not send complaint. ")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showSuccessAlert,callback:function(e){t.showSuccessAlert=e},expression:"showSuccessAlert"}},[t._v(" Your complaint has been sent. ")]),a("h5",{staticClass:"card-text"},[t._v(t._s(t.complaint.description))]),a("p",{staticClass:"card-text",attrs:{id:"colorIt"}},[t._v(t._s(t.objectOfComplaint))]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.seen,expression:"seen"}],attrs:{id:"hide"}},[a("hr"),a("label",[t._v("Your answer:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.response,expression:"response"}],staticClass:"form-control",domProps:{value:t.response},on:{input:function(e){e.target.composing||(t.response=e.target.value)}}}),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.sendResponse}},[t._v(" Send ")])])],1)},js=[],Fs=Object(A["a"])({name:"UnnasweredComplaint",props:{complaint:Object},data:function(){return{user:"",objectOfComplaint:"",pharmacy:null,employee:null,mockupComplaint:null,response:"",showSuccessAlert:!1,showDismissibleAlert:!1,seen:!0,role:""}},mounted:function(){var t=this;this.user=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,this.role=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).role,"ROLE_PATIENT"==this.role&&(this.seen=!1),null==this.complaint.employee?this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/"+parseInt(this.complaint.pharmacy),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.pharmacy=e.data,t.objectOfComplaint=t.pharmacy.name})).catch((function(t){return console.log(t.response.data)})):(this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacist/"+this.complaint.employee,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.employee=e.data,t.objectOfComplaint=t.employee.name+" "+t.employee.lastName})).catch((function(t){return console.log(t.response.data)})),null==this.employee&&this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/dermatologist/"+this.complaint.employee,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.employee=e.data,t.objectOfComplaint=t.employee.name+" "+t.employee.lastName})).catch((function(t){return console.log(t.response.data)})))},methods:{sendResponse:function(){var t=this;""==this.response?this.showDismissibleAlert=!0:this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/complaints/update/",{id:this.complaint.id,employee:this.complaint.employee,pharmacy:this.complaint.pharmacy,description:this.complaint.description,response:this.response,responder:this.user,patient:this.complaint.patient},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){null!=e.data&&(t.showSuccessAlert=!0,t.showDismissibleAlert=!1)})).catch((function(e){console.log(e),t.showDismissibleAlert=!0,t.showSuccessAlert=!1}))}}}),Os=Fs,Es=(a("c670"),Object(c["a"])(Os,Ns,js,!1,null,"4b6da85a",null)),Rs=Es.exports,Ts=Object(A["a"])({components:{UnansweredComplaint:Rs},data:function(){return{showDismissibleAlert:!1,showSuccessAlert:!1,complaints:[],user:"",role:""}},mounted:function(){var t=this;this.user=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,this.role=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).role,"ROLE_PATIENT"==this.role?this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/complaints/getAllUnansweredForPatient/"+this.user,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.complaints=e.data,console.log(t.complaints)})).catch((function(t){return console.log(t.response.data)})):this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/api/complaints/getAllUnanswered/",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.complaints=e.data,console.log(t.complaints)})).catch((function(t){return console.log(t.response.data)}))}}),$s=Ts,zs=Object(c["a"])($s,Is,Ds,!1,null,null,null),Bs=zs.exports,Ls=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-form",scopedSlots:t._u([{key:"actions",fn:function(e){return[a("b-button",{attrs:{size:"sm"},on:{click:function(t){return t.stopPropagation(),e.toggleDetails(t)}}},[t._v(" "+t._s(e.detailsShowing?"Hide":"Show")+" Details ")])]}}])},[a("div",{staticClass:"card-header"},[t._v("Appointments")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showFailedAlert,callback:function(e){t.showFailedAlert=e},expression:"showFailedAlert"}},[t._v(" Cannot cancel this appointment! It starts in less than 24 hours. ")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showSuccessAlert,callback:function(e){t.showSuccessAlert=e},expression:"showSuccessAlert"}},[t._v(" You successfully canceled your appointment! ")]),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1),a("b-col",{staticClass:"my-1",attrs:{lg:"8"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.cancelAppointment()}}},[t._v(" Cancel appointment reservation ")])],1)],1)],1),a("b-table",{ref:"table",attrs:{items:t.items,fields:t.fields,responsive:"sm","sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,striped:"",hover:"",selectable:"","filter-included-fields":t.filterOn,"select-mode":"single",small:""},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered,"row-clicked":t.test}}),a("b-modal",{attrs:{id:t.errorModal.id,title:t.errorModal.title,"ok-only":"","header-bg-variant":t.headerErrorVariant,"footer-bg-variant":t.headerErrorVariant},on:{ended:t.errModal}},[a("pre",[t._v(t._s(t.errorModal.content))])]),a("b-modal",{attrs:{size:"lm",id:t.addModal.id,title:t.addModal.title,"header-bg-variant":t.headerBgVariant,"footer-bg-variant":t.headerBgVariant},on:{ok:t.AddOne,ended:t.resetInfoModal}})],1)},qs=[],Ys=a("4478"),Hs=a("2909"),Js={components:{},data:function(){return{fields:[{key:"date1",sortable:!0,label:"Date"},{key:"timeFrom",sortable:!0,label:"Time from"},{key:"timeTo",sortable:!0,label:"Time to"},{key:"employee",sortable:!0,label:"Employee"},{key:"type",sortable:!0,label:"Appointment"}],items:[],selectMode:"single",sortBy:"date",sortDesc:!1,filter:null,filterOn:[],totalRows:1,totalRows1:1,new:[],errorModal:{id:"error-modal",title:"",content:""},addModal:{id:"add-modal",title:"",content:""},showAlert:!1,headerBgVariant:"success",headerErrorVariant:"warning",e:{},selected:Boolean,date:"",message:"",d:Object,weekday:"",list:[],allAppointments:"",t:0,selectedAppointment:"",selectedIndex:"",showFailedAlert:!1,showSuccessAlert:!1}},mounted:function(){var t=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,e=this;e.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/patients/reservedAppointments/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.allAppointments=t.data;for(var a=0;a<t.data.length;a++){var s={};s.id=t.data[a].appointmentId,s.date=t.data[a].date,s.timeFrom=t.data[a].termFrom,s.timeTo=t.data[a].termTo,s.type=t.data[a].type,s.employee=t.data[a].employee.name+" "+t.data[a].employee.lastName,e.items.push(s)}e.totalRows=e.items.length,e.items.forEach((function(t){t["date1"]=new Date(t["date"]).toDateString(),t["date"][1]-=1;var e=t["date"].concat(t["timeFrom"]).concat([0,0]);t["timeFrom"]=Object(Ys["a"])(Date,Object(Hs["a"])(e)).toLocaleTimeString();var a=t["date"].concat(t["timeTo"]).concat([0,0]);t["timeTo"]=Object(Ys["a"])(Date,Object(Hs["a"])(a)).toLocaleTimeString()}))})).catch((function(t){console.log(t)}))},methods:{test:function(t,e){this.selectedAppointment=t,this.selectedIndex=e,console.log(e)},onFiltered:function(t){self.totalRows=t.length},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},errModal:function(){this.errorModal.title="",this.errorModal.content=""},cancelAppointment:function(){var t=this;this.showFailedAlert=!1,this.showSuccessAlert=!1,this.axios.delete("https://mrs-isa-projekat-backend.herokuapp.com/api/patients/delete_examination/"+this.selectedAppointment.id,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e.data),t.allAppointments.splice(t.selectedIndex,1),t.items.splice(t.selectedIndex,1),console.log(t.allAppointments),t.showSuccessAlert=!0})).catch((function(){return t.showFailedAlert=!0}))},dateDisabled:function(t,e){var a=new Date,s=a.getMonth(),o=a.getDate(),r=e.getDate(),i=e.getMonth();return r<=o&&i<=s||r>=o&&i<s}}},Us=Js,Ws=(a("2ba0"),Object(c["a"])(Us,Ls,qs,!1,null,"d6601c28",null)),Gs=Ws.exports,Vs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Write Complaint")]),a("hr"),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showDismissibleAlert,callback:function(e){t.showDismissibleAlert=e},expression:"showDismissibleAlert"}},[t._v(" Could not send complaint. "+t._s(t.message)+" ")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showSuccessAlert,callback:function(e){t.showSuccessAlert=e},expression:"showSuccessAlert"}},[t._v(" Your complaint has been sent. ")]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right"},[t._v("Choose dermatologist")]),a("label",{staticClass:"col-md-4 col-form-label text-md-right"},[t._v("Choose pharmacist")]),a("label",{staticClass:"col-md-4 col-form-label text-md-right"},[t._v("Choose pharmacy")]),a("div",{staticClass:"col-md-4"},[a("b-form-select",{on:{change:t.setNullPharmacy},model:{value:t.employee,callback:function(e){t.employee=e},expression:"employee"}},t._l(t.dermatologist,(function(e){return a("option",{key:e.email,domProps:{value:e}},[t._v(" "+t._s(e.name)+" ")])})),0)],1),a("div",{staticClass:"col-md-4"},[a("b-form-select",{on:{change:t.setNullPharmacy},model:{value:t.employee,callback:function(e){t.employee=e},expression:"employee"}},t._l(t.pharmacists,(function(e){return a("option",{key:e.email,domProps:{value:e}},[t._v(" "+t._s(e.name)+" ")])})),0)],1),a("div",{staticClass:"col-md-4"},[a("b-form-select",{on:{change:t.setNullEmployee},model:{value:t.pharmacy,callback:function(e){t.pharmacy=e},expression:"pharmacy"}},t._l(t.pharmacies,(function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v(" "+t._s(e.name)+" ")])})),0)],1)]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-2 col-form-label text-md-right"},[t._v("Write complaint: ")]),a("div",{staticClass:"col-md-8"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{name:"description"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-md-12"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.sendComplaint}},[t._v(" Send ")])])])],1)},Qs=[],Xs=a("8785"),Ks=Object(A["a"])({name:"WriteComplaint",data:function(){return{patient:"",dermatologist:[],pharmacists:[],pharmacies:[],employee:null,pharmacy:null,description:"",showDismissibleAlert:!1,showSuccessAlert:!1,message:""}},mounted:function(){var t=this;this.patient=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"(s||(s=Object(Xs["a"])(["/complaints/allPharmacist/"])))+this.patient,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.pharmacists=e.data,console.log(t.pharmacists)})).catch((function(t){return console.log(t.response.data)})),this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/complaints/allDermatologists/"+this.patient,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.dermatologist=e.data})).catch((function(t){return console.log(t.response.data)})),this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/complaints/allPharmacies/"+this.patient,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.pharmacies=e.data,console.log(t.pharmacies)})).catch((function(t){return console.log(t.response.data)}))},methods:{sendComplaint:function(){var t=this,e=this.pharmacy,a=this.employee,s=!1;null!=this.employee&&(a=this.employee.email),null!=this.pharmacy&&(e=this.pharmacy.id),""==this.description&&(s=!0),0==s?this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/complaints/save/"+this.patient,{employee:a,pharmacy:e,description:this.description,patient:this.patient},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){null!=e.data&&(t.showSuccessAlert=!0,t.showDismissibleAlert=!1,t.updateData())})).catch((function(e){console.log(e),t.message="",t.showDismissibleAlert=!0,t.showSuccessAlert=!1})):(this.message=" Complaint cannot be empty",this.showDismissibleAlert=!0)},setNullPharmacy:function(){this.pharmacy=null,console.log(this.pharmacy+"  "+this.employee)},setNullEmployee:function(){this.employee=null,console.log(this.pharmacy+" "+this.employee)},updateData:function(){var t=this;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/complaints/allPharmacist/"+this.patient,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.pharmacists=e.data,console.log(t.pharmacists)})).catch((function(t){return console.log(t.response.data)})),this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/complaints/allDermatologists/"+this.patient,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.dermatologist=e.data})).catch((function(t){return console.log(t.response.data)})),this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/complaints/allPharmacies/"+this.patient,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.pharmacies=e.data,console.log(t.pharmacies)})).catch((function(t){return console.log(t.response.data)}))}}}),Zs=Ks,to=Object(c["a"])(Zs,Vs,Qs,!1,null,null,null),eo=to.exports,ao=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},so=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"activation"},[a("p",[t._v("Invalid token!")]),a("a",{attrs:{href:"/Login"}},[t._v("Login")])])}],oo={name:"FailedActivation"},ro=oo,io=(a("bd39"),Object(c["a"])(ro,ao,so,!1,null,"0f2537bb",null)),no=io.exports,lo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["dermatologist"===t.type?a("h1",[t._v("Your upcoming examinations")]):t._e(),"pharmacist"===t.type?a("h1",[t._v("Your upcoming counselings")]):t._e(),a("br"),a("b-form",{attrs:{inline:""}},[a("b-form-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"name",name:"name",placeholder:"Name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("b-form-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"lastName",name:"lastName",placeholder:"Last name"},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}}),a("b-button",{staticClass:"mb-2 mr-sm-2 mb-sm-0",on:{click:t.onSubmit}},[t._v("Search")])],1),a("br"),a("b-table",{attrs:{striped:"",hover:"",items:t.appointments,fields:t.appointmentFields},scopedSlots:t._u([{key:"cell(action)",fn:function(e){return[e.item.chosenEmployee.currentlyInAppointment?a("div",[e.item.medicalReport?a("button",{ref:"btn"+e.index,staticClass:"btn btn-dark",on:{click:function(a){return t.startAppointment(e)}}},[t._v("Resume appointment")]):t._e()]):t._e(),e.item.chosenEmployee.currentlyInAppointment?t._e():a("div",[a("button",{ref:"btn"+e.index,staticClass:"btn btn-dark",on:{click:function(a){return t.startAppointment(e)}}},[t._v("Start appointment")])])]}}])})],1)},co=[],mo=a("b85c"),uo={data:function(){return{appointments:[],name:"",lastName:"",appointmentFields:[{key:"patient.name",headerTitle:"Name",label:"Name",sortable:!0},{key:"patient.lastName",headerTitle:"Last Name",label:"Last Name",sortable:!0},{key:"patient.phoneNumber",headerTitle:"Phone Number",label:"Phone Number"},{key:"dateStr",headerTitle:"Date",label:"Date"},{key:"timeFrom",headerTitle:"From",label:"From"},{key:"timeTo",headerTitle:"To",label:"To"},"action"],type:""}},methods:{onSubmit:function(t){var e=this;t&&t.preventDefault();var a={name:this.name,lastName:this.lastName},s="dermatologist"===this.type?"dermatologist/examinations":"pharmacist/counselings";this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/".concat(s),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){var s,o=[],r=Object(mo["a"])(t.data);try{for(r.s();!(s=r.n()).done;){var i=s.value;i.patient.name.toLowerCase().includes(a.name.toLowerCase())&&i.patient.lastName.toLowerCase().includes(a.lastName.toLowerCase())&&o.push(i)}}catch(n){r.e(n)}finally{r.f()}o.forEach((function(t){t["dateStr"]=new Date(t["date"]).toDateString(),t["date"][1]-=1;var e=t["date"].concat(t["termFrom"]).concat([0,0]);t["timeFrom"]=Object(Ys["a"])(Date,Object(Hs["a"])(e)).toLocaleTimeString();var a=t["date"].concat(t["termTo"]).concat([0,0]);t["timeTo"]=Object(Ys["a"])(Date,Object(Hs["a"])(a)).toLocaleTimeString()})),e.appointments=o})).catch((function(t){404===t.response.status?e.appointments=[]:(e.appointments=[],console.log(t))}))},startAppointment:function(t){var e=this,a=t.item.id;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/appointments/".concat(a,"/start"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(a){var s=a.data;t.item.medicalReportId=s;var o="dermatologist"===e.type?"DermatologistPageAppointmentPage":"PharmacistPageAppointmentPage";e.$router.push({name:o,params:{appointment:t.item,medicalReportId:s,type:e.type}})})).catch((function(t){console.log(t)}))}},mounted:function(){this.onSubmit()},created:function(){this.type=this.$route.query.type}},po=uo,ho=Object(c["a"])(po,lo,co,!1,null,null,null),fo=ho.exports,bo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["dermatologist"===t.type?a("h1",[t._v("Examination of patient "+t._s(t.appointment.patient.name)+" "+t._s(t.appointment.patient.lastName))]):t._e(),"pharmacist"===t.type?a("h1",[t._v("Counseling session of patient "+t._s(t.appointment.patient.name)+" "+t._s(t.appointment.patient.lastName))]):t._e(),a("br"),a("h3",[t._v("Prescribed medicines")]),a("b-table",{attrs:{striped:"",hover:"",items:t.prescribedMedicines,fields:t.prescribedMedicineFields}}),a("div",{staticStyle:{"text-align":"center"}},[a("b-button",{attrs:{variant:"secondary"},on:{click:t.onPrescribeMore}},[t._v("Prescribe more")])],1),a("div",{staticStyle:{margin:"25px"}},[a("b-form-textarea",{attrs:{id:"textarea",placeholder:"Enter examination info...",rows:"5","max-rows":"10"},model:{value:t.examinationText,callback:function(e){t.examinationText=e},expression:"examinationText"}})],1),a("div",{staticStyle:{"text-align":"center"}},[a("b-button",{attrs:{size:"sm",variant:"info"},on:{click:t.onScheduleAnotherAppointment}},[t._v("Schedule another appointment")])],1),a("br"),a("div",{staticStyle:{"text-align":"center"}},[a("b-button",{staticStyle:{margin:"10px"},attrs:{variant:"danger"},on:{click:t.onPatientAbsent}},[t._v("Patient is absent")]),a("b-button",{staticStyle:{margin:"10px"},attrs:{variant:"success"},on:{click:t.onEndExamination}},[t._v("End examination")])],1),a("br"),a("b-modal",{ref:"error-modal",attrs:{"hide-footer":"",title:"Error"}},[a("div",{staticClass:"d-block text-center"},[a("p",[t._v("An unexpected error has occurred.")])]),a("b-button",{staticClass:"mt-3",attrs:{variant:"outline-danger",block:""},on:{click:t.hideErrorModal}},[t._v("Close")])],1),a("b-modal",{ref:"success-modal",attrs:{"hide-footer":"",title:"Success"},on:{hide:t.goToHomePage}},[a("div",{staticClass:"d-block text-center"},[a("p",[t._v(t._s(this.successMessage))])]),a("b-button",{staticClass:"mt-3",attrs:{variant:"outline-success",block:""},on:{click:t.goToHomePage}},[t._v("Close")])],1),a("b-modal",{ref:"prescription-modal",attrs:{size:"xl",scrollable:"","hide-footer":"",title:"Prescription"}},[a("b-container",{attrs:{fluid:""}},[a("MedicamentListPreviewAppointment",{attrs:{prescriptionMode:!0,appointment:t.appointment},on:{prescribed:t.onPrescribed}})],1),a("br"),a("b-button",{staticClass:"mt-3",staticStyle:{"margin-top":"5rem"},attrs:{variant:"outline-success",block:""},on:{click:t.hidePrescriptionModal}},[t._v("Done")])],1),a("b-modal",{ref:"scheduling-modal",attrs:{size:"xl","hide-footer":"",title:"Scheduling"}},[a("div",{staticClass:"d-block text-center"},[a("h3",[t._v("Existing appointments")])]),a("b-table",{attrs:{striped:"",hover:"",items:t.existingAppointments,fields:t.existingAppointmentsFields},scopedSlots:t._u([{key:"cell(action)",fn:function(e){return[a("button",{ref:"btn"+e.index,staticClass:"btn btn-dark",on:{click:function(a){return t.scheduleExistingAppointment(e)}}},[t._v("Schedule")])]}}])}),a("b-button",{staticStyle:{margin:"10px"},attrs:{variant:"info"},on:{click:t.onCreateAndScheduleNewAppointment}},[t._v(" Create and schedule new appointment ")])],1),a("b-modal",{ref:"scheduling-success-modal",attrs:{"hide-footer":"",title:"Success"},on:{hide:t.hideAllSchedulingModals}},[a("div",{staticClass:"d-block text-center"},[a("p",[t._v(t._s(this.successMessage))])]),a("b-button",{staticClass:"mt-3",attrs:{variant:"outline-success",block:""},on:{click:t.hideAllSchedulingModals}},[t._v("Close")])],1),a("b-modal",{ref:"scheduling-error-modal",attrs:{"hide-footer":"",title:"Error"}},[a("div",{staticClass:"d-block text-center"},[a("p",[t._v(t._s(this.schedulingErrorMessage))])]),a("b-button",{staticClass:"mt-3",attrs:{variant:"outline-danger",block:""},on:{click:t.hideSchedulingErrorModal}},[t._v("Close")])],1),a("b-modal",{ref:"scheduling-picker-modal",attrs:{size:"lm",id:"scheduling-picker-modal",title:"Create and schedule new appointment","header-bg-variant":"success","footer-bg-variant":"success"},on:{ok:t.createAndScheduleAppointment,ended:t.showSuccessModal}},[[a("div",[a("label"),a("label",{attrs:{for:"dd"}},[t._v(" Date: ")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{"date-disabled-fn":t.dateDisabled,locale:"en"},model:{value:t.schedulingDate,callback:function(e){t.schedulingDate=e},expression:"schedulingDate"}})],1),a("div",[a("label"),a("label",{attrs:{for:"tf"}},[t._v(" Time from: ")]),a("b-form-timepicker",{attrs:{locale:"en"},model:{value:t.timeFrom,callback:function(e){t.timeFrom=e},expression:"timeFrom"}})],1),a("div",[a("label"),a("label",{attrs:{for:"tt"}},[t._v(" Time to: ")]),a("b-form-timepicker",{attrs:{locale:"en"},model:{value:t.timeTo,callback:function(e){t.timeTo=e},expression:"timeTo"}})],1)]],2)],1)},vo=[],go=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div",attrs:{id:"MedicamentsListPreview"}},[t.substituteMode?a("div",{staticStyle:{"text-align":"center","margin-bottom":"3rem !important"}},[a("h2",[t._v("Substitute medicines for "+t._s(t.substitutedMedicament.name))]),a("b-button",{attrs:{variant:"primary"},on:{click:t.reloadAllMedicines}},[t._v("Show all medicines")])],1):t._e(),a("b-row",[a("section",{attrs:{id:"sidebar"}},[a("p",{staticClass:"colorIt"},[t._v("Search medicaments by its name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"mr-sm-2 search",attrs:{size:"sm",placeholder:"Search"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),a("b-button",{staticClass:"my-2 my-sm-0 button",attrs:{size:"sm",type:"submit"},on:{click:t.findSearch}},[t._v("Search")]),a("hr"),t.prescriptionMode?t._e():a("p",{staticClass:"colorIt"},[a("b",[t._v("Filters:")])]),t.prescriptionMode?t._e():a("div",{staticClass:"issuanceModeFilter"},[a("p",[a("b",[t._v("Choose issuance mode:")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.issuanceMode,expression:"issuanceMode"}],staticClass:"form-check-input",attrs:{type:"radio",name:"issuanceMode",id:"issuanceMode",value:"1"},domProps:{checked:t._q(t.issuanceMode,"1")},on:{change:function(e){t.issuanceMode="1"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"issuanceMode"}},[t._v(" With prescription ")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.issuanceMode,expression:"issuanceMode"}],staticClass:"form-check-input",attrs:{type:"radio",name:"issuanceMode",id:"issuanceMode1",value:"0",checked:""},domProps:{checked:t._q(t.issuanceMode,"0")},on:{change:function(e){t.issuanceMode="0"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"issuanceMode1"}},[t._v(" Without prescription ")])])]),t.prescriptionMode?t._e():a("div",{staticClass:"medicamentFormFilter"},[a("p",[a("b",[t._v("Choose medicament form:")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicamentForm,expression:"medicamentForm"}],staticClass:"form-check-input",attrs:{type:"radio",name:"medicamentForm",id:"medicamentForm",value:"1"},domProps:{checked:t._q(t.medicamentForm,"1")},on:{change:function(e){t.medicamentForm="1"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"medicamentForm"}},[t._v(" Capsule ")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicamentForm,expression:"medicamentForm"}],staticClass:"form-check-input",attrs:{type:"radio",name:"medicamentForm",id:"medicamentForm1",value:"2",checked:""},domProps:{checked:t._q(t.medicamentForm,"2")},on:{change:function(e){t.medicamentForm="2"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"medicamentForm1"}},[t._v(" Tablet ")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicamentForm,expression:"medicamentForm"}],staticClass:"form-check-input",attrs:{type:"radio",name:"medicamentForm",id:"medicamentForm2",value:"0"},domProps:{checked:t._q(t.medicamentForm,"0")},on:{change:function(e){t.medicamentForm="0"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"medicamentForm2"}},[t._v(" Powder ")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicamentForm,expression:"medicamentForm"}],staticClass:"form-check-input",attrs:{type:"radio",name:"medicamentForm",id:"medicamentForm3",value:"5",checked:""},domProps:{checked:t._q(t.medicamentForm,"5")},on:{change:function(e){t.medicamentForm="5"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"medicamentForm3"}},[t._v(" Gel ")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicamentForm,expression:"medicamentForm"}],staticClass:"form-check-input",attrs:{type:"radio",name:"medicamentForm",id:"medicamentForm4",value:"3"},domProps:{checked:t._q(t.medicamentForm,"3")},on:{change:function(e){t.medicamentForm="3"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"medicamentForm4"}},[t._v(" Ointments ")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicamentForm,expression:"medicamentForm"}],staticClass:"form-check-input",attrs:{type:"radio",name:"medicamentForm",id:"medicamentForm5",value:"4",checked:""},domProps:{checked:t._q(t.medicamentForm,"4")},on:{change:function(e){t.medicamentForm="4"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"medicamentForm5"}},[t._v(" Paste ")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicamentForm,expression:"medicamentForm"}],staticClass:"form-check-input",attrs:{type:"radio",name:"medicamentForm",id:"medicamentForm6",value:"6"},domProps:{checked:t._q(t.medicamentForm,"6")},on:{change:function(e){t.medicamentForm="6"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"medicamentForm6"}},[t._v(" Liquid ")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicamentForm,expression:"medicamentForm"}],staticClass:"form-check-input",attrs:{type:"radio",name:"medicamentForm",id:"medicamentForm7",value:"7",checked:""},domProps:{checked:t._q(t.medicamentForm,"7")},on:{change:function(e){t.medicamentForm="7"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"medicamentForm7"}},[t._v(" Syrup ")])]),a("b-button",{staticClass:"my-2 my-sm-0 button",attrs:{size:"sm",type:"submit"},on:{click:t.findFilter}},[t._v("Filter")])],1)],1)]),a("section",{attrs:{id:"products"}},[a("b-row",t._l(this.medicaments,(function(e){return a("b-col",{key:e.id},[a("MedicamentPreview",{attrs:{type:t.type,medicament:e,allergies:t.allergies,prescriptionMode:t.prescriptionMode},on:{seeMoreClicked:t.onSeeMore}})],1)})),1)],1),0!==Object.keys(t.chosenMedicament).length?a("div",{key:t.chosenMedicament},[a("MedicamentInPharmacy",{attrs:{chosenMedicament:t.chosenMedicament,appointment:t.appointment,prescriptionMode:!0},on:{prescribed:t.onPrescribed,substituted:t.onSubstituted}})],1):t._e()],1)},yo=[],ko=Object(A["a"])({name:"MedicamentListPreviewAppointment",components:{MedicamentPreview:mt,MedicamentInPharmacy:Ke},data:function(){return{medicaments:[],search:"",issuanceMode:-1,medicamentForm:-1,allergies:[],type:"",medicamentsSearchCopy:[],medicamentsOriginal:[],chosenMedicament:{},substituteMode:!1,substitutedMedicament:{},medicineIterator:0}},props:{prescriptionMode:{type:Boolean,default:!1},appointment:Object},mounted:function(){this.type=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).role,this.prescriptionMode?this.loadNonAllergicMedsForPrescription():(this.loadAllergies(),"ROLE_PATIENT"!=this.type&&this.loadMeds())},methods:{loadMeds:function(){var t=this;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/medicaments/all",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.medicaments=e.data})).catch((function(t){return console.log(t.response.data)}))},loadNonAllergicMedsForPrescription:function(){var t=this,e=this.appointment.patient.email,a=this.appointment.id;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/medicaments/non-allergic-in-pharmacy?patientEmail=".concat(e,"&appointmentId=").concat(a),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.medicaments=e.data,t.medicamentsOriginal=t.medicaments,t.medicamentsSearchCopy=t.medicaments})).catch((function(t){return console.log(t.response.data)}))},loadAllergies:function(){var t=this;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/patients/get_allergies/"+JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e.data),t.allergies=e.data,t.loadMeds()})).catch((function(t){return console.log(t.response.data)}))},findSearch:function(){var t=this;this.prescriptionMode?this.frontEndSearch():this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/medicaments/search/"+this.search,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.medicaments=e.data})).catch((function(t){return console.log(t)}))},findFilter:function(){var t=this;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/medicaments/filter/mode="+parseInt(this.issuanceMode)+"&form="+parseInt(this.medicamentForm),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.medicaments=e.data})).catch((function(t){return console.log(t)}))},frontEndSearch:function(){var t=this;this.medicaments=this.medicamentsSearchCopy.filter((function(e){return e.name.toLowerCase().includes(t.search.toLowerCase())})),this.chosenMedicament={}},onSeeMore:function(t){this.chosenMedicament=t},onPrescribed:function(){this.$emit("prescribed")},reloadAllMedicines:function(){this.medicaments=this.medicamentsOriginal,this.medicamentsSearchCopy=this.medicamentsOriginal,this.substituteMode=!1,this.substitutedMedicament={},this.chosenMedicament={}},onSubstituted:function(t){var e=this;this.substituteMode=!0,this.substitutedMedicament=t.substitutedMed;var a=t.quantity,s=t.pharmacy;this.chosenMedicament={},this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/medicaments/".concat(this.substitutedMedicament.id,"/substitutes?")+"patientEmail=".concat(this.appointment.patient.email,"&quantity=").concat(a,"&pharmacyId=").concat(s.id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.medicaments=t.data,e.medicamentsSearchCopy=e.medicaments})).catch((function(t){console.log(t)}))}}}),wo=ko,_o=(a("1df4"),Object(c["a"])(wo,go,yo,!1,null,"5d7a0994",null)),Co=_o.exports,Ao={name:"AppointmentPage",components:{MedicamentListPreviewAppointment:Co},data:function(){return{successMessage:"",examinationText:"",prescribedMedicines:[],prescribedMedicineFields:[{key:"medicament.name",headerTitle:"Name",label:"Name",sortable:!0},{key:"quantity",headerTitle:"Quantity",label:"Quantity",sortable:!0}],existingAppointments:[],existingAppointmentsFields:[{key:"dateStr",headerTitle:"Date",label:"Date"},{key:"timeFrom",headerTitle:"From",label:"From"},{key:"timeTo",headerTitle:"To",label:"To"},"action"],schedulingDate:"",timeFrom:"",timeTo:"",schedulingErrorMessage:""}},props:{appointment:Object,medicalReportId:Number,type:String},methods:{onPatientAbsent:function(){var t=this;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/appointments/"+this.appointment.id+"/absent",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(){t.successMessage="Patient ".concat(t.appointment.patient.name," ").concat(t.appointment.patient.lastName)+" has successfully been marked as absent and has been added a penalty point."+" The ".concat("dermatologist"===t.type?"examination":"counseling session"," is now finished."),t.showSuccessModal()})).catch((function(e){console.log(e),t.showErrorModal()}))},onEndExamination:function(){var t=this,e=this.examinationText,a={reportText:e};this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/appointments/"+this.appointment.id+"/finish",a,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(){var e="dermatologist"===t.type?"examination":"counseling session";t.successMessage="Patient ".concat(t.appointment.patient.name," ").concat(t.appointment.patient.lastName,"'s")+" ".concat(e," is now over."),t.showSuccessModal()})).catch((function(e){console.log(e),t.showErrorModal()}))},onScheduleAnotherAppointment:function(){var t=this,e="dermatologist"===this.type?"dermatologist/examinations":"pharmacist/counselings";this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/".concat(e,"/existing"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){var a=e.data;a.forEach((function(t){t["dateStr"]=new Date(t["date"]).toDateString(),t["date"][1]-=1;var e=t["date"].concat(t["termFrom"]).concat([0,0]);t["timeFrom"]=Object(Ys["a"])(Date,Object(Hs["a"])(e)).toLocaleTimeString();var a=t["date"].concat(t["termTo"]).concat([0,0]);t["timeTo"]=Object(Ys["a"])(Date,Object(Hs["a"])(a)).toLocaleTimeString()})),t.existingAppointments=a,console.log(e),t.showSchedulingModal()})).catch((function(e){console.log(e),t.existingAppointments=[],t.showSchedulingModal()}))},onCreateAndScheduleNewAppointment:function(){this.showSchedulingPickerModal()},scheduleExistingAppointment:function(t){var e=this,a=t.item.id,s={patientEmail:this.appointment.patient.email,appointmentId:a};this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/patients/reserve_appointment",s,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){console.log(t),e.successMessage="Appointment successfully scheduled!",e.showSchedulingSuccessModal()})).catch((function(t){console.log(t),e.schedulingErrorMessage="Failed to schedule appointment",e.showSchedulingErrorModal()}))},createAndScheduleAppointment:function(){var t=this;if(!this.schedulingDate||!this.timeFrom||!this.timeTo)return this.schedulingErrorMessage="Some fields are empty!",void this.showSchedulingErrorModal();var e=new Date(this.schedulingDate),a={patientEmail:this.appointment.patient.email,date:e,termFrom:this.timeFrom,termTo:this.timeTo},s=this.appointment.medicalReportId;this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/".concat(this.type,"/appointments/schedule-new/")+s,a,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e),t.successMessage="Successfully created and scheduled appointment!",t.showSchedulingSuccessModal()})).catch((function(e){t.schedulingErrorMessage=e.response.data,t.showSchedulingErrorModal(),console.log(e.response)}))},onPrescribeMore:function(){this.showPrescriptionModal()},hideErrorModal:function(){this.$refs["error-modal"].hide()},hidePrescriptionModal:function(){this.$refs["prescription-modal"].hide()},hideSchedulingModal:function(){this.$refs["scheduling-modal"].hide()},hideSchedulingErrorModal:function(){this.$refs["scheduling-error-modal"].hide()},showErrorModal:function(){this.$refs["error-modal"].show()},showSuccessModal:function(){this.$refs["success-modal"].show()},showPrescriptionModal:function(){this.$refs["prescription-modal"].show()},showSchedulingModal:function(){this.$refs["scheduling-modal"].show()},showSchedulingSuccessModal:function(){this.$refs["scheduling-success-modal"].show()},showSchedulingPickerModal:function(){this.$refs["scheduling-picker-modal"].show()},showSchedulingErrorModal:function(){this.$refs["scheduling-error-modal"].show()},hideAllSchedulingModals:function(){this.$refs["scheduling-modal"].hide(),this.$refs["scheduling-success-modal"].hide(),this.$refs["scheduling-picker-modal"].hide()},goToHomePage:function(){var t="dermatologist"===this.type?"DermatologistPagePharmacyList":"PharmacistPagePharmacyList";this.$router.push({name:t})},loadPrescriptionTable:function(){var t=this;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/eprescriptions/medical-report/".concat(this.medicalReportId,"/prescription-medicaments"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.prescribedMedicines=e.data,console.log(e.data)})).catch((function(t){console.log(t)}))},onPrescribed:function(){this.hidePrescriptionModal(),this.loadPrescriptionTable()},dateDisabled:function(t,e){var a=new Date,s=a.getMonth(),o=a.getDate(),r=e.getDate(),i=e.getMonth();return r<=o&&i<=s||r>=o&&i<s}},mounted:function(){this.loadPrescriptionTable()}},So=Ao,xo=Object(c["a"])(So,bo,vo,!1,null,null,null),Mo=xo.exports,Po=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["dermatologist"===t.type?a("h1",[t._v("Your examination history")]):t._e(),"pharmacist"===t.type?a("h1",[t._v("Your counseling history")]):t._e(),a("br"),a("b-form",{attrs:{inline:""}},[a("b-form-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"name",name:"name",placeholder:"Patient name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("b-form-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"lastName",name:"lastName",placeholder:"Patient last name"},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}}),a("b-button",{staticClass:"mb-2 mr-sm-2 mb-sm-0",on:{click:t.onSubmit}},[t._v("Search")])],1),a("br"),a("b-table",{attrs:{striped:"",hover:"",items:t.appointments,fields:t.appointmentFields,"sort-compare":t.dateSortCompare},scopedSlots:t._u([{key:"cell(action)",fn:function(e){return[a("button",{ref:"btn"+e.index,staticClass:"btn btn-dark",on:{click:function(a){return t.showExaminationDetails(e)}}},[t._v("Show details")])]}}])}),a("b-modal",{ref:"info-modal",attrs:{"hide-footer":"",title:"Details"}},[a("div",{staticClass:"d-block text-center"},[a("h3",[t._v("Report text")]),a("p",[t._v(t._s(this.chosenAppointmentInfo))])]),Object.keys(t.chosenAppointmentPrescribedMedicine).length>0?a("div",{staticClass:"d-block text-center"},[a("h3",[t._v("Prescribed medicines")]),a("b-list-group",t._l(t.chosenAppointmentPrescribedMedicine,(function(e,s){return a("b-list-group-item",{key:s,staticClass:"d-flex justify-content-between align-items-center"},[t._v(" "+t._s(s)+" "),a("b-badge",{attrs:{variant:"primary",pill:""}},[t._v(t._s(e))])],1)})),1)],1):t._e(),a("b-button",{staticClass:"mt-3",attrs:{variant:"outline-primary",block:""},on:{click:t.hideInfoModal}},[t._v("Close")])],1)],1)},Io=[],Do={data:function(){return{appointments:[],name:"",lastName:"",appointmentFields:[{key:"patient.name",headerTitle:"Patient Name",label:"Patient Name",sortable:!0},{key:"patient.lastName",headerTitle:"Last Name",label:"Last Name",sortable:!0},{key:"dateStr",headerTitle:"Date",label:"Date",sortable:!0},{key:"timeFrom",headerTitle:"From"},{key:"timeTo",headerTitle:"To"},"action"],type:"",chosenAppointmentInfo:"",chosenAppointmentPrescribedMedicine:{}}},methods:{onSubmit:function(t){var e=this;t&&t.preventDefault();var a={name:this.name,lastName:this.lastName},s="";if("dermatologist"===this.type)s="https://mrs-isa-projekat-backend.herokuapp.com/api/dermatologist/examinations/done/patient";else{if("pharmacist"!==this.type)return void console.log("Invalid type in appointment history.");s="https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacist/counselings/done/patient"}this.axios.get(s,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){var s,o=[],r=Object(mo["a"])(t.data);try{for(r.s();!(s=r.n()).done;){var i=s.value;i.patient.name.toLowerCase().includes(a.name.toLowerCase())&&i.patient.lastName.toLowerCase().includes(a.lastName.toLowerCase())&&o.push(i)}}catch(n){r.e(n)}finally{r.f()}o.forEach((function(t){t["dateStr"]=new Date(t["date"]).toDateString(),t["date"][1]-=1;var e=t["date"].concat(t["termFrom"]).concat([0,0]);t["timeFrom"]=Object(Ys["a"])(Date,Object(Hs["a"])(e)).toLocaleTimeString();var a=t["date"].concat(t["termTo"]).concat([0,0]);t["timeTo"]=Object(Ys["a"])(Date,Object(Hs["a"])(a)).toLocaleTimeString()})),e.appointments=o})).catch((function(t){404===t.response.status?e.appointments=[]:(e.appointments=[],console.log(t))}))},dateSortCompare:function(t,e,a){if("dateStr"===a){var s=new Date(t[a]),o=new Date(e[a]);return s-o}return!1},showExaminationDetails:function(t){var e=this;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/appointments/".concat(t.item.id,"/details"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.chosenAppointmentInfo=t.data.text,e.chosenAppointmentPrescribedMedicine=t.data.medicineQuantity,e.showInfoModal(),console.log(t.data)})).catch((function(t){e.chosenAppointmentPrescribedMedicine=[],console.log(t)}))},hideInfoModal:function(){this.$refs["info-modal"].hide()},showInfoModal:function(){this.$refs["info-modal"].show()}},mounted:function(){this.type=this.$route.query.type,this.onSubmit()}},No=Do,jo=Object(c["a"])(No,Po,Io,!1,null,null,null),Fo=jo.exports,Oo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cotainer"},[a("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showSuccessAlert,callback:function(e){t.showSuccessAlert=e},expression:"showSuccessAlert"}},[t._v(" Success! You registered a new Pharmacy Admin '"+t._s(this.email)+"'. ")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showFailedAlert,callback:function(e){t.showFailedAlert=e},expression:"showFailedAlert"}},[t._v(" Failed registration. ")]),a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("Register Pharmacy Admin")]),a("div",{staticClass:"card-body"},[a("form",{attrs:{name:"my-form"},on:{submit:t.formSubmit}},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"name"}},[t._v("First Name")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"name",name:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"lastName"}},[t._v("Last Name")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.lastName,expression:"lastName"}],staticClass:"form-control",attrs:{type:"text",id:"lastName",name:"lastName"},domProps:{value:t.lastName},on:{input:function(e){e.target.composing||(t.lastName=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"phoneNumber"}},[t._v("Phone Number")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneNumber,expression:"phoneNumber"}],staticClass:"form-control",attrs:{type:"text",id:"phoneNumber",name:"phoneNumber"},domProps:{value:t.phoneNumber},on:{input:function(e){e.target.composing||(t.phoneNumber=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"email"}},[t._v("Email")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",id:"email",name:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"password1"}},[t._v("Password")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password1,expression:"password1"}],staticClass:"form-control",attrs:{type:"password",id:"password1",name:"password1"},domProps:{value:t.password1},on:{input:function(e){e.target.composing||(t.password1=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"password2"}},[t._v("Password")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password2,expression:"password2"}],staticClass:"form-control",attrs:{type:"password",id:"password2",name:"password2"},domProps:{value:t.password2},on:{input:function(e){e.target.composing||(t.password2=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"country"}},[t._v("Country")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.country,expression:"country"}],staticClass:"form-control",attrs:{type:"text",id:"country",name:"country"},domProps:{value:t.country},on:{input:function(e){e.target.composing||(t.country=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"city"}},[t._v("City")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.city,expression:"city"}],staticClass:"form-control",attrs:{type:"text",id:"city",name:"city"},domProps:{value:t.city},on:{input:function(e){e.target.composing||(t.city=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"street"}},[t._v("Street")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.street,expression:"street"}],staticClass:"form-control",attrs:{type:"text",id:"street",name:"street"},domProps:{value:t.street},on:{input:function(e){e.target.composing||(t.street=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"number"}},[t._v("Number")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.number,expression:"number"}],staticClass:"form-control",attrs:{type:"number",min:"1",id:"number",name:"number"},domProps:{value:t.number},on:{input:function(e){e.target.composing||(t.number=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"number"}},[t._v("Izaberite apoteku")]),a("div",{staticClass:"col-md-4"},[a("b-form-select",{model:{value:t.pharmacy,callback:function(e){t.pharmacy=e},expression:"pharmacy"}},t._l(t.pharmacies,(function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e.name))])})),0)],1)]),a("div",{staticClass:"col-md-6 offset-md-4"},[a("p",{staticClass:"show_error"},[t._v(t._s(t.error_message))])]),t._m(0)])])])])])],1)},Eo=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-4 offset-md-4"},[a("button",{staticClass:"btn btn-success"},[t._v("Submit")])])}],Ro={name:"PharmacyAdminRegistration",mounted:function(){var t=this;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.pharmacies=e.data})).catch((function(t){return console.log(t)}))},data:function(){return{pharmacies:null,pharmacy:null,name:"",lastName:"",country:"",city:"",street:"",email:"",password1:"",password2:"",phoneNumber:"",number:0,output:"",error_message:"",showSuccessAlert:!1,showFailedAlert:!1,latitude:0,longitude:0}},methods:{formSubmit:function(t){console.log(this.pharmacy),t.preventDefault();var e=this,a=!1,s="",o=this;this.name&&!isNaN(this.number)&&this.lastName&&this.email&&this.password1&&this.password2&&this.country&&this.city&&this.street||(a=!0,this.error_message="Niste uneli validne podatke!"),this.password2!==this.password1&&(a=!0,this.error_message="Lozinke se ne poklapaju!"),s="https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacyAdmin",this.guessCoordinatesFromLocation(),0==a&&(this.axios.post(s,{name:this.name,lastName:this.lastName,email:this.email,phoneNumber:this.phoneNumber,password:this.password2,pharmacy:this.pharmacy,address:{country:this.country,city:this.city,street:this.street,number:this.number}},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.output=t.data,o.showSuccessAlert=!0})).catch((function(t){e.output=t,console.log(t),o.showFailedAlert=!0})),this.success_message="Uspesno ste registrovali korisnika.")},guessCoordinatesFromLocation:function(){var t=Object(At["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="https://nominatim.openstreetmap.org/search/"+this.city+", "+this.street+" "+this.number,t.next=3,this.axios.get(e,{params:{format:"json",limit:1,"accept-language":"en"}}).then((function(t){if(t.data&&0!=t.data.lenght){var e=t.data[0],s=e.lon,o=e.lat;console.log(s,o),a.longitude=s,a.latitude=o}})).catch((function(){alert("Could not find coordinates based on given info.","")}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},To=Ro,$o=(a("8e8c"),Object(c["a"])(To,Oo,Eo,!1,null,"722ae450",null)),zo=$o.exports,Bo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-form"},[a("div",{staticClass:"card-header"},[t._v("Appointments")]),a("b-modal",{attrs:{id:t.errorModal.id,title:t.errorModal.title,"ok-only":""},on:{ended:t.errModal}},[a("pre",[t._v(t._s(t.errorModal.content))])]),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1),a("b-col",{staticClass:"my-1",attrs:{lg:"8"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-button",{attrs:{variant:"success"},on:{click:function(e){return t.AddAppointment(e.target)}}},[t._v("Add")])],1)],1)],1),a("b-table",{ref:"table",attrs:{items:t.items,fields:t.fields,responsive:"sm","sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,striped:"",hover:"","filter-included-fields":t.filterOn,small:""},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered}}),a("b-modal",{attrs:{size:"lm",id:t.addModal.id,title:t.addModal.title},on:{ok:t.AddOne,ended:t.resetInfoModal}},[[a("div",[a("label",{staticClass:"empl"},[t._v("Choose dermatologist")]),t.selected?a("multiselect",{attrs:{options:t.dermatologists,multiple:!1,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,"preselect-first":!0,"track-by":"email",label:"FullName"},model:{value:t.e,callback:function(e){t.e=e},expression:"e"}}):t._e()],1),a("div",[a("label"),a("label",{attrs:{for:"dd"}},[t._v(" Date: ")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{"date-disabled-fn":t.dateDisabled,locale:"en"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),a("div",[a("label"),a("label",{attrs:{for:"tf"}},[t._v(" Time from: ")]),a("b-form-timepicker",{attrs:{locale:"en"},model:{value:t.timefrom,callback:function(e){t.timefrom=e},expression:"timefrom"}})],1),a("div",[a("label"),a("label",{attrs:{for:"tt"}},[t._v(" Time to: ")]),a("b-form-timepicker",{attrs:{locale:"en"},model:{value:t.timeto,callback:function(e){t.timeto=e},expression:"timeto"}})],1)]],2)],1)},Lo=[],qo={components:{Multiselect:ze.a},data:function(){return{fields:[{key:"date1",sortable:!0,label:"Date"},{key:"timeFrom",sortable:!0,label:"Time from"},{key:"timeTo",sortable:!0,label:"Time to"},{key:"employee",sortable:!0,label:"Employee"},{key:"type",sortable:!0,label:"Appointment"}],items:[],selectMode:"single",sortBy:"date",sortDesc:!1,filter:null,filterOn:[],totalRows:1,totalRows1:1,new:[],errorModal:{id:"error-modal",title:"",content:""},addModal:{id:"add-modal",title:"",content:""},showAlert:!1,pharmacy:{},pharmacyId:0,e:{},dermatologists:[],selected:Boolean,date:"",timefrom:"",timeto:"",message:"",d:Object,weekday:"",list:[],allAppointments:[]}},mounted:function(){var t=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,e=this;e.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacyAdmin/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.pharmacyId=t.data.pharmacy.id,e.GetAllEmployees(),e.refresh()})).catch((function(t){console.log(t)}))},methods:{onFiltered:function(t){self.totalRows=t.length},datum:function(t){return qa()(t,"YYYY-MM-DD").format("DD/MM/YYYY")},vreme:function(t){return qa()(t,"hh:mm:ss").format("hh:mm:ss")},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},errModal:function(){this.errorModal.title="",this.errorModal.content=""},AddAppointment:function(t){this.addModal.title="Add appointment",this.$root.$emit("bv::show::modal",this.addModal.id,t)},AddOne:function(){var t=this;t.e&&t.selected&&t.date&&t.timefrom&&t.timeto||(t.message="You must enter all data! ",t.showAlert=!0),t.d=new Date(t.date),1==t.d.getDay()?t.weekday="monday":2==t.d.getDay()?t.weekday="tuesday":3==t.d.getDay()?t.weekday="wednesday":4==t.d.getDay()?t.weekday="thursday":5==t.d.getDay()?t.weekday="friday":6==t.d.getDay()?t.weekday="saturday":7==t.d.getDay()&&(t.weekday="sunday"),t.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/appointments/"+parseInt(t.pharmacyId)+"/"+t.e.email,{date:t.date,termFrom:t.timefrom,termTo:t.timeto,type:1},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.errorModal.content="Successfully created appointment! ",t.$root.$emit("bv::show::modal",t.errorModal.id),console.log(e),t.items=[],t.refresh()})).catch((function(e){t.errorModal.content="Error! ",t.$root.$emit("bv::show::modal",t.errorModal.id),console.log(e)}))},dateDisabled:function(t,e){var a=new Date,s=a.getMonth(),o=a.getDate(),r=e.getDate(),i=e.getMonth();return r<=o&&i<=s||r>=o&&i<s},refresh:function(){var t=this;t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/appointments/"+t.pharmacyId,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.length;a++){var s={};s.id=e.data[a].appointmentId,s.date1=t.datum(e.data[a].date),s.timeFrom=t.vreme(e.data[a].termFrom),s.timeTo=t.vreme(e.data[a].termTo),s.type=e.data[a].type,s.employee=e.data[a].employee.name+" "+e.data[a].employee.lastName,t.items.push(s)}t.totalRows=t.items.length}))},GetAllEmployees:function(){var t=this;t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/dermatologists/"+parseInt(t.pharmacyId),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.length;a++){for(var s=0,o=0;o<e.data[a].workHours.length;o++)e.data[a].workHours[o].deleted&&s++;if(7!=s){var r={};r.name=e.data[a].name,r.lastName=e.data[a].lastName,r.email=e.data[a].email,r.phoneNumber=e.data[a].phoneNumber,r.hours=e.data[a].workHours,r.address=e.data[a].address,r.FullName=r.name+" "+r.lastName,t.dermatologists.push(r)}}}))}}},Yo=qo,Ho=(a("ebab"),Object(c["a"])(Yo,Bo,Lo,!1,null,"afc9c0b2",null)),Jo=Ho.exports,Uo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"my-form"},[a("div",{staticClass:"cotainer"},[a("b-modal",{attrs:{id:t.errorModal.id,title:t.errorModal.title,"ok-only":""},on:{ended:t.errModal}},[a("pre",[t._v(t._s(t.errorModal.content))])]),a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("Personal information ")]),a("div",{staticClass:"card-body"},[a("form",{attrs:{name:"myform"},on:{submit:t.onSubmit}},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"email"}},[t._v("Email")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",id:"email",name:"email",disabled:"true"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"name"}},[t._v("Name")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"name",name:"name",disabled:t.d},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"lastName"}},[t._v("Last name")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.lastName,expression:"lastName"}],staticClass:"form-control",attrs:{type:"text",id:"lastName",name:"lastName",disabled:t.d},domProps:{value:t.lastName},on:{input:function(e){e.target.composing||(t.lastName=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"phoneNumber"}},[t._v("Phone number")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneNumber,expression:"phoneNumber"}],staticClass:"form-control",attrs:{type:"text",id:"phoneNumber",name:"phoneNumber",disabled:t.d},domProps:{value:t.phoneNumber},on:{input:function(e){e.target.composing||(t.phoneNumber=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"country"}},[t._v("Country")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.country,expression:"country"}],staticClass:"form-control",attrs:{type:"text",id:"country",name:"country",disabled:t.d},domProps:{value:t.country},on:{input:function(e){e.target.composing||(t.country=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"city"}},[t._v("City")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.city,expression:"city"}],staticClass:"form-control",attrs:{type:"text",id:"city",name:"city",disabled:t.d},domProps:{value:t.city},on:{input:function(e){e.target.composing||(t.city=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"street"}},[t._v("Street")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.street,expression:"street"}],staticClass:"form-control",attrs:{type:"text",id:"street",name:"street",disabled:t.d},domProps:{value:t.street},on:{input:function(e){e.target.composing||(t.street=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"number"}},[t._v("Number")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.number,expression:"number"}],staticClass:"form-control",attrs:{type:"number",min:"1",id:"number",name:"number",disabled:t.d},domProps:{value:t.number},on:{input:function(e){e.target.composing||(t.number=e.target.value)}}})])]),a("label",{staticStyle:{"background-color":"#3399ff","text-align":"center",color:"white",width:"100px",height:"35px","border-radius":"5px"},on:{click:t.onEdit}},[t._v("Edit")]),t._m(0)]),a("div",{staticClass:"buttonsss form-group row"})])])])])],1)])},Wo=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"buttons form-group row"},[a("button",{staticClass:"col-md-2 btn btn-success"},[t._v("Submit")])])}],Go=Object(A["a"])({name:"Profile",components:{},data:function(){return{email:"",password:"",password_confirmation:"",name:"",lastName:"",phoneNumber:"",country:"",city:"",street:"",number:"",d:!0,user:{},role:"",pharmacyId:0,showSuccessAlert:!1,lon:0,lat:0,errorModal:{id:"error-modal",title:"",content:""}}},mounted:function(){var t=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).role;if("ROLE_PHARMACY_ADMIN"==t){var e=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,a=this;a.role=t,a.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacyAdmin/"+e,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){a.email=t.data.email,a.name=t.data.name,a.lastName=t.data.lastName,a.country=t.data.address.country,a.city=t.data.address.city,a.street=t.data.address.street,a.phoneNumber=t.data.phoneNumber,a.number=t.data.address.number,a.pharmacyId=t.data.pharmacy.id,a.ret=!0})).catch((function(t){console.log(t)}))}},methods:{onEdit:function(){this.d=!1},errModal:function(){this.errorModal.title="",this.errorModal.content=""},guessCoordinatesFromLocation:function(){var t=this,e="https://nominatim.openstreetmap.org/search/"+this.city+", "+this.street+" "+this.number;this.axios.get(e,{params:{format:"json",limit:1,"accept-language":"en"}}).then((function(e){e.data&&0!=e.data.lenght&&(t.lon=e.data[0].lon,t.lat=e.data[0].lat)})).catch((function(){}))},onSubmit:function(t){t.preventDefault(),this.guessCoordinatesFromLocation();var e=this;"ROLE_PHARMACY_ADMIN"==e.role&&e.axios.put("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacyAdmin/updatePharmacyAdmin/"+e.email,{email:e.email,pharmacy:{id:e.pharmacyId},phoneNumber:e.phoneNumber,lastName:e.lastName,name:e.name,address:{country:e.country,city:e.city,street:e.street,number:e.number,longitude:e.lon,latitude:e.lat}},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){console.log(t),e.showSuccessAlert=!0,e.errorModal.content="Successfully changed personal informations!",e.$root.$emit("bv::show::modal",e.errorModal.id)}))}}}),Vo=Go,Qo=(a("5b2d"),Object(c["a"])(Vo,Uo,Wo,!1,null,"56ce6ab3",null)),Xo=Qo.exports,Ko=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-form"},[a("div",{staticClass:"card-header"},[t._v("Requested medicaments")]),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1)],1),a("b-table",{ref:"table",attrs:{items:t.items,fields:t.fields,responsive:"sm","sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,striped:"",hover:"","filter-included-fields":t.filterOn,small:""},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered}})],1)},Zo=[],tr={data:function(){return{fields:[{key:"name",sortable:!0,label:"Medicament"},{key:"quantity",sortable:!0,label:"Quantity"},{key:"employee",sortable:!0,label:"Employee"}],items:[],sortBy:"name",sortDesc:!1,filter:null,filterOn:[],totalRows:1,pharmacyId:0,adminUser:""}},mounted:function(){var t=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,e=this;e.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacyAdmin/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.pharmacyId=t.data.pharmacy.id,e.adminUser=t.data.email,e.refresh()})).catch((function(t){console.log(t)}))},methods:{onFiltered:function(t){self.totalRows=t.length},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},errModal:function(){this.errorModal.title="",this.errorModal.content=""},refresh:function(){var t=this;t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacyAdmin/requestMedicaments/"+t.adminUser,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.requestMedicaments.length;a++){var s={};s.quantity=e.data.requestMedicaments[a].quantity,s.name=e.data.requestMedicaments[a].medicament.name,s.employee=e.data.requestMedicaments[a].employee.email,t.items.push(s)}t.totalRows=t.items.length}))}}},er=tr,ar=(a("6cc9"),Object(c["a"])(er,Ko,Zo,!1,null,"6008c83b",null)),sr=ar.exports,or=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-form"},[a("div",{staticClass:"card-header"},[t._v("Pricelist")]),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}})],1)],1),a("b-table",{ref:"table",attrs:{items:t.items,fields:t.fields,responsive:"sm","sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,striped:"",hover:"",small:""},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(edit)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"info"},on:{click:function(a){return t.Edit(e.item,a.target)}}},[t._v(" Edit ")])]}}])}),a("b-modal",{attrs:{id:t.errorModal.id,title:t.errorModal.title,"ok-only":""},on:{ended:t.errModal}},[a("pre",[t._v(t._s(t.errorModal.content))])]),a("b-modal",{attrs:{size:"lg",id:t.addModal.id,title:t.addModal.title,"ok-only":""},on:{ended:t.resetInfoModal}}),a("b-modal",{attrs:{size:"sm",id:t.editModal.id,title:t.editModal.title},on:{ok:t.check,ended:t.resetInfoModal}},[a("pre",[t._v(" \n    "),a("b-form",{attrs:{inline:""}},[t._v("\n    "),a("label",[t._v(" Price:     ")]),t._v("\n    "),a("b-form-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-input-price",type:"number"},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}}),t._v("\n    ")],1),t._v("\n  ")],1)])],1)},rr=[],ir={data:function(){return{fields:[{key:"appointment",sortable:!0,label:"Appointment"},{key:"price",sortable:!0,label:"Price"},{key:"date1",sortable:!0,label:"Date from"},{key:"edit",label:""}],items:[],selectMode:"single",sortBy:"name",sortDesc:!1,filter:null,filterOn:[],totalRows:1,totalRows1:1,new:[],errorModal:{id:"error-modal",title:"",content:""},addModal:{id:"add-modal",title:"",content:""},editModal:{id:"edit-modal",title:"",content:""},all:[],old:[],price:0,id:0,pharmacyId:0}},mounted:function(){var t=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,e=this;e.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacyAdmin/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.pharmacyId=t.data.pharmacy.id,e.refresh()})).catch((function(t){console.log(t)}))},methods:{resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},datum:function(t){return qa()(t,"YYYY-MM-DD").format("DD/MM/YYYY")},errModal:function(){this.errorModal.title="",this.errorModal.content=""},Edit:function(t,e){this.id=t.id,this.price=t.price,this.editModal.title="Edit pricelist",this.$root.$emit("bv::show::modal",this.editModal.id,e)},check:function(){var t=this;t.axios.put("https://mrs-isa-projekat-backend.herokuapp.com/api/pricelistItems/appointments/update/"+t.id,{price:[{id:t.priceid,value:t.price}]},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e),t.items=[],t.refresh()}))},refresh:function(){var t=this;t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pricelistItems/appointments/"+t.pharmacyId,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.length;a++){console.log(e.data[a]);var s={};s.id=e.data[a].id,s.appointment=e.data[a].apointment,s.price=e.data[a].price[0].value,s.date1=t.datum(e.data[a].price[0].dateFrom),t.items.push(s)}}))}}},nr=ir,lr=(a("72e3"),Object(c["a"])(nr,or,rr,!1,null,"2218b4f2",null)),cr=lr.exports,dr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Offer List preview")]),a("hr"),a("div",{staticClass:"m-auto"},[a("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showFailedAlertFilter,callback:function(e){t.showFailedAlertFilter=e},expression:"showFailedAlertFilter"}},[t._v(" No result of given filter. ")]),a("div",{staticClass:"filters"},[a("div",{staticClass:"justify-content"},[a("input",{attrs:{type:"radio",id:"accepted",name:"rate",value:"accepted"},on:{click:function(e){t.status="ACCEPTED"}}}),a("label",{attrs:{for:"accepted",title:"text"}},[t._v("Accepted")]),a("input",{attrs:{type:"radio",id:"rejected",name:"rate",value:"rejected"},on:{click:function(e){t.status="REJECTED"}}}),a("label",{attrs:{for:"rejected",title:"text"}},[t._v("Rejected")]),a("input",{attrs:{type:"radio",id:"waitingforanswer",name:"rate",value:"waitingforanswer"},on:{click:function(e){t.status="WAITINGFORANSWER"}}}),a("label",{attrs:{for:"waitingforanswer",title:"text"}},[t._v("Waiting for answer")]),a("input",{attrs:{type:"radio",id:"all",name:"rate",value:"all",checked:""},on:{click:function(e){t.status="ALL"}}}),a("label",{attrs:{for:"all",title:"text"}},[t._v("All")])]),a("br"),a("div",[a("div",{attrs:{lg:"2"}},[a("button",{staticClass:"btn btn-light",on:{click:function(e){return t.fillterOffers()}}},[t._v(" Fillter ")])])])])],1),a("div",{staticClass:"justify-content-center"},[a("div",{staticClass:"row row-cols-6 row-cols-md-2"},t._l(this.offers,(function(t){return a("div",{key:t.id,staticClass:"col-lg-3 col-md-6 col-sm-8 offset-md-1 offset-sm-1",staticStyle:{height:"25rem"}},[a("div",[a("SupplierOffer",{attrs:{offer:t}})],1)])})),0)])])},mr=[],ur=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card",staticStyle:{width:"18rem"}},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"row-group"},["ACCEPTED"===this.offer.status?a("div",[a("span",{staticClass:"badge badge-success"},[t._v("Accepted")])]):"REJECTED"===this.offer.status?a("div",[a("span",{staticClass:"badge badge-danger"},[t._v("Rejected")])]):a("div",[a("span",{staticClass:"badge badge-warning"},[t._v("Pending")])]),a("div",[t._v(" Deadline: "+t._s(this.frontEndDateFormat(this.offer.deadline)))])])]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showDismissibleAlert,callback:function(e){t.showDismissibleAlert=e},expression:"showDismissibleAlert"}},[t._v(" Could not edit offer. ")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showSuccessAlert,callback:function(e){t.showSuccessAlert=e},expression:"showSuccessAlert"}},[t._v(" Success! You offer has been updated. ")]),a("ul",{staticClass:"list-group list-group-flush"},[a("li",{staticClass:"list-group-item"},[a("b",{staticClass:"color-text"},[t._v("Id: ")]),t._v(t._s(this.offer.id))]),a("li",{staticClass:"list-group-item"},[a("b",{staticClass:"color-text"},[t._v("Pharmacy: ")]),t._v(t._s(this.offer.order.admin.pharmacy.name))]),a("li",{staticClass:"list-group-item"},[a("b",{staticClass:"color-text"},[t._v("Medicament order")]),t._l(this.offer.order.medicamentItems,(function(e){return a("div",{key:e.id},[a("p",{staticClass:"card-text"},[t._v(t._s(e.medicament.name)+": "+t._s(e.quantity))])])})),a("b",{staticClass:"color-text"},[t._v("Total price: "+t._s(this.offer.totalPrice)+" din")])],2),a("li",{staticClass:"list-group-item"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button",disabled:t.editPossible,"data-toggle":"modal","data-target":"#exampleModalCenter"+t.offer.id}},[t._v(" Edit ")])])]),a("div",{staticClass:"modal fade",attrs:{id:"exampleModalCenter"+t.offer.id,tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-row"},[[a("div",{staticClass:"form-row"},[a("label",[t._v("Deadline: ")]),a("b-form-datepicker",{staticClass:"col-md-12",attrs:{min:t.min,max:t.max,locale:"en"},model:{value:t.deadline,callback:function(e){t.deadline=e},expression:"deadline"}}),a("label",{attrs:{name:"totalPrice"}},[t._v("Total Price")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.offer.totalPrice,expression:"offer.totalPrice"}],staticClass:"form-control col-md-12",attrs:{type:"number",min:"1",required:""},domProps:{value:t.offer.totalPrice},on:{input:function(e){e.target.composing||t.$set(t.offer,"totalPrice",e.target.value)}}})],1),a("p",{directives:[{name:"show",rawName:"v-show",value:t.showDismissibleAlertModal,expression:"showDismissibleAlertModal"}],staticClass:"red-color"},[t._v(" Total price must be greater than 0. ")])]],2)]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" Close ")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.editOffer}},[t._v(" Send offer ")])])])])])],1)},pr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title header-color",attrs:{id:"exampleModalLongTitle"}},[a("b",[t._v("Write offer")])]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã")])])])}],hr=Object(A["a"])({name:"SupplierOffer",props:{offer:Object},data:function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=new Date(e),s=new Date(e);return s.setMonth(s.getMonth()+2),s.setDate(15),{min:a,max:s,showDismissibleAlertModal:!1,showDismissibleAlert:!1,showSuccessAlert:!1,editPossible:!0,supplier:null,deadline:""}},mounted:function(){qa()().format("DD. MMM YYYY.")<this.convertDate(this.offer.order.deadline)?this.editPossible=!1:this.editPossible=!0,this.supplier=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub},methods:{convertDate:function(t){return qa()(t).format("DD. MMM YYYY.")},frontEndDateFormat:function(t){return qa()(t,"YYYY-MM-DD").format("DD.MM.YYYY")},backEndDateFormat:function(t){return qa()(t,"YYYY-MM-DD").format("YYYY-MM-DD")},editOffer:function(){var t=this,e=this.deadline+"T00:00:00";console.log(this.deadline),""==this.deadline&&(e=this.backEndDateFormat(this.offer.deadline)+"T00:00:00"),this.totalPrice<1?this.showDismissibleAlertModal=!0:(console.log(e),this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/offers/update",{id:this.offer.id,deadline:e,status:this.offer.status,supplier:this.supplier,totalPrice:this.offer.totalPrice,order:this.offer.order},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){null!=e.data&&(t.showSuccessAlert=!0,t.showDismissibleAlertModal=!1,t.showDismissibleAlert=!1,t.offer.deadline=e.data.deadline,t.deadline="")})).catch((function(e){console.log(e),t.showDismissibleAlert=!0})))}}}),fr=hr,br=(a("f66e"),Object(c["a"])(fr,ur,pr,!1,null,null,null)),vr=br.exports,gr=Object(A["a"])({components:{SupplierOffer:vr},data:function(){return{active:!1,status:"",offers:null,user:"",showFailedAlertFilter:!1}},mounted:function(){var t=this;this.user=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/offers/"+this.user,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.offers=e.data,console.log(t.offers)})).catch((function(t){return console.log(t.response.data)}))},methods:{fillterOffers:function(){var t=this;"ALL"==this.status?this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/offers/"+this.user,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.offers=e.data})).catch((function(t){return console.log(t.response.data)})):this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/offers/filter/"+this.user+","+this.status,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.offers=e.data,console.log(t.offers)})).catch((function(t){return console.log(t.response.data)}))}}}),yr=gr,kr=(a("8a26"),Object(c["a"])(yr,dr,mr,!1,null,"52abaa5a",null)),wr=kr.exports,_r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v(" Order list preview")]),t._v(" "),a("hr"),a("div",{staticClass:"row row-cols-2 row-cols-md-3 g-2"},t._l(this.orders,(function(t){return a("div",{key:t.id,staticClass:"col-lg-4 col-md-6 col-sm-10 offset-md-0 offset-sm-1"},[a("div",[a("SupplierOrder",{attrs:{order:t}})],1)])})),0)])},Cr=[],Ar=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("h5",{staticClass:"header-color"},[a("b",[t._v("Pharmacy: "+t._s(this.order.admin.pharmacy.name))])])]),a("div",{staticClass:"card-body"},[a("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showDismissibleAlert,callback:function(e){t.showDismissibleAlert=e},expression:"showDismissibleAlert"}},[t._v(" Could not send offer. ")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showSuccessAlert,callback:function(e){t.showSuccessAlert=e},expression:"showSuccessAlert"}},[t._v(" Success! You sent offer. ")]),a("h5",{staticClass:"card-title"},[t._v("Medicaments required")]),t._l(this.order.medicamentItems,(function(e){return a("div",{key:e.id},[a("p",{staticClass:"card-text"},[t._v(t._s(e.medicament.name)+": "+t._s(e.quantity))])])})),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModalCenter"+t.order.id}},[t._v(" Write offer ")])],2),a("div",{staticClass:"card-footer"},[t._v(" Deadline: "+t._s(this.frontEndDateFormat(this.order.deadline))+" ")]),a("div",{staticClass:"modal fade",attrs:{id:"exampleModalCenter"+t.order.id,tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-row"},[[a("div",{staticClass:"form-row"},[a("label",[t._v("Deadline: ")]),a("b-form-datepicker",{staticClass:"col-md-12",attrs:{min:t.min,max:t.max,locale:"en"},model:{value:t.deadline,callback:function(e){t.deadline=e},expression:"deadline"}}),a("label",{attrs:{name:"totalPrice"}},[t._v("Total Price")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.totalPrice,expression:"totalPrice"}],staticClass:"form-control col-md-12",attrs:{type:"number",min:"1",required:""},domProps:{value:t.totalPrice},on:{input:function(e){e.target.composing||(t.totalPrice=e.target.value)}}})],1),a("p",{directives:[{name:"show",rawName:"v-show",value:t.showDismissibleAlertModal,expression:"showDismissibleAlertModal"}],staticClass:"red-color"},[t._v(" Total price must be greater than 0. ")])]],2)]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" Close ")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.submitOffer}},[t._v(" Send offer ")])])])])])])},Sr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title header-color",attrs:{id:"exampleModalLongTitle"}},[a("b",[t._v("Write offer")])]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã")])])])}],xr=Object(A["a"])({name:"SupplierOrder",props:{order:{type:Object}},data:function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=new Date(e),s=new Date(e);return s.setMonth(s.getMonth()+2),s.setDate(15),{showDismissibleAlertModal:!1,showDismissibleAlert:!1,showSuccessAlert:!1,min:a,max:s,deadline:"",user:"",status:"WAITINGFORANSWER",supplier:"",totalPrice:0}},mounted:function(){this.supplier=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,console.log("Order ".concat(this.order.id))},methods:{frontEndDateFormat:function(t){return qa()(t,"YYYY-MM-DD").format("DD.MM.YYYY")},submitOffer:function(){var t=this;this.totalPrice<1?this.showDismissibleAlertModal=!0:this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/offers/save",{deadline:this.deadline+"T00:00:00",status:this.status,supplier:this.supplier,totalPrice:this.totalPrice,order:this.order},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){null!=e.data&&(t.showSuccessAlert=!0,t.showDismissibleAlertModal=!1)})).catch((function(e){console.log(e),t.showDismissibleAlert=!0}))}}}),Mr=xr,Pr=(a("4c8f"),Object(c["a"])(Mr,Ar,Sr,!1,null,null,null)),Ir=Pr.exports,Dr=Object(A["a"])({name:"OrderList",components:{SupplierOrder:Ir},data:function(){return{orders:[],user:null}},mounted:function(){var t=this;this.user=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/orders/forOffer",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.orders=e.data})).catch((function(t){return console.log(t.response.data)}))}}),Nr=Dr,jr=Object(c["a"])(Nr,_r,Cr,!1,null,null,null),Fr=jr.exports,Or=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-navbar",{attrs:{fixed:"top",toggleable:"lg",type:"light",variant:"light"}},[a("b-navbar-brand",{attrs:{href:"/SupplierPage/MedicamentList"}},[t._v("Home Page")]),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",[a("b-nav-item",{attrs:{href:"/SupplierPage/MedicamentList"}},[t._v("Medicaments")]),a("b-nav-item",{attrs:{href:"/SupplierPage/PharmacyList"}},[t._v(" Pharmacies")]),a("b-nav-item",{attrs:{href:"/SupplierPage/OrderList"}},[t._v("Order List")]),a("b-nav-item",{attrs:{href:"/SupplierPage/OfferList"}},[t._v("Offer List")])],1),a("b-navbar-nav",{staticClass:"ml-auto"},[a("Search",{attrs:{path:"/SupplierPage"}}),a("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("em",{staticClass:"pl-2"},[t._v("User")])]},proxy:!0}])},[a("b-dropdown-item",{attrs:{href:"/SupplierPage/ChangePassword"}},[t._v("Change password")]),a("b-dropdown-item",{attrs:{href:"/SupplierPage/PatientProfile?type=supplier"}},[t._v("Profile")]),a("b-dropdown-item",{attrs:{href:"/Logout"}},[t._v("Sign Out")])],1)],1)],1)],1),a("router-view")],1)},Er=[],Rr={components:{Search:Yt}},Tr=Rr,$r=Object(c["a"])(Tr,Or,Er,!1,null,null,null),zr=$r.exports,Br=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-form"},[a("div",{staticClass:"card-header"},[t._v("Orders")]),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1),a("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-form-select",{attrs:{options:t.options},on:{change:t.Filter},model:{value:t.f,callback:function(e){t.f=e},expression:"f"}})],1)],1),a("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-button",{attrs:{variant:"success"},on:{click:function(e){return t.AddOrder(e.target)}}},[t._v("Add")])],1)],1)],1),a("b-table",{ref:"table",attrs:{items:t.items,fields:t.fields,responsive:"sm","sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,striped:"",hover:"","filter-included-fields":t.filterOn,small:""},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(edit)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"info"},on:{click:function(a){return t.Edit(e.item,a.target)}}},[t._v(" Edit ")])]}},{key:"cell(delete)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.Delete(e.item,a.target)}}},[t._v(" Delete ")])]}},{key:"cell(details)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"light"},on:{click:function(a){return t.ShowDetails(e.item,a.target)}}},[t._v(" Details ")])]}},{key:"cell(offers)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"secondary"},on:{click:function(a){return t.ShowOffers(e.item,a.target)}}},[t._v(" Offers ")])]}}])}),a("b-modal",{attrs:{id:t.detailsModal.id,title:t.detailsModal.title,"ok-only":""},on:{ended:t.resetInfoModal}},[a("pre",[a("b-table",{attrs:{items:t.allmeds,fields:t.fields2,responsive:"sm",small:""}})],1)]),a("b-modal",{attrs:{id:t.editModal.id,title:t.editModal.title},on:{ok:t.Ok,ended:t.resetEditModal}},[a("div",[a("b-alert",{attrs:{dismissible:"",fade:"",variant:t.varian},model:{value:t.showEditAlert,callback:function(e){t.showEditAlert=e},expression:"showEditAlert"}},[t._v(" "+t._s(t.message)+" ")]),a("form",{attrs:{name:"myform"}},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right"},[t._v("Medicament ")]),a("label",{staticClass:"col-md-4 col-form-label text-md-right"},[t._v("Quantity ")])]),t._l(t.allmeds,(function(e){return a("div",{key:e.name},[a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"item.name"}],staticClass:"form-control",attrs:{type:"text",disabled:"true"},domProps:{value:e.name},on:{input:function(a){a.target.composing||t.$set(e,"name",a.target.value)}}})]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.quantity,expression:"item.quantity"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.quantity},on:{input:function(a){a.target.composing||t.$set(e,"quantity",a.target.value)}}})])])])}))],2),a("label",{attrs:{for:"dd"}},[t._v(" Deadline: ")]),a("br"),a("label",[a("b-form-datepicker",{staticClass:"mb-2",attrs:{"date-disabled-fn":t.dateDisabled,locale:"en"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),a("br"),a("b-button",{attrs:{size:"sm",variant:"success"},on:{click:function(e){return t.Save()}}},[t._v(" Save ")])],1)]),a("b-modal",{attrs:{id:t.errorModal.id,title:t.errorModal.title,"ok-only":""},on:{ended:t.errModal}},[a("pre",[t._v(t._s(t.errorModal.content))])]),a("b-modal",{attrs:{size:"lg",id:t.addModal.id,title:t.addModal.title},on:{ok:t.AddAll,ended:t.resetInfoModal}},[[a("div",[a("b-table",{ref:"selectableTable",attrs:{items:t.medicamentss,fields:t.fields3,responsive:"sm",small:"","select-mode":t.selectMode,selectable:""},on:{"row-selected":t.onRowSelected}})],1),a("div",[a("label",[t._v(" Quantity: ")]),a("br"),a("label",[a("b-form-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-input-quantity",type:"number"},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}})],1),a("label"),a("br"),a("label",{attrs:{for:"dd"}},[t._v(" Deadline: ")]),a("br"),a("label",[a("b-form-datepicker",{staticClass:"mb-2",attrs:{"date-disabled-fn":t.dateDisabled,locale:"en"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),a("br"),a("b-button",{attrs:{size:"sm",variant:"success"},on:{click:function(e){return t.AddOne()}}},[t._v(" Add ")])],1)]],2),a("b-modal",{attrs:{size:"lg",id:t.offersModal.id,title:t.offersModal.title},on:{ok:t.OfferOk,ended:t.resetOfferModal}},[[a("div",[a("b-alert",{attrs:{dismissible:"",fade:"",variant:t.varian},model:{value:t.showSuccessAlert,callback:function(e){t.showSuccessAlert=e},expression:"showSuccessAlert"}},[t._v(" "+t._s(t.message)+" ")])],1),a("div",[a("b-table",{ref:"selectableTable",attrs:{items:t.alloffers,fields:t.fields4,responsive:"sm",small:"","select-mode":t.selectMode,selectable:""},on:{"row-selected":t.onSelect}})],1),!0===t.processed?a("b-button",{attrs:{size:"sm",variant:"success"},on:{click:function(e){return t.Accept()}}},[t._v(" Accept ")]):t._e()]],2),a("b-modal",{attrs:{size:"lg",id:t.priceModal.id,title:t.priceModal.title},on:{ok:t.PriceSave,ended:t.resetPriceModal}},[a("div",[a("b-alert",{attrs:{dismissible:"",fade:"",variant:t.varian},model:{value:t.showEditAlert,callback:function(e){t.showEditAlert=e},expression:"showEditAlert"}},[t._v(" "+t._s(t.message)+" ")]),a("form",{attrs:{name:"myform"}},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 col-form-label text-md-right"},[t._v("Medicament ")]),a("label",{staticClass:"col-md-3 col-form-label text-md-right"},[t._v("Price ")]),a("label",{staticClass:"col-md-3 col-form-label text-md-right"},[t._v("Points ")])]),t._l(t.newMeds,(function(e){return a("div",{key:e.name},[a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"item.name"}],staticClass:"form-control",attrs:{type:"text",disabled:"true"},domProps:{value:e.name},on:{input:function(a){a.target.composing||t.$set(e,"name",a.target.value)}}})]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.price,expression:"item.price"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.price},on:{input:function(a){a.target.composing||t.$set(e,"price",a.target.value)}}})]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.points,expression:"item.points"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.points},on:{input:function(a){a.target.composing||t.$set(e,"points",a.target.value)}}})])])])}))],2),a("br")],1)])],1)},Lr=[],qr={components:{},data:function(){return{fields:[{key:"status",sortable:!0,label:"Status"},{key:"date1",sortable:!0,label:"Deadline"},{key:"employee",sortable:!0,label:"Employee"},"details","offers","edit","delete"],fields2:[{key:"name",label:"Name"},{key:"quantity",label:"Quantity"}],fields3:[{key:"id",label:"Id"},{key:"name",label:"Name"},{key:"type",label:"Type"},{key:"medicamentForm",label:"Medicament form"},{key:"manufacturer",label:"Manufacturer"}],fields4:[{key:"id",label:"Id"},{key:"totalPrice",label:"Total price"},{key:"supplier",label:"Supplier"},{key:"status",label:"Status"}],options:["Processed","Waiting for offers","All"],items:[],selectMode:"single",sortBy:"date1",sortDesc:!1,filter:null,filterOn:[],totalRows:1,totalRows1:1,new:[],errorModal:{id:"error-modal",title:"",content:""},addModal:{id:"add-modal",title:"",content:""},detailsModal:{id:"details-modal",title:"",content:""},editModal:{id:"edit-modal",title:"",content:""},offersModal:{id:"offers-modal",title:"",content:""},priceModal:{id:"price-modal",title:"",content:""},headerBgVariant:"success",headerErrorVariant:"warning",pharmacyId:0,selected:[],date:"",message:"",d:Object,adminU:"",medicamentss:[],allmeds:[],addedItems:[],quantity:0,orderId:0,da:"",a:[],f:0,filterStatus:"",alloffers:[],selectedOffer:[],processed:!1,showSuccessAlert:!1,varian:"success",showEditAlert:!1,meds:[],newMeds:[],names:[]}},mounted:function(){var t=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,e=this;e.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacyAdmin/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(a){e.pharmacyId=a.data.pharmacy.id,e.adminU=t,e.GetAllMedicaments(),e.GetAllMedicamentItems(),e.refresh()})).catch((function(t){console.log(t)}))},methods:{datum:function(t){return qa()(t,"YYYY-MM-DD").format("DD/MM/YYYY")},onFiltered:function(t){self.totalRows=t.length},resetInfoModal:function(){this.detailsModal.title="",this.detailsModal.content="",this.allmeds=[]},resetOfferModal:function(){this.offersModal.title="",this.offersModal.content="",this.alloffers=[],this.processed=!1},resetEditModal:function(){this.editModal.title="",this.editModal.content=""},resetPriceModal:function(){this.priceModal.title="",this.priceModal.content=""},errModal:function(){this.errorModal.title="",this.errorModal.content=""},AddOrder:function(t){this.addModal.title="Add order",this.$root.$emit("bv::show::modal",this.addModal.id,t)},ShowDetails:function(t,e){this.allmeds=t.allmeds,this.detailsModal.title="Details",this.$root.$emit("bv::show::modal",this.detailsModal.id,e)},Edit:function(t,e){"PROCESSED"==t.status?(this.message="You cannot edit processed order!",this.$root.$emit("bv::show::modal",this.errModal.id,e)):(this.allmeds=t.allmeds,this.orderId=t.id,this.da=t.date,this.editModal.title="Edit",this.$root.$emit("bv::show::modal",this.editModal.id,e))},onRowSelected:function(t){this.selected=t},onSelect:function(t){this.selectedOffer=t},ShowOffers:function(t,e){this.selected[0]=t,"WAITINGFOROFFERS"==t.status?this.processed=!0:this.processed=!1,this.alloffers=t.offers,this.offersModal.title="Offers",this.$root.$emit("bv::show::modal",this.offersModal.id,e)},Filter:function(){var t=this;"All"!=t.f?("Processed"==t.f?t.filterStatus="processed":"Waiting for offers"==t.f&&(t.filterStatus="Waitingforoffers"),t.items=[],t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/orders/filter/"+t.filterStatus+"/"+t.pharmacyId,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.length;a++){var s={};s.id=e.data[a].id,s.date1=t.datum(e.data[a].deadline),s.status=e.data[a].status,s.employee=e.data[a].admin.name+" "+e.data[a].admin.lastName,s.admin=e.data[a].admin.email;for(var o=[],r=0;r<e.data[a].medicamentItems.length;r++){var i={};i.name=e.data[a].medicamentItems[r].medicament.name,i.quantity=e.data[a].medicamentItems[r].quantity,i.id=e.data[a].medicamentItems[r].id,o.push(i)}s.allmeds=o;for(var n=[],l=0;l<e.data[a].offers.length;l++){var c={};c.id=e.data[a].offers[l].id,c.totalPrice=e.data[a].offers[l].totalPrice,c.status=e.data[a].offers[l].status,c.supplier=e.data[a].offers[l].supplier,c.orderId=e.data[a].id,n.push(c)}s.offers=n,t.items.push(s)}console.log(t.items),t.totalRows=t.items.length}))):(t.items=[],t.refresh())},Save:function(){for(var t=this,e=0;e<t.allmeds.length;e++){var a={},s={};a.id=t.allmeds[e].id,a.quantity=parseInt(t.allmeds[e].quantity),a.medicament=s,t.a.push(a)}t.axios.put("https://mrs-isa-projekat-backend.herokuapp.com/api/orders/updateOrder/"+t.adminU,{id:t.orderId,deadline:t.da,medicamentItems:t.a},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e),t.message="Succesfully!",t.showEditAlert=!0})).catch((function(e){t.message="You cannot edit processed order!",t.showEditAlert=!0,t.varian="danger",console.log(e)})),t.a=[]},Ok:function(){this.allmeds=[],this.items=[],this.refresh()},AddOne:function(){var t=this.selected[0],e=this.medicamentss.indexOf(t);if(-1!=e){this.medicamentss.splice(e,1);var a={},s={};s.id=this.selected[0].id,a.medicament=s,a.quantity=this.quantity,this.addedItems.push(a),this.selected=[],this.quantity=0}this.items=[],this.refresh()},PriceSave:function(){for(var t=0;t<this.newMeds.length;t++)console.log(this.newMeds[t].id),this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/pricelistItems/",{price:[{value:this.newMeds[t].price,points:this.newMeds[t].points}],pharmacy:{id:this.pharmacyId},medicament:{id:this.newMeds[t].id}},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.newMeds=[]},Accept:function(){this.newMeds=[];for(var t=0;t<this.selected[0].allmeds.length;t++)if(this.meds.includes(this.selected[0].allmeds[t].name))console.log("d");else{var e={};e.id=this.selected[0].allmeds[t].idMed,e.name=this.selected[0].allmeds[t].name,this.newMeds.push(e)}console.log(this.newMeds);var a=this,s=a.selectedOffer[0];a.axios.put("https://mrs-isa-projekat-backend.herokuapp.com/api/offers/updateOffers/"+parseInt(s.orderId)+"/"+parseInt(s.id)+"/"+s.supplier,{id:s.id},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){console.log(t),a.newMeds.length>0?a.$root.$emit("bv::show::modal",a.priceModal.id):(a.message="Successfuly accepted!",a.showSuccessAlert=!0)})).catch((function(t){a.message="You cannot accept before deadline!",a.showSuccessAlert=!0,a.varian="danger",console.log(t)}))},OfferOk:function(){this.items=[],this.allmeds=[],this.alloffers=[],this.refresh()},AddAll:function(){var t=this;t.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/orders/",{deadline:t.date,medicamentItems:t.addedItems,admin:{email:t.adminU}},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),t.allmeds=[],t.items=[],t.refresh()},dateDisabled:function(t,e){var a=new Date,s=a.getMonth(),o=a.getDate(),r=e.getDate(),i=e.getMonth();return r<=o&&i<=s||r>=o&&i<s},refresh:function(){var t=this;t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/orders/"+t.pharmacyId,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.length;a++){console.log(e.data[a]);var s={};s.id=e.data[a].id,s.date1=t.datum(e.data[a].deadline),s.status=e.data[a].status,s.employee=e.data[a].admin.name+" "+e.data[a].admin.lastName,s.admin=e.data[a].admin.email;for(var o=[],r=0;r<e.data[a].medicamentItems.length;r++){var i={};i.name=e.data[a].medicamentItems[r].medicament.name,i.quantity=e.data[a].medicamentItems[r].quantity,i.id=e.data[a].medicamentItems[r].id,i.idMed=e.data[a].medicamentItems[r].medicament.id,o.push(i)}s.allmeds=o;for(var n=[],l=0;l<e.data[a].offers.length;l++){var c={};c.id=e.data[a].offers[l].id,c.totalPrice=e.data[a].offers[l].totalPrice,c.status=e.data[a].offers[l].status,c.supplier=e.data[a].offers[l].supplier,c.orderId=e.data[a].id,n.push(c)}s.offers=n,t.items.push(s)}t.totalRows=t.items.length}))},GetAllMedicaments:function(){var t=this;t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/medicaments/all",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.length;a++){var s={};s.id=e.data[a].id,s.name=e.data[a].name,s.type=e.data[a].type,s.annotation=e.data[a].annotation,s.structure=e.data[a].structure,s.manufacturer=e.data[a].manufacturer,s.medicamentForm=e.data[a].form,s.issuanceMode=e.data[a].mode,t.medicamentss.push(s)}}))},Delete:function(t,e){var a=this;a.axios.delete("https://mrs-isa-projekat-backend.herokuapp.com/api/orders/"+t.id+"/"+a.adminU,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(s){var o=a.items.indexOf(t);a.items.splice(o,1),console.log(s),a.errorModal.title="Success",a.errorModal.content="Successfuly deleted!",a.headerErrorVariant="success",a.$root.$emit("bv::show::modal",a.errorModal.id,e)})).catch((function(t){a.errorModal.title="Error",a.errorModal.content="You cannot delete!",a.$root.$emit("bv::show::modal",a.errorModal.id,e),console.log(t)}))},GetAllMedicamentItems:function(){var t=this;t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/medicamentItems/"+parseInt(t.pharmacyId),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.length;a++)t.meds.push(e.data[a].medicament.name)}))}}},Yr=qr,Hr=(a("3011"),Object(c["a"])(Yr,Br,Lr,!1,null,"eda900cc",null)),Jr=Hr.exports,Ur=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"my-form"},[a("div",{staticClass:"cotainer"},[a("b-modal",{attrs:{id:t.errorModal.id,title:t.errorModal.title,"ok-only":""},on:{ended:t.errModal}},[a("pre",[t._v(t._s(t.errorModal.content))])]),a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("Change password ")]),a("div",{staticClass:"card-body"},[a("form",{attrs:{name:"myform"},on:{submit:t.onSubmit}},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"oldone"}},[t._v("Old password")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oldone,expression:"oldone"}],staticClass:"form-control",attrs:{type:"password",id:"oldone",name:"oldone"},domProps:{value:t.oldone},on:{input:function(e){e.target.composing||(t.oldone=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"password"}},[t._v("Password")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",name:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"password_confirmation"}},[t._v("Confirm password")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password_confirmation,expression:"password_confirmation"}],staticClass:"form-control",attrs:{type:"password",id:"password_confirmation",name:"password_confirmation"},domProps:{value:t.password_confirmation},on:{input:function(e){e.target.composing||(t.password_confirmation=e.target.value)}}})])]),t._m(0)])])])])])],1)])},Wr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"buttons form-group row"},[a("button",{staticClass:"col-md-2 btn btn-success"},[t._v("Submit")])])}],Gr=Object(A["a"])({name:"ChangePassword",components:{},data:function(){return{email:"",password:"",password_confirmation:"",oldone:"",d:!0,user:{},role:"",showSuccessAlert:!1,username:"",rolepath:"",errorModal:{id:"error-modal",title:"",content:""}}},mounted:function(){this.role=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).role,this.username=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub},methods:{errModal:function(){this.errorModal.title="",this.errorModal.content=""},onSubmit:function(t){t.preventDefault();var e=this;e.oldone&&e.password&&e.password_confirmation||(e.showSuccessAlert=!0,e.errorModal.content="You must enter all data.",e.$root.$emit("bv::show::modal",e.errorModal.id)),e.password!=e.password_confirmation?(e.showSuccessAlert=!0,e.errorModal.content="The password confirmation does not match.",e.$root.$emit("bv::show::modal",e.errorModal.id)):("ROLE_PHARMACY_ADMIN"==e.role?e.rolepath="pharmacyAdmin":"ROLE_SUPPLIER"==e.role?e.rolepath="supplier":"ROLE_PHARMACIST"==e.role?e.rolepath="pharmacist":"ROLE_DERMATOLOGIST"==e.role?e.rolepath="dermatologist":"ROLE_PATIENT"==e.role?e.rolepath="patients":"ROLE_SYSTEM_ADMIN"==e.role&&(e.rolepath="systemAdmin"),e.axios.put("https://mrs-isa-projekat-backend.herokuapp.com/api/"+e.rolepath+"/changePassword/"+e.oldone,{email:e.username,password:e.password},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){console.log(t),e.showSuccessAlert=!0,e.errorModal.content="Successfully changed password!",e.$root.$emit("bv::show::modal",e.errorModal.id)})).catch((function(t){console.log(t),e.showSuccessAlert=!0,e.errorModal.content="Error! You enter wrong old password!",e.$root.$emit("bv::show::modal",e.errorModal.id)})))}}}),Vr=Gr,Qr=(a("207b"),Object(c["a"])(Vr,Ur,Wr,!1,null,"135a20e0",null)),Xr=Qr.exports,Kr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-form",scopedSlots:t._u([{key:"actions",fn:function(e){return[a("b-button",{attrs:{size:"sm"},on:{click:function(t){return t.stopPropagation(),e.toggleDetails(t)}}},[t._v(" "+t._s(e.detailsShowing?"Hide":"Show")+" Details ")])]}}])},[a("div",{staticClass:"card-header"},[t._v("Appointment history")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showFailedAlert,callback:function(e){t.showFailedAlert=e},expression:"showFailedAlert"}},[t._v(" No medical report available for given appointment! ")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showNoAppointment,callback:function(e){t.showNoAppointment=e},expression:"showNoAppointment"}},[t._v(" No appointment selected! ")]),null!=t.medicalReport?a("b-modal",{ref:"info-modal",attrs:{"hide-footer":"",title:"Details"}},[a("div",{staticClass:"d-block text-center"},[a("h3",[t._v("Report text")]),a("p",[t._v(t._s(this.medicalReport.text))])]),Object.keys(t.medicalReport.medicineQuantity).length>0?a("div",{staticClass:"d-block text-center"},[a("h3",[t._v("Prescribed medicines")]),a("b-list-group",t._l(t.medicalReport.medicineQuantity,(function(e,s){return a("b-list-group-item",{key:s,staticClass:"d-flex justify-content-between align-items-center"},[t._v(" "+t._s(s)+" "),a("b-badge",{attrs:{variant:"primary",pill:""}},[t._v(t._s(e))])],1)})),1)],1):t._e(),a("b-button",{staticClass:"mt-3",attrs:{variant:"outline-primary",block:""},on:{click:t.hideInfoModal}},[t._v("Close")])],1):t._e(),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1),a("b-col",{staticClass:"my-1",attrs:{lg:"8"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-button",{attrs:{variant:"success"},on:{click:function(e){return t.getMedicalReport()}}},[t._v(" View medical report ")])],1)],1)],1),a("b-table",{ref:"table",attrs:{items:t.items,fields:t.fields,responsive:"sm","sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,striped:"",hover:"",selectable:"","filter-included-fields":t.filterOn,"select-mode":"single",small:""},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered,"row-clicked":t.test}}),a("b-modal",{attrs:{id:t.errorModal.id,title:t.errorModal.title,"ok-only":"","header-bg-variant":t.headerErrorVariant,"footer-bg-variant":t.headerErrorVariant},on:{ended:t.errModal}},[a("pre",[t._v(t._s(t.errorModal.content))])]),a("b-modal",{attrs:{size:"lm",id:t.addModal.id,title:t.addModal.title,"header-bg-variant":t.headerBgVariant,"footer-bg-variant":t.headerBgVariant},on:{ok:t.AddOne,ended:t.resetInfoModal}})],1)},Zr=[],ti={components:{},data:function(){return{fields:[{key:"date1",sortable:!0,label:"Date"},{key:"timeFrom",sortable:!0,label:"Time from"},{key:"timeTo",sortable:!0,label:"Time to"},{key:"employee",sortable:!0,label:"Employee"},{key:"type",sortable:!0,label:"Appointment"}],medicalReport:null,items:[],selectMode:"single",sortBy:"date",sortDesc:!1,filter:null,filterOn:[],totalRows:1,totalRows1:1,new:[],errorModal:{id:"error-modal",title:"",content:""},addModal:{id:"add-modal",title:"",content:""},headerBgVariant:"success",headerErrorVariant:"warning",e:{},selected:Boolean,date:"",message:"",d:Object,weekday:"",list:[],allAppointments:"",t:0,selectedAppointment:"",selectedIndex:"",showFailedAlert:!1,showMedicalReport:!1,showNoAppointment:!1}},mounted:function(){var t=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,e=this;e.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/patients/appointment_history/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.allAppointments=t.data;for(var a=0;a<t.data.length;a++){var s={};s.id=t.data[a].appointmentId,s.date=t.data[a].date,s.timeFrom=t.data[a].termFrom,s.timeTo=t.data[a].termTo,s.type=t.data[a].type,s.employee=t.data[a].employee.name+" "+t.data[a].employee.lastName,e.items.push(s)}e.totalRows=e.items.length,e.items.forEach((function(t){t["date1"]=new Date(t["date"]).toDateString(),t["date"][1]-=1;var e=t["date"].concat(t["timeFrom"]).concat([0,0]);t["timeFrom"]=Object(Ys["a"])(Date,Object(Hs["a"])(e)).toLocaleTimeString();var a=t["date"].concat(t["timeTo"]).concat([0,0]);t["timeTo"]=Object(Ys["a"])(Date,Object(Hs["a"])(a)).toLocaleTimeString()}))})).catch((function(t){console.log(t)}))},methods:{getMedicalReport:function(){var t=this;this.showNoAppointment=!1,void 0!==this.selectedAppointment.id?(this.showFailedAlert=!1,this.showMedicalReport=!1,this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/patients/medical_report/"+this.selectedAppointment.id,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.medicalReport=e.data,t.showMedicalReport=!0,t.showInfoModal()})).catch((function(t){return console.log(t.data)}))):this.showNoAppointment=!0},test:function(t,e){this.selectedAppointment=t,this.selectedIndex=e,console.log(e)},onFiltered:function(t){self.totalRows=t.length},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},errModal:function(){this.errorModal.title="",this.errorModal.content=""},dateDisabled:function(t,e){var a=new Date,s=a.getMonth(),o=a.getDate(),r=e.getDate(),i=e.getMonth();return r<=o&&i<=s||r>=o&&i<s},hideInfoModal:function(){this.$refs["info-modal"].hide()},showInfoModal:function(){this.$refs["info-modal"].show()}}},ei=ti,ai=(a("6122"),Object(c["a"])(ei,Kr,Zr,!1,null,"c74a40bc",null)),si=ai.exports,oi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Answered Complaint History")]),a("hr"),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showDismissibleAlert,callback:function(e){t.showDismissibleAlert=e},expression:"showDismissibleAlert"}},[t._v(" Could not send answer. ")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showSuccessAlert,callback:function(e){t.showSuccessAlert=e},expression:"showSuccessAlert"}},[t._v(" Your answer has been submited. ")]),a("div",{staticClass:"jusify-content"},[a("div",{staticClass:"row row-cols-4 row-cols-md-3 g-2"},t._l(t.complaints,(function(t){return a("div",{key:t.id,staticClass:"col-lg-3 col-md-6 col-sm-8 offset-md-1 offset-sm-0",staticStyle:{height:"25rem"}},[a("div",[a("AnsweredComplaint",{attrs:{complaint:t}})],1)])})),0)])],1)},ri=[],ii=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showDismissibleAlert,callback:function(e){t.showDismissibleAlert=e},expression:"showDismissibleAlert"}},[t._v(" Could not send complaint. ")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showSuccessAlert,callback:function(e){t.showSuccessAlert=e},expression:"showSuccessAlert"}},[t._v(" Your complaint has been sent. ")]),a("h5",{staticClass:"card-text"},[t._v(t._s(t.complaint.description))]),a("p",{staticClass:"card-text",attrs:{id:"colorIt"}},[t._v(t._s(t.objectOfComplaint))]),a("hr"),a("p",[t._v("Answer: "+t._s(t.complaint.response))])],1)},ni=[],li=Object(A["a"])({name:"AnsweredComplaint",props:{complaint:Object},data:function(){return{user:"",objectOfComplaint:"",pharmacy:null,employee:null,mockupComplaint:null,response:"",showSuccessAlert:!1,showDismissibleAlert:!1}},mounted:function(){var t=this;this.user=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,null==this.complaint.employee?this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/"+parseInt(this.complaint.pharmacy),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.pharmacy=e.data,t.objectOfComplaint=t.pharmacy.name})).catch((function(t){return console.log(t.response.data)})):(this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacist/"+this.complaint.employee,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.employee=e.data,t.objectOfComplaint=t.employee.name+" "+t.employee.lastName})).catch((function(t){return console.log(t.response.data)})),null==this.employee&&this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/dermatologist/"+this.complaint.employee,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.employee=e.data,t.objectOfComplaint=t.employee.name+" "+t.employee.lastName})).catch((function(t){return console.log(t.response.data)})))}}),ci=li,di=(a("85db"),Object(c["a"])(ci,ii,ni,!1,null,"e01c43e0",null)),mi=di.exports,ui=Object(A["a"])({components:{AnsweredComplaint:mi},data:function(){return{showDismissibleAlert:!1,showSuccessAlert:!1,complaints:[],user:""}},mounted:function(){var t=this;this.user=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/complaints/getAllAnswered/"+this.user,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.complaints=e.data,console.log(t.complaints)})).catch((function(t){return console.log(t.response.data)}))}}),pi=ui,hi=Object(c["a"])(pi,oi,ri,!1,null,null,null),fi=hi.exports,bi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-div",[s("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showSuccessAlert,callback:function(e){t.showSuccessAlert=e},expression:"showSuccessAlert"}},[t._v(" You have succesfully updated your profile. ")]),s("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showErrorAlert,callback:function(e){t.showErrorAlert=e},expression:"showErrorAlert"}},[t._v(" Invalid input data! ")]),s("b-row",[s("b-col",{staticClass:"col-lg-4"},[s("img",{attrs:{src:a("1190"),alt:""}})]),s("b-col",{staticClass:"text-left col-lg-8"},[s("b-row",{staticClass:"mb-3"},[s("b-col",{staticClass:"col-lg-2 label"},[t._v(" Email: ")]),s("b-col",[t._v(" "+t._s(t.patient.email)+" ")])],1),s("b-row",{staticClass:"mb-3"},[s("b-col",{staticClass:"col-lg-2 mt-2 label"},[t._v(" First Name: ")]),s("b-col",[s("b-input",{staticClass:"col-lg-7",model:{value:t.patient.name,callback:function(e){t.$set(t.patient,"name",e)},expression:"patient.name"}})],1)],1),s("b-row",{staticClass:"mb-3"},[s("b-col",{staticClass:"col-lg-2 mt-2 label"},[t._v(" Last Name: ")]),s("b-col",[s("b-input",{staticClass:"col-lg-7",model:{value:t.patient.lastName,callback:function(e){t.$set(t.patient,"lastName",e)},expression:"patient.lastName"}})],1)],1),s("b-row",{staticClass:"mb-3"},[s("b-col",{staticClass:"col-lg-2 mt-2 label"},[t._v(" Phone number: ")]),s("b-col",[s("b-input",{staticClass:"col-lg-7",model:{value:t.patient.phoneNumber,callback:function(e){t.$set(t.patient,"phoneNumber",e)},expression:"patient.phoneNumber"}})],1)],1),s("b-row",{staticClass:"mb-3 mt-5"},[s("b-col",{staticClass:"col-lg-2 mt-2 label"},[t._v(" Country: ")]),s("b-col",[s("b-input",{staticClass:"col-lg-7",model:{value:t.patient.address.country,callback:function(e){t.$set(t.patient.address,"country",e)},expression:"patient.address.country"}})],1)],1),s("b-row",{staticClass:"mb-3"},[s("b-col",{staticClass:"col-lg-2 mt-2 label"},[t._v(" City: ")]),s("b-col",[s("b-input",{staticClass:"col-lg-7",model:{value:t.patient.address.city,callback:function(e){t.$set(t.patient.address,"city",e)},expression:"patient.address.city"}})],1)],1),s("b-row",{staticClass:"mb-3"},[s("b-col",{staticClass:"col-lg-2 mt-2 label"},[t._v(" Street: ")]),s("b-col",[s("b-input",{staticClass:"col-lg-7",model:{value:t.patient.address.street,callback:function(e){t.$set(t.patient.address,"street",e)},expression:"patient.address.street"}})],1)],1),s("b-row",{staticClass:"mb-3"},[s("b-col",{staticClass:"col-lg-2 mt-2 label"},[t._v(" Number: ")]),s("b-col",[s("b-input",{staticClass:"col-lg-2",attrs:{type:"number"},model:{value:t.patient.address.number,callback:function(e){t.$set(t.patient.address,"number",e)},expression:"patient.address.number"}})],1)],1),s("br"),"patient"===t.type?s("b-row",{staticClass:"mb-3 mt-2"},[s("b-col",{staticClass:"col-lg-2 label"},[t._v(" Category: ")]),s("b-col",{staticClass:"ml-3 text-center",class:{bronze:"REGULAR"===t.loyalty.category,silver:"SILVER"===t.loyalty.category,gold:"GOLD"===t.loyalty.category}},[t._v(" "+t._s(t.loyalty.category)+" ")])],1):t._e(),"patient"===t.type?s("b-row",{staticClass:"mb-3"},[s("b-col",{staticClass:"col-lg-2 label"},[t._v(" Loyalty points: ")]),s("b-col",[t._v(" "+t._s(t.loyalty.points)+" ")])],1):t._e(),s("b-row",[s("b-col"),s("b-col",{staticClass:"mb-5"},[s("b-button",{attrs:{variant:"success"},on:{click:function(e){return t.saveChanges()}}},[t._v(" Save changes ")])],1)],1)],1)],1)],1)},vi=[],gi=(a("498a"),a("d3b7"),a("25f0"),{data:function(){return{loyalty:null,patient:null,username:"",address:"",showSuccessAlert:!1,showErrorAlert:!1,type:"patient"}},mounted:function(){this.username=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,this.loadPatient(),"patient"===this.type&&this.loadLoyalty()},created:function(){this.$route.query.type&&(this.type=this.$route.query.type),console.log(this.type)},methods:{loadPatient:function(){var t=this,e="patient"===this.type?"patients":this.type;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/".concat(e,"/").concat(this.username),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.patient=e.data,t.address=t.addressToString(t.patient.address)})).catch((function(t){console.log(t)}))},loadLoyalty:function(){var t=this;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/patients/loyalty/".concat(this.username)).then((function(e){t.loyalty=e.data,t.loyalty.category})).catch((function(t){console.log(t)}))},addressToString:function(t){return t.street+" "+t.number+", "+t.city+" "+t.country},saveChanges:function(){var t=this,e=!0;if(this.patient.name.trim()||(e=!1),this.patient.lastName.trim()||(e=!1),this.patient.phoneNumber.toString().trim()||(e=!1),this.patient.address.country.trim()||(e=!1),this.patient.address.city.trim()||(e=!1),this.patient.address.street.trim()||(e=!1),this.patient.address.number.toString().trim()||(e=!1),e){this.showErrorAlert=!1,this.showSuccessAlert=!1,"patient"===this.type&&alert(this.addressToString(this.patient.address));var a="patient"===this.type?"patients":this.type+"/update";this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/".concat(a),this.patient,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(){return t.showSuccessAlert=!0})).catch((function(t){return console.log(t.data)}))}else this.showErrorAlert=!0}}}),yi=gi,ki=(a("8b84"),Object(c["a"])(yi,bi,vi,!1,null,"0855d3c0",null)),wi=ki.exports,_i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-container",{attrs:{fluid:""}},[a("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showSuccessAlert,callback:function(e){t.showSuccessAlert=e},expression:"showSuccessAlert"}},[t._v(" Success! "+t._s(t.message)+" ")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showFailedAlert,callback:function(e){t.showFailedAlert=e},expression:"showFailedAlert"}},[t._v(" Failed to "+t._s(t.message)+". ")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showSuccessAlertDelete,callback:function(e){t.showSuccessAlertDelete=e},expression:"showSuccessAlertDelete"}},[t._v(" Success! You deleted medicament. ")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showFailedAlertDelete,callback:function(e){t.showFailedAlertDelete=e},expression:"showFailedAlertDelete"}},[t._v(" Failed to delete medicament ")]),a("b-table",{attrs:{items:t.items,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection,"head-variant":t.headVariant,small:!1,fixed:!0,stacked:"md","show-empty":"",striped:""},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(deleteMedicament)",fn:function(e){return[a("b-button",{staticClass:"mr-2",attrs:{size:"sm"},on:{click:function(a){return t.deleteMedicament(e)}}},[t._v(" Delete ")])]}},{key:"cell(updateMedicement)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{size:"sm"},on:{click:function(a){return t.info(e.item,e.index,a.target)}}},[t._v(" Change ")])]}}])}),a("b-modal",{attrs:{id:t.infoModal.id,title:t.infoModal.title,"ok-only":""},on:{hide:t.resetInfoModal}},[a("div",[a("div",{staticClass:"form-row"},[a("div",{staticClass:"from-group col-md-4"},[a("label",{attrs:{name:"id"}},[t._v("Id")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.updated.id,expression:"updated.id"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.updated.id},on:{input:function(e){e.target.composing||t.$set(t.updated,"id",e.target.value)}}})]),a("div",{staticClass:"form-group col-md-4"},[a("label",{attrs:{name:"name"}},[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.updated.name,expression:"updated.name"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.updated.name},on:{input:function(e){e.target.composing||t.$set(t.updated,"name",e.target.value)}}})]),a("div",{staticClass:"form-group col-md-4"},[a("label",{attrs:{name:"type"}},[t._v("Type")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.updated.type,expression:"updated.type"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.updated.type},on:{input:function(e){e.target.composing||t.$set(t.updated,"type",e.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-4"},[a("label",{attrs:{name:"manufacturer"}},[t._v("Manufacturer")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.updated.manufacturer,expression:"updated.manufacturer"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.updated.manufacturer},on:{input:function(e){e.target.composing||t.$set(t.updated,"manufacturer",e.target.value)}}})]),a("div",{staticClass:"form-group col-md-4"},[a("label",{attrs:{name:"medicamentForm"}},[t._v("MedicamentForm")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.updated.form,expression:"updated.form"}],staticClass:"custom-select",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.updated,"form",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"POWDER"}},[t._v("Powder")]),a("option",{attrs:{value:"CAPSULE"}},[t._v("Capsule")]),a("option",{attrs:{value:"TABLET"}},[t._v("Tablet")]),a("option",{attrs:{value:"OINTMENTS"}},[t._v("Ointments")]),a("option",{attrs:{value:"PASTE"}},[t._v("Paste")]),a("option",{attrs:{value:"GEL"}},[t._v("Gel")]),a("option",{attrs:{value:"LIQUID"}},[t._v("Liquid")]),a("option",{attrs:{value:"SYRUP"}},[t._v("Syrup")])])]),a("div",{staticClass:"form-group col-md-4"},[a("label",{attrs:{name:"issuanceMode"}},[t._v("IssuanceMode")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.updated.mode,expression:"updated.mode"}],staticClass:"custom-select",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.updated,"mode",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"WITHOUTPRESCRIPTION"}},[t._v(" Without Prescription ")]),a("option",{attrs:{value:"WITHPRESCRIPTION"}},[t._v("With Prescription")])])])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-12"},[a("label",{attrs:{name:"Content"}},[t._v("Content")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.updated.structure,expression:"updated.structure"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.updated.structure},on:{input:function(e){e.target.composing||t.$set(t.updated,"structure",e.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-12"},[a("label",{attrs:{name:"annotations"}},[t._v("Annotations")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.updated.annotation,expression:"updated.annotation"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.updated.annotation},on:{input:function(e){e.target.composing||t.$set(t.updated,"annotation",e.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-12"},[a("div",[a("label",{staticClass:"typo__label"},[t._v("Choose substitute medicaments")]),a("multiselect",{attrs:{options:t.items,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,"preselect-first":!0,"track-by":"id",label:"name"},model:{value:t.substitute,callback:function(e){t.substitute=e},expression:"substitute"}})],1)])]),a("div",{staticClass:"col-md-12"},[a("button",{staticClass:"btn btn-success",on:{click:t.updateMed}},[t._v("Edit")])])])])],1)],1)},Ci=[],Ai=Object(A["a"])({components:{Multiselect:ze.a},data:function(){return{items:[],fields:[{key:"id",label:"Id",sortable:!0},{key:"name",label:"Name",sortable:!0},{key:"deleteMedicament",label:"Delete"},{key:"updateMedicement",label:"Edit"}],totalRows:1,currentPage:1,perPage:5,sortBy:"",sortDesc:!1,sortDirection:"asc",deleted:null,admin:"",id:"",name:"",type:"",manufacturer:"",annotations:"",medicamentForm:"",issuanceMode:"",substitute:[],content:"",structure:"",points:0,message:"",showSuccessAlert:!1,showFailedAlert:!1,showSuccessAlertDelete:!1,showFailedAlertDelete:!1,headVariant:"dark",infoModal:{id:"info-modal",title:"",content:"",element:null},updated:{name:"",structure:"",manufacturer:"",annotation:"",form:"",type:"",mode:"",id:""}}},computed:{sortOptions:function(){return this.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.label,value:t.key}}))}},mounted:function(){this.admin=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub;var t=this;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/medicaments/all",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.items=e.data,this.updated=this.items[0]})).catch((function(t){console.log(t)})),this.totalRows=this.items.length},methods:{deleteMedicament:function(t){var e=this;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/medicaments/deleteMedicament/"+t.item.id,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(a){e.deleted=a.data,e.showFailedAlertDelete=!1,e.showSuccessAlertDelete=!0;var s=e.items.indexOf(t.item);e.items.splice(s,1)})).catch((function(t){e.showFailedAlertDelete=!0,e.showSuccessAlertDelete=!1,console.log(t)}))},updateMed:function(){console.log(this.updated);var t=this;this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/medicaments/updateMedicament",{name:this.updated.name,id:this.updated.id,type:this.updated.type,structure:this.updated.structure,manufacturer:this.updated.manufacturer,issuanceMode:this.updated.mode,medicamentForm:this.updated.form,annotations:this.updated.annotations,substituteMedicaments:this.substitute},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){null!=e.data&&(t.message="You edited medicament ",t.showSuccessAlert=!0)})).catch((function(e){console.log(e),t.message="edit medicament ",t.showDismissibleAlert=!0}))},info:function(t,e){this.infoModal.title="Edit medicament",this.infoModal.element=t,this.updated=t,this.$root.$emit("bv::show::modal",this.infoModal.id,e),this.updated=t},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""}}}),Si=Ai,xi=Object(c["a"])(Si,_i,Ci,!1,null,"44e2dc34",null),Mi=xi.exports,Pi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showSuccess,callback:function(e){t.showSuccess=e},expression:"showSuccess"}},[t._v(" Success! You deleted pharmacy. ")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showAlert,callback:function(e){t.showAlert=e},expression:"showAlert"}},[t._v(" Failed attempt. ")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showAdminAcceptance,callback:function(e){t.showAdminAcceptance=e},expression:"showAdminAcceptance"}},[t._v(" Success! Admin added. ")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showAdminFired,callback:function(e){t.showAdminFired=e},expression:"showAdminFired"}},[t._v(" Success! Admin fired. ")]),a("b-table",{attrs:{items:t.items,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,stacked:"md","show-empty":""},scopedSlots:t._u([{key:"cell(deletePharmacy)",fn:function(e){return[a("b-button",{staticClass:"mr-2",attrs:{size:"sm"},on:{click:function(a){return t.deletePharmacy(e)}}},[t._v(" Delete ")])]}},{key:"cell(admins)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{size:"sm"},on:{click:function(a){return t.info(e.item,e.index,a.target)}}},[t._v(" Add admin ")])]}},{key:"cell(fireAdmin)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{size:"sm"},on:{click:function(a){return t.fireInfo(e.item,e.index,a.target)}}},[t._v(" Fire admin ")])]}}])}),a("b-modal",{attrs:{id:t.infoModal.id,title:t.infoModal.title,"ok-only":""},on:{hide:t.resetInfoModal}},[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-12"},[a("div",[a("label",{staticClass:"typo__label"},[t._v("Choose Admin")]),a("multiselect",{attrs:{options:t.admins,multiple:!1,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,"preselect-first":!1,"track-by":"email",label:"email"},model:{value:t.added,callback:function(e){t.added=e},expression:"added"}})],1)])]),a("div",{staticClass:"form-row"},[a("b-button",{attrs:{type:"button"},on:{click:t.setAdmins}},[t._v(" Add ")])],1)]),a("b-modal",{attrs:{id:t.fireModal.id,title:t.infoModal.title,"ok-only":""},on:{hide:t.resetInfoModal}},[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-12"},[a("div",[a("label",{staticClass:"typo__label"},[t._v("Choose Admin")]),a("multiselect",{attrs:{options:t.allAdmins,multiple:!1,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,"preselect-first":!1,"track-by":"email"},model:{value:t.fired,callback:function(e){t.fired=e},expression:"fired"}})],1)])]),a("div",{staticClass:"form-row"},[a("b-button",{attrs:{type:"button"},on:{click:t.fireAdmins}},[t._v(" Fire ")])],1)]),a("b-row",{staticClass:"justify-content-center"},[a("b-col",{staticClass:"my-3",attrs:{sm:"7",md:"8"}},[a("b-pagination",{staticClass:"my-3",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)},Ii=[],Di=Object(A["a"])({name:"PharmacyTable",components:{Multiselect:ze.a},data:function(){return{items:[],admins:[],added:[],allAdmins:[],fired:null,pharmacy:null,showAlert:!1,showSuccess:!1,showAdminFired:!1,showAdminAcceptance:!1,fields:[{key:"id",sortable:!0,label:"Id"},{key:"name",sortable:!0,label:"Name"},{key:"address",sortable:!0,label:"Address",formatter:function(t){return t.street+" "+t.number}},{key:"admins",label:"Add admin"},{key:"fireAdmin",label:"Fire Admin"},{key:"deletePharmacy",label:"Delete"}],totalRows:1,currentPage:1,perPage:5,infoModal:{id:"info-modal",title:"",content:""},fireModal:{id:"fire-modal",title:"",content:""}}},mounted:function(){var t=this;t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/getAllWithAdmins",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.items=e.data,t.totalRows=t.items.length,console.log(t.items)})).catch((function(t){console.log(t)})),t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacyAdmin/getUnemployedAdmins",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.admins=e.data})).catch((function(t){console.log(t)}))},methods:{deletePharmacy:function(t){var e=this;e.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/delete/"+parseInt(t.item.id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(){var a=e.items.indexOf(t.item);e.items.splice(a,1),e.showAlert=!1,e.showSuccess=!0,e.showAdminAcceptance=!1})).catch((function(t){console.log(t),e.showAlert=!0}))},info:function(t,e){this.infoModal.title="Add admin to pharmacy:",this.pharmacy=t,this.$root.$emit("bv::show::modal",this.infoModal.id,e)},fireInfo:function(t,e){this.pharmacy=t,this.fireModal.title="Fire admin from pharmacy",this.allAdmins=this.pharmacy.admins,console.log(this.pharmacy),console.log(this.allAdmins),this.$root.$emit("bv::show::modal",this.fireModal.id,e)},resetInfoModal:function(){this.fireModal.title="",this.fireModal.content="",this.infoModal.title="",this.infoModal.content=""},fireAdmins:function(){var t=this;console.log(this.fired),this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacyAdmin/firePharmacyAdmin",{id:this.pharmacy.id,name:this.pharmacy.name,admins:[this.fired]},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){if(null!=e.data){t.showAdminFired=!0;for(var a=0,s=0;s<t.allAdmins.length;s++){if(t.allAdmins[s].email==t.fired)break;a++}t.allAdmins.splice(a,1),t.fired=null}})).catch((function(e){console.log(e),t.showAlert=!0,this.refreshData()}))},refreshData:function(){var t=this;t.axios.get("/api/pharmacy/getAllWithAdmins",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.items=e.data,t.totalRows=t.items.length,console.log(t.items)})).catch((function(t){console.log(t)})),t.axios.get("/api/pharmacyAdmin/getUnemployedAdmins",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.admins=e.data})).catch((function(t){console.log(t)}))},setAdmins:function(){var t=this;this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacyAdmin/updatePharmacyToAdmin",{name:this.added.name,email:this.added.email,lastName:this.added.lastName,phoneNumber:this.added.phoneNumber,pharmacy:{id:this.pharmacy.id,name:this.pharmacy.name}},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){if(null!=e.data){t.showAdminAcceptance=!0;for(var a=0,s=0;s<t.admins.length;s++){if(t.admins[s].email==t.added.email)break;a++}t.admins.splice(a,1),t.added=[]}})).catch((function(e){console.log(e),t.showAlert=!0}))}}}),Ni=Di,ji=Object(c["a"])(Ni,Pi,Ii,!1,null,null,null),Fi=ji.exports,Oi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{scopedSlots:t._u([{key:"actions",fn:function(e){return[a("b-button",{attrs:{size:"sm"},on:{click:function(t){return t.stopPropagation(),e.toggleDetails(t)}}},[t._v(" "+t._s(e.detailsShowing?"Hide":"Show")+" Details ")])]}}])},[a("div",{staticClass:"card-header",staticStyle:{"background-color":"#ccffbc"}},[t._v("ePrescriptions")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showNoPrescription,callback:function(e){t.showNoPrescription=e},expression:"showNoPrescription"}},[t._v(" You have no ePrescriptions. ")]),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-input-group",{attrs:{size:"md"}},[a("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1)],1),t._l(this.ePrescriptions,(function(e){return a("div",{key:e.id,staticClass:"col-lg-12",attrs:{value:e}},[a("b-row",{staticClass:"card-header eprescription-header",attrs:{selectable:""},on:{click:function(e){return t.log()}}},[a("b-col",[a("div",[t._v("ePrescription ID: "+t._s(e.id))])]),a("b-col",[a("div",{staticStyle:{"text-align":"center"}},[t._v("Expiry Date: "+t._s(t.formatDate(e.expiryDate)))])])],1),a("b-row",{staticClass:"mb-4"},[a("b-table",{ref:"table",refInFor:!0,staticStyle:{"border-bottom":"1px solid lightgrey"},attrs:{fixed:"",items:e.medicine,fields:t.fields,responsive:"sm","sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,striped:"",hover:"",selectable:"","filter-included-fields":t.filterOn,"select-mode":"single",small:""},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered}})],1)],1)}))],2)},Ei=[],Ri={data:function(){return{fields:[{key:"name",sortable:!0,label:"Medicament"},{key:"quantity",sortable:!0,label:"Quantity"}],ePrescriptions:[],items:[],selectMode:"single",sortBy:"date",sortDesc:!1,filter:null,filterOn:[],totalRows:1,totalRows1:1,new:[],showNoPrescription:!1}},mounted:function(){this.loadePrescriptions()},methods:{loadePrescriptions:function(){var t=this,e=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub;console.log(e),this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/patients/eprescription/".concat(e)).then((function(e){t.ePrescriptions=e.data})).catch((function(e){t.showNoPrescription=!0,console.log(e.response)}))},formatDate:function(t){return"".concat(t[0],"/").concat(t[1],"/").concat(t[2])},onFiltered:function(t){self.totalRows=t.length}}},Ti=Ri,$i=(a("6216"),Object(c["a"])(Ti,Oi,Ei,!1,null,"2e183622",null)),zi=$i.exports,Bi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"justify-content-center"},[a("h3",[t._v("Loyalty Program")]),a("hr"),a("div",{staticClass:"categoriesPart row justify-content-center"},t._l(this.categories,(function(t){return a("div",{key:t.id,staticClass:"offset-md-1 offset-sm-0"},[a("div",[a("CategoryComponent",{attrs:{category:t}})],1)])})),0),a("hr"),a("div",{staticClass:"pointsPart row justify-content-center"},t._l(this.points,(function(t){return a("div",{key:t.id,staticClass:"offset-md-1 offset-sm-0"},[a("div",[a("PointsComponent",{attrs:{point:t}})],1)])})),0)])},Li=[],qi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},["GOLD"===this.category.category?a("div",[a("h5",{staticClass:"card-title gold"},[t._v(t._s(t.category.category))])]):"SILVER"===this.category.category?a("div",[a("h5",{staticClass:"card-title silver"},[t._v(t._s(t.category.category))])]):a("div",[a("h5",{staticClass:"card-title bronze"},[t._v(t._s(t.category.category))])]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showDismissibleAlert,callback:function(e){t.showDismissibleAlert=e},expression:"showDismissibleAlert"}},[t._v(" "+t._s(t.message)+" ")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showSuccessAlert,callback:function(e){t.showSuccessAlert=e},expression:"showSuccessAlert"}},[t._v(" "+t._s(t.message)+" ")]),a("label",[t._v("Threshold")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.category.threshold,expression:"category.threshold"}],staticClass:"form-control",domProps:{value:t.category.threshold},on:{input:function(e){e.target.composing||t.$set(t.category,"threshold",e.target.value)}}}),a("label",[t._v("Discount")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.category.discount,expression:"category.discount"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.category.discount},on:{input:function(e){e.target.composing||t.$set(t.category,"discount",e.target.value)}}})],1),a("div",{staticClass:"card-footer"},[a("small",[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.editCategory}},[t._v(" Edit ")])]),t._v(" "),a("small",[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.deleteCategory}},[t._v(" Delete ")])])])])},Yi=[],Hi=Object(A["a"])({name:"CategoryComponent",props:{category:Object},data:function(){return{showDismissibleAlert:!1,showSuccessAlert:!1,message:""}},methods:{editCategory:function(){var t=this;this.category.threshold>0&&this.category.discount>0&&this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/loyaltyProgram/updateCategory",{id:this.category.id,category:this.category.category,threshold:this.category.threshold,discount:this.category.discount},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){null!=e.data&&(t.message="Success! Category has been updated.",t.showSuccessAlert=!0,t.showDismissibleAlert=!1)})).catch((function(e){console.log(e),t.message="Category failed to update.",t.showDismissibleAlert=!0}))},deleteCategory:function(){var t=this;this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/loyaltyProgram/delete",{id:this.category.id,category:this.category.category,threshold:this.category.threshold,discount:this.category.discount},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){null!=e.data&&(t.message="Category has been deleted",t.showSuccessAlert=!0,t.showDismissibleAlert=!1,window.location.reload())})).catch((function(e){console.log(e),t.message="Category failed to delete.",t.showDismissibleAlert=!0}))}}}),Ji=Hi,Ui=(a("c192"),Object(c["a"])(Ji,qi,Yi,!1,null,"0dd5a1b2",null)),Wi=Ui.exports,Gi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},["EXAMINATION"===this.point.type?a("div",[a("h5",{staticClass:"card-title examination"},[t._v(t._s(t.point.type))])]):a("div",[a("h5",{staticClass:"card-title counseling"},[t._v(t._s(t.point.type))])]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showDismissibleAlert,callback:function(e){t.showDismissibleAlert=e},expression:"showDismissibleAlert"}},[t._v(" Failed to edit appointment points, ")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showSuccessAlert,callback:function(e){t.showSuccessAlert=e},expression:"showSuccessAlert"}},[t._v(" Appointment points has been edited. ")]),a("label",[t._v("Points")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.point.points,expression:"point.points"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.point.points},on:{input:function(e){e.target.composing||t.$set(t.point,"points",e.target.value)}}})],1),a("div",{staticClass:"card-footer"},[a("small",[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.editPoints}},[t._v(" Edit ")])])])])},Vi=[],Qi=Object(A["a"])({name:"PointsComponent",props:{point:Object},data:function(){return{showDismissibleAlert:!1,showSuccessAlert:!1}},methods:{editPoints:function(){var t=this;console.log(this.point),this.point.points>0&&this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/loyaltyProgram/updatePoints",{id:this.point.id,points:this.point.points,type:this.point.type},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){null!=e.data&&(t.point=e.data,t.showSuccessAlert=!0,t.showDismissibleAlert=!1)})).catch((function(e){console.log(e),t.showDismissibleAlert=!0}))}}}),Xi=Qi,Ki=(a("4e2b"),Object(c["a"])(Xi,Gi,Vi,!1,null,"3849a5b4",null)),Zi=Ki.exports,tn=Object(A["a"])({components:{CategoryComponent:Wi,PointsComponent:Zi},data:function(){return{categories:[],points:[],point:null,category:null,discount:0,threshold:0,pointValue:0}},mounted:function(){var t=this;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/loyaltyProgram/getCategories",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.categories=e.data})).catch((function(t){return console.log(t.response.data)})),this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/loyaltyProgram/getPoints",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.points=e.data})).catch((function(t){return console.log(t.response.data)}))}}),en=tn,an=Object(c["a"])(en,Bi,Li,!1,null,"7a8130e3",null),sn=an.exports,on=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Filter"},[a("b-row",[a("b-col",{staticClass:"my-1",attrs:{lg:"2"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Choose period","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-form-select",{attrs:{options:t.o},on:{change:t.findFilter},model:{value:t.f,callback:function(e){t.f=e},expression:"f"}})],1)],1),a("b-col",{staticClass:"my-1",attrs:{lg:"2"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Choose year","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-form-select",{attrs:{options:t.years},on:{change:t.findFilter},model:{value:t.y,callback:function(e){t.y=e},expression:"y"}})],1)],1)],1),!0===t.value?a("div",{staticClass:"large"},[a("line-chart",{attrs:{chartData:t.chartData,options:t.options}})],1):t._e()],1)},rn=[],nn=a("1fca"),ln=nn["b"].reactiveProp,cn={extends:nn["a"],mixins:[ln],props:{chartData:{type:Object,default:null},options:{type:Object,default:null}},mounted:function(){this.renderChart(this.chartData,this.options)}},dn={components:{LineChart:cn},data:function(){return{chartData:null,options:null,d:[],l:[],value:!1,pharmacyId:"",o:["January","February","March","April","May","June","July","August","September","October","November","December","Quarter","Year"],years:["2021","2020","2019","2018","2017"],f:0,y:0}},mounted:function(){var t=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,e=this;e.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacyAdmin/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.pharmacyId=t.data.pharmacy.id})).catch((function(t){console.log(t)}))},methods:{fillData:function(){this.chartData={labels:this.l,datasets:[{type:"bar",label:"Appointments",backgroundColor:"#ccffbc",data:this.d}]},this.options={maintainAspectRatio:!1},this.value=!0},findFilter:function(){var t=this;t.l=[],t.d=[],0!=t.y&&0!=t.f&&("January"==t.f||"February"==t.f||"March"==t.f||"April"==t.f||"May"==t.f||"June"==t.f||"July"==t.f||"August"==t.f||"September"==t.f||"October"==t.f||"November"==t.f||"December"==t.f?t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/reportAppointments/"+parseInt(t.pharmacyId)+"/"+t.f+"/"+t.y,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.monthAppoinntments.length;a++)t.l.push(e.data.monthAppoinntments[a].day),t.d.push(e.data.monthAppoinntments[a].value);t.fillData()})).catch((function(t){console.log(t)})):"Year"==t.f?t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/reportAppointments1/"+parseInt(t.pharmacyId)+"/"+t.y,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.monthAppoinntments.length;a++)t.l.push(e.data.monthAppoinntments[a].month),t.d.push(e.data.monthAppoinntments[a].value);t.fillData()})).catch((function(t){console.log(t)})):"Quarter"==t.f&&t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/reportAppointments2/"+parseInt(t.pharmacyId)+"/"+t.y,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.monthAppoinntments.length;a++)t.l.push(e.data.monthAppoinntments[a].quarter),t.d.push(e.data.monthAppoinntments[a].value);t.fillData()})).catch((function(t){console.log(t)})))}}},mn=dn,un=Object(c["a"])(mn,on,rn,!1,null,null,null),pn=un.exports,hn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Filter"},[a("b-row",[a("b-col",{staticClass:"my-1",attrs:{lg:"2"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Choose period","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-form-select",{attrs:{options:t.o},on:{change:t.findFilter},model:{value:t.f,callback:function(e){t.f=e},expression:"f"}})],1)],1),a("b-col",{staticClass:"my-1",attrs:{lg:"2"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Choose year","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-form-select",{attrs:{options:t.years},on:{change:t.findFilter},model:{value:t.y,callback:function(e){t.y=e},expression:"y"}})],1)],1)],1),!0===t.value?a("div",{staticClass:"large"},[a("line-chart",{attrs:{chartData:t.chartData,options:t.options}})],1):t._e()],1)},fn=[],bn={components:{LineChart:cn},data:function(){return{chartData:null,options:null,d:[],l:[],value:!1,tip:"",pharmacyId:"",o:["January","February","March","April","May","June","July","August","September","October","November","December","Quarter","Year"],years:["2021","2020","2019","2018","2017"],f:0,y:0}},mounted:function(){var t=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,e=this;e.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacyAdmin/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.pharmacyId=t.data.pharmacy.id})).catch((function(t){console.log(t)}))},methods:{fillData:function(){this.chartData={labels:this.l,datasets:[{type:"bar",label:"Medicaments",backgroundColor:"#ccffbc",data:this.d}]},this.options={maintainAspectRatio:!1},this.value=!0},findFilter:function(){var t=this;t.l=[],t.d=[],0!=t.y&&0!=t.f&&("January"==t.f||"February"==t.f||"March"==t.f||"April"==t.f||"May"==t.f||"June"==t.f||"July"==t.f||"August"==t.f||"September"==t.f||"October"==t.f||"November"==t.f||"December"==t.f?t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/reportMedicaments/"+parseInt(t.pharmacyId)+"/"+t.f+"/"+t.y,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.monthAppoinntments.length;a++)t.l.push(e.data.monthAppoinntments[a].day),t.d.push(e.data.monthAppoinntments[a].value);t.fillData()})).catch((function(t){console.log(t)})):"Year"==t.f?t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/reportMedicaments1/"+parseInt(t.pharmacyId)+"/"+t.y,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.monthAppoinntments.length;a++)t.l.push(e.data.monthAppoinntments[a].month),t.d.push(e.data.monthAppoinntments[a].value);t.fillData()})).catch((function(t){console.log(t)})):"Quarter"==t.f&&t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/reportMedicaments2/"+parseInt(t.pharmacyId)+"/"+t.y,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.monthAppoinntments.length;a++)t.l.push(e.data.monthAppoinntments[a].quarter),t.d.push(e.data.monthAppoinntments[a].value);t.fillData()})).catch((function(t){console.log(t)})))}}},vn=bn,gn=Object(c["a"])(vn,hn,fn,!1,null,null,null),yn=gn.exports,kn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Filter"},[a("b-row",[a("b-col",{staticClass:"my-1",attrs:{lg:"2"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Choose period","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-form-select",{attrs:{options:t.o},on:{change:t.findFilter},model:{value:t.f,callback:function(e){t.f=e},expression:"f"}})],1)],1),a("b-col",{staticClass:"my-1",attrs:{lg:"2"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Choose year","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-form-select",{attrs:{options:t.years},on:{change:t.findFilter},model:{value:t.y,callback:function(e){t.y=e},expression:"y"}})],1)],1)],1),!0===t.value?a("div",{staticClass:"large"},[a("line-chart",{attrs:{chartData:t.chartData,options:t.options}})],1):t._e()],1)},wn=[],_n={components:{LineChart:cn},data:function(){return{chartData:null,options:null,d:[],l:[],value:!1,tip:"",pharmacyId:"",o:["January","February","March","April","May","June","July","August","September","October","November","December","Quarter","Year"],years:["2021","2020","2019","2018","2017"],f:0,y:0}},mounted:function(){var t=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,e=this;e.axios.get("/api/pharmacyAdmin/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.pharmacyId=t.data.pharmacy.id})).catch((function(t){console.log(t)}))},methods:{fillData:function(){this.chartData={labels:this.l,datasets:[{type:"bar",label:"Income",backgroundColor:"#ccffbc",data:this.d}]},this.options={maintainAspectRatio:!1},this.value=!0},findFilter:function(){var t=this;t.l=[],t.d=[],0!=t.f&&0!=t.y&&("January"==t.f||"February"==t.f||"March"==t.f||"April"==t.f||"May"==t.f||"June"==t.f||"July"==t.f||"August"==t.f||"September"==t.f||"October"==t.f||"November"==t.f||"December"==t.f?t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/reportPharmacy/"+parseInt(t.pharmacyId)+"/"+t.f+"/"+t.y,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.monthAppoinntments.length;a++)t.l.push(e.data.monthAppoinntments[a].day),t.d.push(e.data.monthAppoinntments[a].value);t.fillData()})).catch((function(t){console.log(t)})):"Year"==t.f?t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/reportPharmacy1/"+parseInt(t.pharmacyId)+"/"+t.y,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.monthAppoinntments.length;a++)t.l.push(e.data.monthAppoinntments[a].month),t.d.push(e.data.monthAppoinntments[a].value);t.fillData()})).catch((function(t){console.log(t)})):"Quarter"==t.f&&t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/reportPharmacy2/"+parseInt(t.pharmacyId)+"/"+t.y,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.monthAppoinntments.length;a++)t.l.push(e.data.monthAppoinntments[a].quarter),t.d.push(e.data.monthAppoinntments[a].value);t.fillData()})).catch((function(t){console.log(t)})))}}},Cn=_n,An=Object(c["a"])(Cn,kn,wn,!1,null,null,null),Sn=An.exports,xn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-form"},[a("div",{staticClass:"card-header"},[t._v("Requests")]),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1),a("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"0","label-align-sm":"right","label-size":"sm"}},[a("b-button",{attrs:{variant:"success"},on:{click:function(e){return t.Accept(e.target)}}},[t._v("Accept")])],1)],1),a("b-col",{staticClass:"my-1",attrs:{lg:"0"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"0","label-align-sm":"right","label-size":"sm"}},[a("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.reasonModal(e.target)}}},[t._v("Reject")])],1)],1)],1),a("b-table",{ref:"table",attrs:{items:t.items,fields:t.fields,responsive:"sm","sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,striped:"",hover:"","filter-included-fields":t.filterOn,small:"","select-mode":"single",selectable:""},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},"row-selected":t.onRowSelected,filtered:t.onFiltered}}),a("b-modal",{attrs:{id:t.errorModal.id,title:t.errorModal.title,"ok-only":""},on:{ended:t.errModal,reset:t.resetModal}},[a("pre",[t._v(t._s(t.errorModal.content))])]),a("b-modal",{attrs:{id:t.reasonM.id},on:{ok:t.Reject}},[a("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[a("b-form-group",{attrs:{label:"Reason for rejection","label-for":"name-input","invalid-feedback":"Reason is required"}},[a("b-form-input",{attrs:{id:"name-input",required:""},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}})],1)],1)])],1)},Mn=[],Pn={data:function(){return{fields:[{key:"employee",sortable:!0,label:"Employee"},{key:"date1",sortable:!0,label:"Date from"},{key:"date2",sortable:!0,label:"Date to"},{key:"status",sortable:!0,label:"Status"}],items:[],selectMode:"single",sortBy:"name",sortDesc:!1,filter:null,filterOn:[],totalRows:1,totalRows1:1,new:[],errorModal:{id:"error-modal",title:"",content:""},reasonM:{id:"reason-modal"},pharmacyId:0,selected:[],reason:""}},mounted:function(){var t=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,e=this;e.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacyAdmin/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.pharmacyId=t.data.pharmacy.id,e.refresh()})).catch((function(t){console.log(t)}))},methods:{onFiltered:function(t){self.totalRows=t.length},errModal:function(){this.errorModal.title="",this.errorModal.content=""},resetModal:function(){this.reason=""},datum:function(t){return qa()(t,"YYYY-MM-DD").format("DD/MM/YYYY")},onRowSelected:function(t){this.selected=t},Accept:function(){var t=this;0==t.selected.length?(t.errorModal.title="Error",t.errorModal.content="You need to select employee!",t.$root.$emit("bv::show::modal",t.errorModal.id)):"REJECTED"==t.selected[0].status||"ACCEPTED"==t.selected[0].status?(t.errorModal.title="Error",t.errorModal.content="You cannot accept this request!",t.$root.$emit("bv::show::modal",t.errorModal.id)):t.axios.put("https://mrs-isa-projekat-backend.herokuapp.com/api/request/update/"+parseInt(t.selected[0].id),{id:t.selected[0].id,accepted:!0,rejectionReason:""},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e),t.selected=[],t.items=[],t.refresh()})).catch((function(e){"400"==e.response.status&&(t.errorModal.content="You cannot accept this request!",t.$root.$emit("bv::show::modal",t.errorModal.id))}))},reasonModal:function(t){0==this.selected.length?(this.errorModal.title="Error",this.errorModal.content="You need to select employee!",this.$root.$emit("bv::show::modal",this.errorModal.id)):this.$root.$emit("bv::show::modal",this.reasonM.id,t)},Reject:function(){var t=this;"REJECTED"==t.selected[0].status||"ACCEPTED"==t.selected[0].status?(t.errorModal.title="Error",t.errorModal.content="You cannot accept this request!",t.$root.$emit("bv::show::modal",t.errorModal.id)):this.axios.put("https://mrs-isa-projekat-backend.herokuapp.com/api/request/update/"+parseInt(t.selected[0].id),{id:t.selected[0].id,accepted:!1,rejectionReason:t.reason},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e),t.selected=[],t.items=[],t.refresh()})).catch((function(e){"400"==e.response.status&&(t.errorModal.content="You cannot accept this request!",t.$root.$emit("bv::show::modal",t.errorModal.id))}))},refresh:function(){var t=this;t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/pharmacy/requests/"+t.pharmacyId,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var a=0;a<e.data.length;a++){console.log(e.data[a]);var s={};s.id=e.data[a].id,s.employee=e.data[a].employee.name+" "+e.data[a].employee.lastName,s.employeeEmail=e.data[a].employee.email,s.date1=t.datum(e.data[a].dateFrom),s.date2=t.datum(e.data[a].dateTo),0==e.data[a].accepted&&0==e.data[a].deleted?s.status="PENDING":0==e.data[a].accepted&&1==e.data[a].deleted?s.status="REJECTED":1==e.data[a].accepted&&1==e.data[a].deleted&&(s.status="ACCEPTED"),t.items.push(s)}t.totalRows=t.items.length}))}}},In=Pn,Dn=(a("8299"),Object(c["a"])(In,xn,Mn,!1,null,"73ffd56e",null)),Nn=Dn.exports,jn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showDismissibleAlert,callback:function(e){t.showDismissibleAlert=e},expression:"showDismissibleAlert"}},[t._v(" Category registration failed! ")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showSuccessAlert,callback:function(e){t.showSuccessAlert=e},expression:"showSuccessAlert"}},[t._v(" Success! You registered a new category. ")]),a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("Register Category")]),a("div",{staticClass:"card-body"},[a("form",{on:{submit:t.formSubmit}},[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-12"},[a("label",{attrs:{name:"category"}},[t._v("Category")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.category},on:{input:function(e){e.target.composing||(t.category=e.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-12"},[a("label",{attrs:{name:"threshold"}},[t._v("Threshold")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.threshold,expression:"threshold"}],staticClass:"form-control",attrs:{type:"number",required:""},domProps:{value:t.threshold},on:{input:function(e){e.target.composing||(t.threshold=e.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-12"},[a("label",{attrs:{name:"discount"}},[t._v("Discount")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.discount,expression:"discount"}],staticClass:"form-control",attrs:{type:"number",required:""},domProps:{value:t.discount},on:{input:function(e){e.target.composing||(t.discount=e.target.value)}}})])]),t._m(0)])])])])],1)},Fn=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12"},[a("button",{staticClass:"btn btn-success"},[t._v("Submit")])])}],On={data:function(){return{showDismissibleAlert:!1,showSuccessAlert:!1,id:"",category:"",threshold:0,discount:0}},mounted:function(){},methods:{formSubmit:function(t){var e=this,a=!1;t.preventDefault(),isNaN(this.id)&&(a=!0),this.threshold<0&&(a=!0),0==a?this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/loyaltyProgram/add",{category:this.category,threshold:this.threshold,discount:this.discount},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){null!=t.data&&(e.showSuccessAlert=!0)})).catch((function(t){console.log(t),e.showDismissibleAlert=!0})):e.showDismissibleAlert=!0}},name:"AddCategory"},En=On,Rn=(a("3255"),Object(c["a"])(En,jn,Fn,!1,null,"5cbd08d6",null)),Tn=Rn.exports,$n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{scopedSlots:t._u([{key:"actions",fn:function(e){return[a("b-button",{attrs:{size:"sm"},on:{click:function(t){return t.stopPropagation(),e.toggleDetails(t)}}},[t._v(" "+t._s(e.detailsShowing?"Hide":"Show")+" Details ")])]}}])},[a("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showSuccessAlert,callback:function(e){t.showSuccessAlert=e},expression:"showSuccessAlert"}},[t._v(" Success! You purchased your medicaments. ")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showFailedAlert,callback:function(e){t.showFailedAlert=e},expression:"showFailedAlert"}},[t._v(" Failed to purchase medicaments. ")]),a("div",{staticClass:"card-header",staticStyle:{"background-color":"#ccffbc"}},[t._v("QR Code Reader")]),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}}),a("input",{attrs:{type:"file"},on:{change:t.fileSelected}})],1)],1),a("b-row",{staticClass:"mb-4"},[a("b-table",{ref:"table",staticStyle:{"border-bottom":"1px solid lightgrey"},attrs:{fixed:"",items:t.items,fields:t.fields,responsive:"sm","sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,striped:"",hover:"",selectable:"","filter-included-fields":t.filterOn,"select-mode":"single",small:""},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(show_details)",fn:function(e){return[a("b-button",{staticClass:"mr-2",attrs:{size:"sm"},on:{click:e.toggleDetails}},[t._v(" "+t._s(e.detailsShowing?"Hide":"Show")+" Details ")])]}},{key:"cell(update)",fn:function(e){return[a("b-button",{staticClass:"mr-2",attrs:{disabled:t.isActive,size:"sm"},on:{click:function(a){return t.purchase(e)}}},[t._v(" Purchase ")])]}},{key:"row-details",fn:function(e){return[a("b-card",[t._l(t.qrCodeItem.qrCode.prescriptionMedicaments,(function(e){return a("div",{key:e.medicamentId,attrs:{value:e}},[a("b-row",{staticClass:"mb-2"},[a("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[a("b",[t._v("Medicament: ")])]),t._v(" ("+t._s(e.medicamentId)+") "+t._s(e.name)+" ")],1),a("b-row",{staticClass:"mb-2"},[a("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[a("b",[t._v("Quantity: ")])]),t._v(" "+t._s(e.quantity)+" ")],1),a("b-row",{staticClass:"mb-2"},[a("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[a("b",[t._v("Points: ")])]),t._v(" "+t._s(e.points)+" ")],1)],1)})),a("b-button",{attrs:{size:"sm"},on:{click:e.toggleDetails}},[t._v("Hide Details")])],2)]}}])})],1)],1)},zn=[],Bn=(a("b680"),{data:function(){return{fields:[{key:"name",sortable:!0,label:"Pharmacy"},{key:"address",sortable:!0,label:"Address",formatter:function(t){return t.street+" "+t.number}},{key:"rating",sortable:!0,label:"Rating"},{key:"cost",sortable:!0,label:"TotalPrice",formatter:function(t){return t.toFixed(2)}},{key:"show_details",label:"Medicaments"},{key:"update",label:"Buy"}],isActive:!1,showSuccessAlert:!1,showFailedAlert:!1,items:[],selectMode:"single",sortBy:"date",sortDesc:!1,filter:null,filterOn:[],totalRows:1,totalRows1:1,selectedFile:"",new:[],username:"",qrCodeItem:null,addressFormat:""}},methods:{fileSelected:function(t){var e=this;this.username=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub,this.selectedFile=t.target.files[0].name,this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/patients/uploadQRCode/".concat(this.selectedFile,",").concat(this.username)).then((function(t){e.qrCodeItem=t.data,e.items=e.qrCodeItem.pharmacySet,e.isActive=!1,console.log(e.qrCodeItem)})).catch((function(t){console.log(t),e.showFailedAlert=!0,e.showSuccessAlert=!1}))},purchase:function(t){var e=this;this.qrCodeItem.pharmacy=t.item,this.qrCodeItem.qrCode.patient=this.username,console.log(this.qrCodeItem),this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api/patients/addEPrescription",{pharmacy:t.item,qrCode:this.qrCodeItem.qrCode},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.showFailedAlert=!1,e.showSuccessAlert=!0,e.isActive=!0,console.log(t)})).catch((function(t){e.showFailedAlert=!0,e.showSuccessAlert=!1,console.log(t)}))}}}),Ln=Bn,qn=(a("eea5"),Object(c["a"])(Ln,$n,zn,!1,null,"3aca9e7e",null)),Yn=qn.exports,Hn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-bottom":"20px"}},[a("div",[a("b-row",{staticClass:"text-center"},[a("b-col"),a("b-col",{attrs:{cols:"10"}},[a("div",{staticClass:"work-calendar"},[a("FullCalendar",{staticClass:"demo-app-calendar",attrs:{options:t.calendarOptions}})],1)]),a("b-col")],1)],1),a("b-modal",{ref:"info-modal",attrs:{"hide-footer":"",title:"Details"}},[a("div",{staticClass:"d-block text-center"},[a("h3",[t._v("Appointment info")]),a("p",[t._v("Type: "+t._s(t.appointmentStatusToText(t.chosenAppointment.status)))]),"dermatologist"===t.type?a("p",[t._v("Pharmacy: "+t._s(t.chosenAppointment.pharmacyName))]):t._e(),"slot"!==t.chosenAppointment.status?a("p",[t._v("Patient: "+t._s(t.chosenAppointment.patientName)+" "+t._s(t.chosenAppointment.patientLastName))]):t._e()]),"done"===t.chosenAppointment.status?a("b-button",{staticClass:"mt-3",attrs:{variant:"outline-primary",block:""},on:{click:t.showReportDetails}},[t._v("Show details")]):t._e(),t.scheduledAppointmentIsUpcoming||"started"===t.chosenAppointment.status?a("b-button",{staticClass:"mt-3",attrs:{variant:"dark",block:""},on:{click:t.startAppointment}},[t._v("Start appointment")]):t._e(),a("b-button",{staticClass:"mt-3",attrs:{variant:"outline-danger",block:""},on:{click:t.hideInfoModal}},[t._v("Close")])],1),a("b-modal",{ref:"report-info-modal",attrs:{"hide-footer":"",title:"Report Details"}},[a("div",{staticClass:"d-block text-center"},[a("h3",[t._v("Report text")]),a("p",[t._v(t._s(this.chosenAppointmentInfo))])]),Object.keys(t.chosenAppointmentPrescribedMedicine).length>0?a("div",{staticClass:"d-block text-center"},[a("h3",[t._v("Prescribed medicines")]),a("b-list-group",t._l(t.chosenAppointmentPrescribedMedicine,(function(e,s){return a("b-list-group-item",{key:s,staticClass:"d-flex justify-content-between align-items-center"},[t._v(" "+t._s(s)+" "),a("b-badge",{attrs:{variant:"primary",pill:""}},[t._v(t._s(e))])],1)})),1)],1):t._e(),a("b-button",{staticClass:"mt-3",attrs:{variant:"outline-primary",block:""},on:{click:t.hideReportInfoModal}},[t._v("Close")])],1),a("b-modal",{ref:"error-modal",attrs:{"hide-footer":"",title:"Error"}},[a("div",{staticClass:"d-block text-center"},[a("p",[t._v("Error! Another appointment most likely in progress.")])]),a("b-button",{staticClass:"mt-3",attrs:{variant:"outline-danger",block:""},on:{click:t.hideErrorModal}},[t._v("Close")])],1)],1)},Jn=[],Un=a("f5ff"),Wn=a("3cdd"),Gn=a("3e32"),Vn=a("e44e"),Qn={components:{FullCalendar:Un["a"]},data:function(){return{calendarOptions:{plugins:[Wn["b"],Gn["a"],Vn["a"]],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listYear"},initialView:"dayGridMonth",editable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,eventClick:this.handleEventClick,events:this.loadEvents,height:"70vh"},chosenAppointment:{},chosenAppointmentInfo:"",chosenAppointmentPrescribedMedicine:[],scheduledAppointmentIsUpcoming:!1,type:""}},methods:{handleEventClick:function(t){if(console.log(t.event.extendedProps),this.chosenAppointment=t.event.extendedProps.data,this.scheduledAppointmentIsUpcoming=!1,"scheduled"===this.chosenAppointment.status){var e=new Date(this.chosenAppointment.dateEndStr),a=new Date;a<e&&(this.scheduledAppointmentIsUpcoming=!0)}this.showInfoModal()},loadEvents:function(t,e,a){var s=this,o=t.startStr,r=t.endStr;console.log("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/".concat(this.type,"/appointments/calendar?startDateStr=").concat(encodeURIComponent(o),"&endDateStr=").concat(encodeURIComponent(r))),this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/".concat(this.type,"/appointments/calendar?startDateStr=").concat(encodeURIComponent(o),"&endDateStr=").concat(encodeURIComponent(r)),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){var a=t.data,o=a.map((function(t){var e="";switch(t.status){case"slot":e="green";break;case"done":e="red";break;case"started":e="orange";break;case"scheduled":e="blue";break;default:e="black";break}var a=s.appointmentStatusToText(t.status),o={title:a,start:t.dateStartStr,end:t.dateEndStr,data:t,color:e};return o}));e(o).map((function(t){return t}))})).catch((function(t){a(t),console.log(t)}))},appointmentStatusToText:function(t){switch(t){case"slot":return"Appointment slot ";case"done":return"Finished appointment ";case"started":return"Appointment in progress ";case"scheduled":return"Scheduled appointment ";default:return"ERROR"}},showReportDetails:function(){var t=this;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/appointments/".concat(this.chosenAppointment.appointmentId,"/details"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.chosenAppointmentInfo=e.data.text,t.chosenAppointmentPrescribedMedicine=e.data.medicineQuantity,t.showReportInfoModal()})).catch((function(e){t.chosenAppointmentPrescribedMedicine=[],console.log(e)}))},startAppointment:function(){var t=this,e=this.chosenAppointment.appointmentId;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/appointments/".concat(e,"/start"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(a){var s=a.data,o="dermatologist"===t.type?"dermatologist/examination":"pharmacist/counseling";t.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/".concat(o,"/").concat(e,"/upcoming"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){var a=e.data;a.medicalReportId=s;var o="dermatologist"===t.type?"DermatologistPageAppointmentPage":"PharmacistPageAppointmentPage";t.$router.push({name:o,params:{appointment:a,medicalReportId:s}})})).catch((function(t){console.log(t)}))})).catch((function(e){t.showErrorModal(),console.log(e)}))},hideInfoModal:function(){this.$refs["info-modal"].hide()},showInfoModal:function(){this.$refs["info-modal"].show()},hideReportInfoModal:function(){this.$refs["report-info-modal"].hide()},showReportInfoModal:function(){this.$refs["report-info-modal"].show()},showErrorModal:function(){this.$refs["error-modal"].show()},hideErrorModal:function(){this.$refs["error-modal"].hide()}},created:function(){this.type=this.$route.query.type}},Xn=Qn,Kn=Object(c["a"])(Xn,Hn,Jn,!1,null,null,null),Zn=Kn.exports,tl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-container",[a("h1",[t._v("Request days off")]),a("b-row",{staticClass:"text-center"},[t.requests.length>0?a("b-table",{attrs:{striped:"",hover:"",items:t.requests,fields:t.requestsFields,"caption-top":""},scopedSlots:t._u([{key:"table-caption",fn:function(){return[t._v("Requests")]},proxy:!0}],null,!1,3843405730)}):t._e()],1),a("b-row",{staticClass:"text-center"},[a("b-col"),a("b-col",{attrs:{cols:"10"}},[a("div",{staticStyle:{margin:"25px"}},[a("b-form-textarea",{attrs:{id:"textarea",placeholder:"Description...",rows:"10","max-rows":"20"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)]),a("b-col")],1),a("b-row",{staticClass:"text-center"},[a("b-col"),a("b-col",{attrs:{cols:"3"}},[a("label"),a("label",{attrs:{for:"dd"}},[t._v(" Date of leave: ")]),a("div",[a("b-form-datepicker",{staticClass:"mb-2",attrs:{min:t.minDate,locale:"en"},model:{value:t.dateFrom,callback:function(e){t.dateFrom=e},expression:"dateFrom"}})],1),a("label"),a("label",{attrs:{for:"dd"}},[t._v(" Date of return: ")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{min:t.minDate,locale:"en"},model:{value:t.dateTo,callback:function(e){t.dateTo=e},expression:"dateTo"}})],1),a("b-col")],1),a("b-row",{staticClass:"text-center",staticStyle:{"margin-top":"25px"}},[a("b-col"),a("b-col",{attrs:{cols:"3"}},[a("div",{staticStyle:{"text-align":"center"}},[a("b-button",{attrs:{variant:"secondary"},on:{click:t.onSendRequest}},[t._v("Send request")])],1)]),a("b-col")],1),a("b-modal",{ref:"error-modal",attrs:{"hide-footer":"",title:"Error"}},[a("div",{staticClass:"d-block text-center"},[a("p",[t._v(t._s(this.errorMessage))])]),a("b-button",{staticClass:"mt-3",attrs:{variant:"outline-danger",block:""},on:{click:t.hideErrorModal}},[t._v("Close")])],1),a("b-modal",{ref:"success-modal",attrs:{"hide-footer":"",title:"Success"}},[a("div",{staticClass:"d-block text-center"},[a("p",[t._v("Request successfully submitted.")])]),a("b-button",{staticClass:"mt-3",attrs:{variant:"outline-success",block:""},on:{click:t.hideSuccessModal}},[t._v("Close")])],1)],1)],1)},el=[],al=a("5530"),sl={name:"RequestDaysOff",data:function(){return{dateFrom:"",dateTo:"",description:"",minDate:new Date,requests:[],requestsFields:[{key:"dateFrom",headerTitle:"Date of leave",label:"Date of leave"},{key:"dateTo",headerTitle:"Date of return",label:"Date of return"},{key:"status",headerTitle:"Status",label:"Status"}],errorMessage:"",type:""}},methods:{loadRequests:function(){var t=this;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/request/".concat(this.type),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){var a=e.data;a=a.map((function(t){var e="";return e=t.accepted?"APPROVED":t.rejectionReason?"REJECTED":"PENDING",Object(al["a"])(Object(al["a"])({},t),{},{status:e})})),a.forEach((function(t){t["dateFrom"]=new Date(t["dateFrom"]).toLocaleDateString(),t["dateTo"]=new Date(t["dateTo"]).toLocaleDateString()})),t.requests=a})).catch((function(t){console.log(t)}))},onSendRequest:function(){var t=this,e={dateFrom:this.dateFrom,dateTo:this.dateTo,description:this.description};this.axios.post("https://mrs-isa-projekat-backend.herokuapp.com/api"+"/request/".concat(this.type),e,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(){t.showSuccessModal(),t.loadRequests()})).catch((function(e){t.errorMessage=e.response.data,t.showErrorModal()}))},hideErrorModal:function(){this.$refs["error-modal"].hide()},hideSuccessModal:function(){this.$refs["success-modal"].hide()},showErrorModal:function(){this.$refs["error-modal"].show()},showSuccessModal:function(){this.$refs["success-modal"].show()}},mounted:function(){this.type=this.$route.query.type,this.loadRequests()}},ol=sl,rl=Object(c["a"])(ol,tl,el,!1,null,null,null),il=rl.exports,nl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{attrs:{dismissible:"",fade:"",variant:"success"},model:{value:t.showSuccessAlert,callback:function(e){t.showSuccessAlert=e},expression:"showSuccessAlert"}},[t._v(" Success! You deleted user. ")]),a("b-alert",{attrs:{dismissible:"",fade:"",variant:"danger"},model:{value:t.showFailedAlert,callback:function(e){t.showFailedAlert=e},expression:"showFailedAlert"}},[t._v(" "+t._s(t.message)+" ")]),a("b-row",[a("b-col",{staticClass:"my-3",attrs:{lg:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-for":"filter-input","label-cols-sm":"2","label-align-sm":"left","label-size":"sm"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Type to Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1)],1),a("b-table",{attrs:{id:"my-table",items:t.items,fields:t.fields,filter:t.filter,"filter-included-fields":t.filterOn,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection,"head-variant":t.headVariant,small:!1,fixed:!0,stacked:"md","show-empty":"",striped:""},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(deleteUser)",fn:function(e){return[a("b-button",{staticClass:"mr-2",attrs:{size:"sm"},on:{click:function(a){return t.deleteUser(e)}}},[t._v(" Delete ")])]}}])})],1)},ll=[],cl=Object(A["a"])({data:function(){return{items:[],fields:[{key:"name",label:"Name",sortable:!0},{key:"lastName",label:"Lastname",sortable:!0},{key:"email",label:"Email",sortable:!0},{key:"number",label:"Phone number",sortable:!0},{key:"role",label:"Role",sortable:!0},{key:"deleteUser",label:"Delete"}],totalRows:1,currentPage:1,perPage:5,sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],deleted:null,admin:"",showSuccessAlert:!1,showFailedAlert:!1,headVariant:"dark",message:""}},computed:{sortOptions:function(){return this.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.label,value:t.key}}))}},mounted:function(){this.admin=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).sub;var t=this;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/users/getUsers/"+this.admin,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.items=e.data})).catch((function(t){console.log(t)})),this.totalRows=this.items.length},methods:{deleteUser:function(t){console.log(t.item.email);var e=this;this.axios.get("https://mrs-isa-projekat-backend.herokuapp.com/api/users/deleteUser/"+t.item.email,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(a){e.deleted=a.data,e.showFailedAlert=!1,e.showSuccessAlert=!0;var s=e.items.indexOf(t.item);console.log(s),e.items.splice(s,1)})).catch((function(t){403==t.response.status?e.message="This dermatologist cannot be deleted":e.message="Failed to delete user.",e.showFailedAlert=!0}))},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1}}}),dl=cl,ml=Object(c["a"])(dl,nl,ll,!1,null,"7ab60948",null),ul=ml.exports;o["default"].use(w["a"]);var pl={AdminPharmacy:"ROLE_PHARMACY_ADMIN",Dermatologist:"ROLE_DERMATOLOGIST",Pharmacist:"ROLE_PHARMACIST",SystemAdmin:"ROLE_SYSTEM_ADMIN",Supplier:"ROLE_SUPPLIER",Patient:"ROLE_PATIENT"},hl=[{path:"/",name:la,component:la,redirect:"/UnregisteredPage/PharmacyList"},{path:"/Login",name:"Login",component:os},{path:"/SuccessActivation",name:"SuccessActivation",component:_s},{path:"/FailedActivation",name:"FailedActivation",component:no},{path:"/PharmacyPreview/:id",name:"PharmacyPreview",component:ft,props:!0},{path:"/MedicamentList",name:"MedicamentListPreview",component:aa},{path:"/PatientPage",name:"PatientPage",component:bs,children:[{path:"MedicamentList",component:aa},{path:"MedicamentInPharmacy/:id",component:Ke},{path:"PharmacyList",component:me},{path:"ChangePassword",name:"ChangePassword",component:Xr,meta:{roles:[pl.Patient]}}]},{path:"/SystemAdminPage",name:"SystemAdminPage",component:wt,children:[{path:"",meta:{roles:[pl.SystemAdmin]},component:aa},{path:"LoyaltyProgram",component:sn,meta:{roles:[pl.SystemAdmin]}},{path:"MedicamentList",component:aa},{path:"MedicamentInPharmacy/:id",component:Ke},{path:"pharmacyRegistration",component:Pt,meta:{roles:[pl.SystemAdmin]}},{path:"PharmacyPreview/:id",name:"PharmacyPreview",component:ft,props:!0},{path:"answeredComplaints",component:fi,meta:{roles:[pl.SystemAdmin]}},{path:"unansweredComplaints",component:Bs,meta:{roles:[pl.SystemAdmin]}},{path:"userRegister/:userRole",component:Ot,meta:{roles:[pl.SystemAdmin]}},{path:"PharmacyAdminRegistration",component:zo,meta:{roles:[pl.SystemAdmin]}},{path:"PharmacyList",component:me},{path:"PharmacyList/:query",component:me,props:!0},{path:"deletePharmacy",component:Fi,meta:{roles:[pl.SystemAdmin]}},{path:"MedicamentRegistration",component:Ye,meta:{roles:[pl.SystemAdmin]}},{path:"CrudMedicament",component:Mi,meta:{roles:[pl.SystemAdmin]}},{path:"ChangePassword",name:"ChangePassword",component:Xr,meta:{roles:[pl.SystemAdmin]}},{path:"Users",name:"Users",component:ul,meta:{roles:[pl.SystemAdmin]}},{path:"PatientProfile",component:wi,meta:{roles:[pl.SystemAdmin]}},{path:"AddCategory",component:Tn,meta:{roles:[pl.SystemAdmin]}}]},{path:"/UnregisteredPage",component:la,children:[{path:"PharmacyList",component:me},{path:"MedicamentList",component:aa},{path:"MedicamentInPharmacy/:id",component:Ke},{path:"PharmacyList/:query",component:me,props:!0},{path:"PatientRegistration",component:ha}]},{path:"/Logout",name:"Logout",component:ds},{path:"/PharmacistPage",name:"PharmacistPage",redirect:"/PharmacistPage/MedicamentList",component:Wt,children:[{path:"PharmacyList",name:"PharmacistPagePharmacyList",component:me},{path:"PharmacyPreview/:id",name:"PharmacyPreview",component:ft,props:!0},{path:"MedicamentList",component:aa},{path:"MedicamentInPharmacy/:id",component:Ke},{path:"PharmacyList/:query",component:me,props:!0},{path:"SearchPatients",component:ja,meta:{roles:[pl.Pharmacist]}},{path:"ExaminationSearch",component:fo,meta:{roles:[pl.Pharmacist]}},{path:"AppointmentPage",name:"PharmacistPageAppointmentPage",component:Mo,props:!0,meta:{roles:[pl.Pharmacist]}},{path:"ExaminedPatients",component:Fo,props:!0,meta:{roles:[pl.Pharmacist]}},{path:"DispenseMedication",component:$a,meta:{roles:[pl.Pharmacist]}},{path:"ExaminedPatients",component:Fo,props:!0,meta:{roles:[pl.Pharmacist]}},{path:"ChangePassword",name:"ChangePassword",component:Xr,meta:{roles:[pl.Pharmacist]}},{path:"WorkCalendar",name:"PharmacistWorkCalendar",component:Zn,meta:{roles:[pl.Pharmacist]}},{path:"RequestDaysOff",name:"PharmacistRequestDaysOff",component:il,meta:{roles:[pl.Pharmacist]}},{path:"PatientProfile",component:wi,meta:{roles:[pl.Pharmacist]}}]},{path:"/DermatologistPage",name:"DermatologistPage",redirect:"/DermatologistPage/MedicamentList",component:Ka,children:[{path:"PharmacyList",name:"DermatologistPagePharmacyList",component:me},{path:"PharmacyPreview/:id",name:"PharmacyPreview",component:ft,props:!0},{path:"MedicamentInPharmacy/:id",component:Ke},{path:"MedicamentList",component:aa},{path:"PharmacyList/:query",component:me,props:!0},{path:"SearchPatients",component:ja,meta:{roles:[pl.Dermatologist]}},{path:"ExaminationSearch",component:fo,meta:{roles:[pl.Dermatologist]}},{path:"AppointmentPage",name:"DermatologistPageAppointmentPage",component:Mo,props:!0,meta:{roles:[pl.Dermatologist]}},{path:"ExaminedPatients",component:Fo,props:!0,meta:{roles:[pl.Dermatologist]}},{path:"ChangePassword",name:"ChangePassword",component:Xr,meta:{roles:[pl.Dermatologist]}},{path:"WorkCalendar",name:"DermatologistWorkCalendar",component:Zn,meta:{roles:[pl.Dermatologist]}},{path:"RequestDaysOff",name:"DermatologistRequestDaysOff",component:il,meta:{roles:[pl.Dermatologist]}},{path:"PatientProfile",component:wi,meta:{roles:[pl.Dermatologist]}}]},{path:"/PharmacyAdminPage",name:"PharmacyAdminPage",redirect:"/PharmacyAdminPage/PharmacyPreview",component:Ce,children:[{path:"pharmacyList/:query",component:me},{path:"PharmacyPreview/:id",name:"PharmacyPreview",component:ft,props:!0},{path:"medicamentList",component:aa},{path:"MedicamentInPharmacy/:id",component:Ke},{path:"MedicamentTable",component:ka,meta:{roles:[pl.AdminPharmacy]}},{path:"PharmacistTable",component:Ee,meta:{roles:[pl.AdminPharmacy]}},{path:"DermatologistTable",component:xa,meta:{roles:[pl.AdminPharmacy]}},{path:"PharmacistRegistration",component:ve,meta:{roles:[pl.AdminPharmacy]}},{path:"pharmacyList",component:me},{path:"pharmacyList/:query",component:me,props:!0},{path:"PricelistTable",component:Ua,meta:{roles:[pl.AdminPharmacy]}},{path:"AppointmentTable",component:Jo,meta:{roles:[pl.AdminPharmacy]}},{path:"PharmacyPreview",component:ft,meta:{roles:[pl.AdminPharmacy]}},{path:"Profile",component:Xo,meta:{roles:[pl.AdminPharmacy]}},{path:"RequestMedicaments",component:sr,meta:{roles:[pl.AdminPharmacy]}},{path:"PricelistAppointments",component:cr,meta:{roles:[pl.AdminPharmacy]}},{path:"Orders",component:Jr,meta:{roles:[pl.AdminPharmacy]}},{path:"ChangePassword",name:"ChangePassword",component:Xr,meta:{roles:[pl.AdminPharmacy]}},{path:"ReportAppointments",component:pn,meta:{roles:[pl.AdminPharmacy]}},{path:"ReportMedicaments",component:yn,meta:{roles:[pl.AdminPharmacy]}},{path:"ReportPharmacy",component:Sn,meta:{roles:[pl.AdminPharmacy]}},{path:"Request",component:Nn,meta:{roles:[pl.AdminPharmacy]}}]},{path:"/SupplierPage",name:zr,component:zr,children:[{path:"",meta:{roles:[pl.Supplier]},component:aa},{path:"PharmacyList",component:me},{path:"PharmacyPreview/:id",name:"PharmacyPreview",component:ft,props:!0},{path:"MedicamentList",meta:{roles:[pl.Supplier]},component:aa},{path:"MedicamentInPharmacy/:id",component:Ke},{path:"OrderList",component:Fr},{path:"PatientProfile",component:wi,meta:{roles:[pl.Supplier]}},{path:"ChangePassword",name:"ChangePassword",component:Xr,meta:{roles:[pl.Supplier]}},{path:"OfferList",component:wr,meta:{roles:[pl.Supplier]}}]},{path:"/PatientPage",name:bs,component:bs,children:[{path:"PharmacyList",component:me},{path:"PharmacyPreview/:id",name:"PharmacyPreview",component:ft,props:!0},{path:"MedicamentList",meta:{roles:[pl.Patient]},component:aa},{path:"QRCodeReader",component:Yn,meta:{roles:[pl.Patient]}},{path:"WriteComplaint",meta:{roles:[pl.Patient]},component:eo},{path:"ComplaintReview",component:fi,meta:{roles:[pl.Patient]}},{path:"ComplaintUnansweredReview",component:Bs,meta:{roles:[pl.Patient]}},{path:"PharmacyList/:query",component:me,props:!0},{path:"ReservedAppointmentsTable",component:Gs},{path:"PastAppointments",component:si},{path:"ReservedMedicamentsTable",component:Ps},{path:"PatientProfile",component:wi},{path:"ePrescriptions",component:zi}]},{path:"*",redirect:"/Login"}],fl=new w["a"]({mode:"history",base:"/",routes:hl}),bl=fl;fl.beforeEach((function(t,e,a){var s=t.meta.roles;if(s){var o=JSON.parse(atob(localStorage.getItem("token").split(".")[1])).role;if(s.length&&!s.includes(o))return a({path:"Login"})}a()}));var vl=a("5f5b"),gl=(a("f9e3"),a("2dd8"),a("ecee")),yl=a("c074"),kl=a("ad3d");gl["c"].add(yl["a"]),o["default"].component("fa",kl["a"]),o["default"].use(k.a,g.a),o["default"].use(vl["a"]),o["default"].config.productionTip=!1,new o["default"]({router:bl,render:function(t){return t(b)}}).$mount("#app")},5711:function(t,e,a){t.exports=a.p+"img/defaultMed.2fab0ecc.jpg"},5722:function(t,e,a){"use strict";a("9771")},5814:function(t,e,a){},"5ab0":function(t,e,a){},"5b2d":function(t,e,a){"use strict";a("c0dd")},"5b2e":function(t,e,a){},"5e21":function(t,e,a){},6122:function(t,e,a){"use strict";a("e7ff")},6216:function(t,e,a){"use strict";a("52b0")},6284:function(t,e,a){},6383:function(t,e,a){},6957:function(t,e,a){},"6cc9":function(t,e,a){"use strict";a("2e44")},7105:function(t,e,a){},"713e":function(t,e,a){t.exports=a.p+"img/medicament.4396ffbd.jpg"},7190:function(t,e,a){"use strict";a("0459")},"72e3":function(t,e,a){"use strict";a("7929")},"772c":function(t,e,a){},7929:function(t,e,a){},"7f22":function(t,e,a){},8299:function(t,e,a){"use strict";a("bb8f")},8307:function(t,e,a){"use strict";a("5e21")},"85db":function(t,e,a){"use strict";a("1af8")},"891e":function(t,e,a){},"89db":function(t,e,a){"use strict";a("2da5")},"8a26":function(t,e,a){"use strict";a("5ab0")},"8a3d":function(t,e,a){},"8b84":function(t,e,a){"use strict";a("efd3")},"8db1":function(t,e,a){"use strict";a("5814")},"8e3d":function(t,e,a){},"8e8c":function(t,e,a){"use strict";a("4b25")},9592:function(t,e,a){},9771:function(t,e,a){},"9bfa":function(t,e,a){"use strict";a("25ef")},a949:function(t,e,a){"use strict";a("0c5f")},ae25:function(t,e,a){},b44e:function(t,e,a){},b8ee:function(t,e,a){},bafa:function(t,e,a){},bb8f:function(t,e,a){},bd39:function(t,e,a){"use strict";a("dbb1")},bdaf:function(t,e,a){},c0dd:function(t,e,a){},c138:function(t,e,a){},c192:function(t,e,a){"use strict";a("20c2")},c670:function(t,e,a){"use strict";a("3610")},ccef:function(t,e,a){"use strict";a("b8ee")},cd77:function(t,e,a){},ce5e:function(t,e,a){"use strict";a("5b2e")},d200:function(t,e,a){"use strict";a("bafa")},d252:function(t,e,a){t.exports=a.p+"img/pharmacyStock.4af8536f.jpg"},dbb1:function(t,e,a){},dd1b:function(t,e,a){"use strict";a("772c")},e7c6:function(t,e,a){"use strict";a("7f22")},e7ff:function(t,e,a){},ebab:function(t,e,a){"use strict";a("0645")},eea5:function(t,e,a){"use strict";a("6383")},efd3:function(t,e,a){},f66e:function(t,e,a){"use strict";a("55bd")},f985:function(t,e,a){"use strict";a("153f")}});
//# sourceMappingURL=app.86ac6897.js.map